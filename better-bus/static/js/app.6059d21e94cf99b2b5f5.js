webpackJsonp([1],{"/4Ku":function(t,n){},"/yRs":function(t,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=a("diQi"),l=a.n(e);for(var r in e)"default"!==r&&function(t){a.d(n,t,function(){return e[t]})}(r);var s=a("4sHG");var i=function(t){a("aAJt")},o=a("VU/8")(l.a,s.a,!1,i,null,null);n.default=o.exports},"4sHG":function(t,n,a){"use strict";var e={render:function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"vue-street-view-pano-container"},[a("div",{ref:"vue-street-view-pano",staticClass:"vue-street-view-pano"}),t._v(" "),t._t("default")],2)},staticRenderFns:[]};n.a=e},"5ZbH":function(t,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=a("kXiA"),l=a.n(e);for(var r in e)"default"!==r&&function(t){a.d(n,t,function(){return e[t]})}(r);var s=a("HMU4");var i=function(t){a("EbSk")},o=a("VU/8")(l.a,s.a,!1,i,null,null);n.default=o.exports},"5cLx":function(t,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=a("Vj7G"),l=a.n(e);for(var r in e)"default"!==r&&function(t){a.d(n,t,function(){return e[t]})}(r);var s=a("HcPG"),i=a("VU/8")(l.a,s.a,!1,null,null,null);n.default=i.exports},"652l":function(t,n,a){"use strict";var e={render:function(){var t=this.$createElement;return(this._self._c||t)("input",{ref:"input",attrs:{type:"text",placeholder:this.placeholder},domProps:{value:this.value}})},staticRenderFns:[]};n.a=e},EbSk:function(t,n){},G1o2:function(t,n){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA5LjI2IDE3LjYyIj48ZGVmcz48c3R5bGU+LmNscy0xe2ZpbGw6bm9uZTtzdHJva2U6IzIzMWYyMDtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9PC9zdHlsZT48L2RlZnM+PHRpdGxlPnBpbl9tYXA8L3RpdGxlPjxnIGlkPSJMYXllcl8yIiBkYXRhLW5hbWU9IkxheWVyIDIiPjxnIGlkPSJMYXllcl8xLTIiIGRhdGEtbmFtZT0iTGF5ZXIgMSI+PGNpcmNsZSBjbGFzcz0iY2xzLTEiIGN4PSI0LjYzIiBjeT0iNC42MyIgcj0iNC4xMyIvPjxsaW5lIGNsYXNzPSJjbHMtMSIgeDE9IjQuNjMiIHkxPSI4Ljc2IiB4Mj0iNC42MyIgeTI9IjE3LjYyIi8+PC9nPjwvZz48L3N2Zz4="},HMU4:function(t,n,a){"use strict";var e={render:function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"vue-map-container"},[a("div",{ref:"vue-map",staticClass:"vue-map"}),t._v(" "),a("div",{staticClass:"vue-map-hidden"},[t._t("default")],2),t._v(" "),t._t("visible")],2)},staticRenderFns:[]};n.a=e},HcPG:function(t,n,a){"use strict";var e={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",[n("div",{ref:"flyaway"},[this._t("default")],2)])},staticRenderFns:[]};n.a=e},NHnr:function(t,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=a("sA6N"),l=a("7+uW"),r=[{lat:1.3501876639797772,lng:103.68075435161586},{lat:1.3499939281757922,lng:103.68090799868105},{lat:1.349703994807139,lng:103.6811242970823},{lat:1.3494249548560935,lng:103.68139337882394},{lat:1.3490654709080256,lng:103.6817751133442},{lat:1.3488476018227256,lng:103.68204945981506},{lat:1.3485080611939955,lng:103.68138733476405},{lat:1.348123773544702,lng:103.68075586482882},{lat:1.3477600158164431,lng:103.6800860782713},{lat:1.3473984786240119,lng:103.6794668708369},{lat:1.3471667621231465,lng:103.67895878365266},{lat:1.347106659539194,lng:103.678375594616},{lat:1.346749353941654,lng:103.67838172018526},{lat:1.3463240060279007,lng:103.67845452040433},{lat:1.34521035836084,lng:103.67845336958771},{lat:1.344959221943109,lng:103.67847425185141},{lat:1.3440077607626477,lng:103.67884410899114},{lat:1.3437159412721693,lng:103.6789618384837},{lat:1.342883009067424,lng:103.67906950741997},{lat:1.3420911366377528,lng:103.67914479956016},{lat:1.3413636193287275,lng:103.67912353217594},{lat:1.341313676874789,lng:103.67962548583728},{lat:1.3413021130178568,lng:103.6799193780123},{lat:1.3413928641544943,lng:103.68015751920643},{lat:1.3421432577727421,lng:103.68087845802302},{lat:1.3418588070009805,lng:103.68116813659663},{lat:1.341491337808021,lng:103.6816133832931},{lat:1.341371958567714,lng:103.6818306422233},{lat:1.3411996470320335,lng:103.6817944324016},{lat:1.340974054592951,lng:103.68185142934317},{lat:1.3407647252795285,lng:103.682067682445},{lat:1.3406064311199224,lng:103.68236892804498},{lat:1.3405768477472644,lng:103.68258434295649},{lat:1.3406597588659361,lng:103.68280964851374},{lat:1.3407494809689653,lng:103.68316906452173},{lat:1.3408426085621692,lng:103.68341314554209},{lat:1.340953527745337,lng:103.68359955906863},{lat:1.3411108833599983,lng:103.68372495234007},{lat:1.3413343607660688,lng:103.68381447106594},{lat:1.3415426325206206,lng:103.68385386601085},{lat:1.3418076568079131,lng:103.6838360125571},{lat:1.3421546868015468,lng:103.68375734839583},{lat:1.3424032830214456,lng:103.68370192306111},{lat:1.3426133882478617,lng:103.6836473883036},{lat:1.3428471515320608,lng:103.68364694301499},{lat:1.3430069367215163,lng:103.6837915596575},{lat:1.3431452701241007,lng:103.68394154071802},{lat:1.343281810594438,lng:103.68411320209498},{lat:1.3434358879237838,lng:103.68427413463587},{lat:1.3435611930740858,lng:103.68445652484888},{lat:1.3436774750768605,lng:103.68459063529963},{lat:1.3437999713890847,lng:103.6847649788856},{lat:1.3438290418874788,lng:103.68501308321947},{lat:1.3437953106528406,lng:103.68523369491095},{lat:1.3437677191498785,lng:103.68545665353531},{lat:1.3437163827985767,lng:103.68587390467519},{lat:1.3436531740218203,lng:103.68637220881874},{lat:1.3436751990628977,lng:103.68672864925111},{lat:1.3437720186686317,lng:103.68704634433607},{lat:1.3440510349922397,lng:103.68750559928822},{lat:1.3443407055083405,lng:103.68788543046912},{lat:1.3446786424572414,lng:103.68821161746973},{lat:1.3449728801627177,lng:103.68826459109778},{lat:1.3453586498104337,lng:103.68803358584637},{lat:1.3460125663024802,lng:103.68754508852953},{lat:1.3463818849661937,lng:103.68719573080534},{lat:1.346722069433323,lng:103.68676355987782},{lat:1.3469940574286188,lng:103.68655820325012},{lat:1.3474537481132,lng:103.6865298724174},{lat:1.3480724429687279,lng:103.68658016383642},{lat:1.3484836860547276,lng:103.68649802118534},{lat:1.3487447669855586,lng:103.68626567482943},{lat:1.3488570265424307,lng:103.68586569041008},{lat:1.3489882373577462,lng:103.68547257915134},{lat:1.3492254565523851,lng:103.68521165050561},{lat:1.3494352359574107,lng:103.68509727943683},{lat:1.3494918592822678,lng:103.68493280554185},{lat:1.3495845261044315,lng:103.6848773906845},{lat:1.34967719292302,lng:103.68489707767958},{lat:1.3496985541398687,lng:103.68500227056438},{lat:1.349639516661493,lng:103.68509778235102},{lat:1.349878144401476,lng:103.68537620821962},{lat:1.350169071985773,lng:103.68557711196127},{lat:1.35048681417511,lng:103.68574582919473},{lat:1.3509412770258657,lng:103.68578099127853},{lat:1.3514708207537163,lng:103.68576250918204},{lat:1.351978912667534,lng:103.68579230684782},{lat:1.3523241282925544,lng:103.68585280323396},{lat:1.3526693438684672,lng:103.68603131681675},{lat:1.3534468770966206,lng:103.68643959932024},{lat:1.3542136842360335,lng:103.68691225484008},{lat:1.3547445227283452,lng:103.68733394838864},{lat:1.3550153048488387,lng:103.68764671910549},{lat:1.355190917779732,lng:103.68784333759913},{lat:1.3552753611043247,lng:103.6878629302978},{lat:1.3555971361251566,lng:103.6875731611251},{lat:1.355752660703228,lng:103.68734776496876},{lat:1.3558813706913224,lng:103.68705790519721},{lat:1.3559993548410367,lng:103.68663911819453},{lat:1.3559984433112653,lng:103.68625288009639},{lat:1.355933176791378,lng:103.68589882850642},{lat:1.3557601088057654,lng:103.68549984991546},{lat:1.3555548633074805,lng:103.68516524434085},{lat:1.3551336464233976,lng:103.6845067620277},{lat:1.3547202459614198,lng:103.68390326499934},{lat:1.3543767912641498,lng:103.68337084650989},{lat:1.3539851841779946,lng:103.68279886543746},{lat:1.353379060175402,lng:103.68202840089793},{lat:1.3527193067916286,lng:103.68119490444656},{lat:1.3518986654886804,lng:103.68046869635577},{lat:1.3510163502510804,lng:103.6796727508306},{lat:1.3508567462032086,lng:103.67996410578485},{lat:1.350696500264277,lng:103.68023718819018},{lat:1.3504608523834558,lng:103.68053600303824},{lat:1.3501876639797772,lng:103.68075435161586}],s={$blue:"rgb(0,122,255)",$pink:"rgb(255,45,85)",$red:"rgb(255,59,48)",$purple:"rgb(88,86,214)",$orange:"rgb(255,149,0)"},i={props:{color:String},data:function(){return{isMounted:!1,path:r,center:{lat:1.346,lng:103.683},zoom:15,options:{strokeColor:s["$"+this.color]}}},mounted:function(){var t=this;setTimeout(function(){t.isMounted=!0},100)}},o={render:function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"googleMap__container"},[a("transition",{attrs:{name:"fade"}},[t.isMounted?a("gmap-map",{staticClass:"google__map",attrs:{center:t.center,zoom:t.zoom}},[a("gmap-polyline",{attrs:{path:t.path,options:t.options}})],1):t._e()],1)],1)},staticRenderFns:[]};var c=a("VU/8")(i,o,!1,function(t){a("jVoT")},"data-v-29b7a9f2",null).exports,u={props:{color:String}},g={render:function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("svg",{staticClass:"bus__iconSVG",class:"icon__"+t.color,attrs:{viewBox:"0 0 60 60"}},[a("g",{attrs:{id:"Layer_2","data-name":"Layer 2"}},[a("g",{attrs:{id:"Layer_1-2","data-name":"Layer 1"}},[a("circle",{attrs:{cx:"12.53",cy:"25.35",r:"4.16"}}),t._v(" "),a("circle",{attrs:{cx:"34.19",cy:"25.35",r:"4.16"}}),t._v(" "),a("path",{attrs:{d:"M40.46,0H5.64A5.63,5.63,0,0,0,0,5.64V19.72a5.63,5.63,0,0,0,5.64,\n  5.63H6.82a5.72,5.72,0,1,1,11.43,0H28.48a5.72,5.72,0,1,1,11.43,\n  0h.55a5.64,5.64,0,0,0,5.64-5.63V5.64A5.64,5.64,0,0,0,40.46,\n  0Zm1.92,12.68H39.57a8,8,0,0,1-8-8H40.8a1.58,1.58,0,0,1,1.58,1.58Z"}})])])])},staticRenderFns:[]};var d=a("VU/8")(u,g,!1,function(t){a("qzTR")},"data-v-2bee28f9",null).exports,v={props:{color:String,dragged:Object,startDrag:Function,dragging:Boolean,offsetX:Number,scrollY:Number,active:Boolean},components:{BusIcon:d},data:function(){return{crowdLevel:0,displayLevel:0}},watch:{active:function(t){t?this.setCrowdLevel():(this.crowdLevel=0,this.displayLevel=0)}},computed:{circleStyle:function(){return{"stroke-dasharray":this.crowdLevel/100*280+" 1000"}},cardStyle:function(){return{transform:"\n          translateX("+(this.dragged.x+this.offsetX)+"px)\n          translateY("+(this.dragged.y+this.scrollY)+"px)\n        "}},busIconStyle:function(){return{"margin-left":(this.dragged.x+this.offsetX)/10+"px"}},showMainCard:function(){return this.dragged.y+this.scrollY>-150},getNextBusStyle:function(){var t=this;return function(n){return{transform:"translateY("+(t.showMainCard?100*n:0)+"px)","transition-delay":50*n+"ms",opacity:t.showMainCard?1/(n+2):1}}}},methods:{setCrowdLevel:function(){var t=this;this.crowdLevel=75;var n=setInterval(function(){t.displayLevel+=1,t.displayLevel>=75&&clearInterval(n)},15)}},mounted:function(){var t=this;setTimeout(function(){t.active&&t.setCrowdLevel()},200)}},f={render:function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",[a("transition",{attrs:{name:"fade"}},[t.showMainCard?a("div",{ref:"card",staticClass:"busDetail__card",class:{dragging:t.dragging},style:t.cardStyle,on:{mousedown:t.startDrag,touchstart:t.startDrag}},[a("div",{staticClass:"bus__icon",style:t.busIconStyle},[a("svg",{staticClass:"crowdLevel"},[a("circle",{staticClass:"level__bar",attrs:{cx:"50",cy:"50",r:"45"}}),t._v(" "),a("circle",{staticClass:"level__value",class:t.color,style:t.circleStyle,attrs:{cx:"50",cy:"50",r:"45"}})]),t._v(" "),a("div",{staticClass:"level__text"},[t._v(t._s(t.displayLevel)+"%")]),t._v(" "),a("bus-icon",{attrs:{color:t.color}})],1)]):t._e()]),t._v(" "),t.active?a("div",{staticClass:"list__nextBus",class:{fade:t.showMainCard,dragging:t.dragging},style:t.cardStyle,on:{mousedown:t.startDrag,touchstart:t.startDrag}},t._l(new Array(3).fill(0),function(n,e){return a("div",{key:e,staticClass:"nextBus__item",style:t.getNextBusStyle(e)},[a("div",{staticClass:"bus__icon"})])})):t._e()],1)},staticRenderFns:[]};var h="horizontal",p="vertical",_={components:{BusMap:c,BusDetailCard:a("VU/8")(v,f,!1,function(t){a("/4Ku")},"data-v-5a12c1d2",null).exports},name:"App",data:function(){return{active:0,currentLocation:"Nanyang Drive",busColors:["blue","red"],dragging:"",start:{x:0,y:0},pos:{x:0,y:0},bufferMove:{x:0,y:0},scrollY:0,screenWidth:0,orientation:h}},computed:{getTransformOffset:function(){var t=this;return function(n){return(n-t.active)*(t.screenWidth-50)}}},methods:{startDrag:function(t){var n=t.changedTouches?t.changedTouches[0]:t;this.dragging=!0,this.start.x=n.pageX-this.bufferMove.x,this.start.y=n.pageY-this.bufferMove.y,window.addEventListener("mousemove",this.onDrag),window.addEventListener("mouseup",this.onRelease),window.addEventListener("touchmove",this.onDrag),window.addEventListener("touchend",this.onRelease)},onDrag:function(t){if(t.stopPropagation(),this.dragging){var n=t.changedTouches?t.changedTouches[0]:t;this.bufferMove.x=n.pageX-this.start.x,this.bufferMove.y=n.pageY-this.start.y,!this.orientation&&Math.abs(this.bufferMove.y)>10?this.orientation=p:!this.orientation&&Math.abs(this.bufferMove.x)>10&&(this.orientation=h),this.orientation===h?this.pos.x=this.bufferMove.x:this.orientation===p&&(this.scrollY+this.pos.y>-270||this.bufferMove.y-this.pos.y>0)&&(this.pos.y=this.bufferMove.y)}},onRelease:function(){this.dragging&&(this.dragging=!1,this.orientation===h?(Math.abs(this.bufferMove.x)>100&&(this.bufferMove.x>0?this.prevLine():this.nextLine()),this.pos.x=0):this.orientation===p&&(this.pos.y>-150&&this.scrollY>=0?this.scrollY=0:this.scrollY=Math.min(this.scrollY+this.pos.y,0),this.pos.y=0),this.clearBufferMove(),this.orientation="")},clearBufferMove:function(){this.bufferMove.x=0,this.bufferMove.y=0},prevLine:function(){this.active=Math.max(this.active-1,0),this.scrollY=0},nextLine:function(){this.active=Math.min(this.active+1,this.busColors.length-1),this.scrollY=0}},mounted:function(){var t=this;this.$nextTick(function(){var n=t.$refs.container;t.screenWidth=n.getBoundingClientRect().width}),window.addEventListener("wheel",function(t){return t.preventDefault()})}},y={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"app"}},[e("div",{ref:"container",staticClass:"app__container"},[t._l(t.busColors,function(n,a){return t.active===a?e("bus-map",{key:a,attrs:{color:t.busColors[t.active]}}):t._e()}),t._v(" "),t._l(t.busColors,function(n,a){return e("bus-detail-card",{key:n,attrs:{startDrag:t.startDrag,offsetX:t.getTransformOffset(a),scrollY:t.scrollY,active:t.active===a,orientation:t.orientation,color:n,dragged:t.pos,dragging:t.dragging}})}),t._v(" "),e("div",{staticClass:"topOverlay"}),t._v(" "),e("div",{staticClass:"currentLocation"},[e("img",{staticClass:"location__pinIcon",attrs:{src:a("G1o2")}}),t._v(" "),e("div",{staticClass:"location__text"},[t._v(t._s(t.currentLocation))])]),t._v(" "),e("div",{staticClass:"bottomOverlay"})],2)])},staticRenderFns:[]};var m=a("VU/8")(_,y,!1,function(t){a("xxLD")},null,null).exports;l.a.config.productionTip=!1,l.a.use(e,{load:{key:"AIzaSyBzlLYISGjL_ovJwAehh6ydhB56fCCpPQw"}}),new l.a({el:"#app",components:{App:m},template:"<App/>"})},T5eZ:function(t,n,a){"use strict";var e={render:function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("label",[a("span",{domProps:{textContent:t._s(t.label)}}),t._v(" "),a("input",{ref:"input",class:t.className,attrs:{type:"text",placeholder:t.placeholder}})])},staticRenderFns:[]};n.a=e},YI6p:function(t,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=a("jIen"),l=a.n(e);for(var r in e)"default"!==r&&function(t){a.d(n,t,function(){return e[t]})}(r);var s=a("T5eZ"),i=a("VU/8")(l.a,s.a,!1,null,null,null);n.default=i.exports},aAJt:function(t,n){},jVoT:function(t,n){},preG:function(t,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=a("osty"),l=a.n(e);for(var r in e)"default"!==r&&function(t){a.d(n,t,function(){return e[t]})}(r);var s=a("652l"),i=a("VU/8")(l.a,s.a,!1,null,null,null);n.default=i.exports},qzTR:function(t,n){},xxLD:function(t,n){}},["NHnr"]);
//# sourceMappingURL=app.6059d21e94cf99b2b5f5.js.map