{"version":3,"sources":["webpack:///./src/app/canvas/anchor/anchor.model.ts","webpack:///./src/app/toolbox/toolbox.model.ts","webpack:///./src/app/toolbox/toolbox.action.ts","webpack:///./src/app/canvas/canvas.model.ts","webpack:///./src/app/canvas/drawable/drawable.model.ts","webpack:///./src/app/canvas/path/path.action.ts","webpack:///./src/app/color/rim/rim.model.ts","webpack:///./src/app/color/slider/slider.action.ts","webpack:///./src/app/toolbox/pentool/pentool.action.ts","webpack:///./src/app/canvas/canvas.action.ts","webpack:///./src/app/toolbox/tool/tool.base.component.ts","webpack:///./src/app/canvas/anchor/anchor.action.ts","webpack:///./src/app/canvas/drawable/drawable.action.ts","webpack:///./src/app/color/color.reducer.ts","webpack:///./src/app/color/rim/rim.action.ts","webpack:///./src/app/toolbox/tool/tool.model.ts","webpack:///./src/app/toolbox/selectiontool/selectiontool.action.ts","webpack:///./src/polyfills.ts","webpack:///external \"require('events')\"","webpack:///external \"require('fs')\"","webpack:///external \"require('crypto')\"","webpack:///./src/app/canvas/drawable/drawable.base.component.ts","webpack:///./src/app/canvas/anchor/anchor.base.component.ts","webpack:///./src/app/toolbox/canvastool/canvastool.action.ts","webpack:///./src/$_gendir lazy","webpack:///./src/app/providers/electron.service.ts","webpack:///./src/app/canvas/anchor/anchor.container.component.ts","webpack:///./src/app/canvas/anchor/anchor.directive.ts","webpack:///./src/app/canvas/anchor/basic/basic.component.ts","webpack:///./src/app/canvas/anchor/bezier/bezier.component.ts","webpack:///./src/app/canvas/anchor/smooth/smooth.component.ts","webpack:///./src/app/canvas/canvas.reducer.ts","webpack:///./src/app/canvas/anchor/anchor.factory.ts","webpack:///./src/app/canvas/anchor/basic/basic.model.ts","webpack:///./src/app/canvas/path/path.model.ts","webpack:///./src/app/canvas/canvas.epics.ts","webpack:///./src/app/canvas/group/group.component.ts","webpack:///./src/app/canvas/path/path.component.ts","webpack:///./src/app/canvas/drawable/drawable.directive.ts","webpack:///./src/app/color/rim/rim.color.model.ts","webpack:///./src/app/color/color.epics.ts","webpack:///./src/app/color/slider/slider.epics.ts","webpack:///./src/app/toolbox/toolbox.epics.ts","webpack:///./src/app/toolbox/canvastool/canvastool.epics.ts","webpack:///./src/app/toolbox/directtool/directtool.epics.ts","webpack:///./src/app/toolbox/pentool/epics/pentool.epics.ts","webpack:///./src/app/toolbox/pentool/epics/pentool.draw.epics.ts","webpack:///./src/app/toolbox/selectiontool/selectiontool.epics.ts","webpack:///./src/app/toolbox/selectiontool/selectiontool.model.ts","webpack:///./src/app/toolbox/toolbox.reducer.ts","webpack:///./src/app/toolbox/canvastool/canvastool.component.ts","webpack:///./src/app/toolbox/directtool/directtool.component.ts","webpack:///./src/app/toolbox/pentool/pentool.component.ts","webpack:///./src/app/toolbox/selectiontool/selectiontool.component.ts","webpack:///./src/app/toolbox/tool/tool.directive.ts","webpack:///./src/main.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.scss","webpack:///./src/app/canvas/canvas.module.ts","webpack:///./src/app/canvas/anchor/anchor.module.ts","webpack:///./src/app/canvas/anchor/basic/basic.component.html","webpack:///./src/app/canvas/anchor/basic/basic.component.scss","webpack:///./src/app/canvas/anchor/bezier/bezier.component.html","webpack:///./src/app/canvas/anchor/bezier/bezier.component.scss","webpack:///./src/app/canvas/anchor/smooth/smooth.component.html","webpack:///./src/app/canvas/anchor/smooth/smooth.component.scss","webpack:///./src/app/canvas/anchor/anchor.component.html","webpack:///./src/app/canvas/anchor/anchor.component.scss","webpack:///./src/app/canvas/boundingbox/boundingbox.component.ts","webpack:///./src/app/canvas/anchor/anchor.reducer.ts","webpack:///./src/app/canvas/anchor/anchor.core.ts","webpack:///./src/app/canvas/anchor/bezier/bezier.model.ts","webpack:///./src/app/canvas/anchor/smooth/smooth.model.ts","webpack:///./src/app/canvas/canvas.core.ts","webpack:///./src/app/canvas/drawable/drawable.reducer.ts","webpack:///./src/app/canvas/drawable/drawable.core.ts","webpack:///./src/app/canvas/path/path.reducer.ts","webpack:///./src/app/canvas/path/path.core.ts","webpack:///./src/app/canvas/boundingbox/boundingbox.component.html","webpack:///./src/app/canvas/boundingbox/boundingbox.component.scss","webpack:///./src/app/canvas/canvas.component.ts","webpack:///./src/app/canvas/canvas.component.html","webpack:///./src/app/canvas/canvas.component.scss","webpack:///./src/app/canvas/drawable/drawable.component.ts","webpack:///./src/app/canvas/group/group.component.html","webpack:///./src/app/canvas/group/group.component.scss","webpack:///./src/app/canvas/path/path.component.html","webpack:///./src/app/canvas/path/path.component.scss","webpack:///./src/app/canvas/drawable/drawable.component.html","webpack:///./src/app/canvas/drawable/drawable.component.scss","webpack:///./src/app/color/color.module.ts","webpack:///./src/app/color/color.component.ts","webpack:///./src/app/color/color.model.ts","webpack:///./src/app/color/opacity/opacity.action.ts","webpack:///./src/app/color/opacity/opacity.reducer.ts","webpack:///./src/app/color/rim/rim.reducer.ts","webpack:///./src/app/color/slider/slider.reducer.ts","webpack:///./src/app/color/stroke/stroke.action.ts","webpack:///./src/app/color/stroke/stroke.reducer.ts","webpack:///./src/app/color/color.component.html","webpack:///./src/app/color/color.component.scss","webpack:///./src/app/color/opacity/opacity.component.ts","webpack:///./src/app/color/opacity/opacity.component.html","webpack:///./src/app/color/opacity/opacity.component.scss","webpack:///./src/app/color/rim/rim.component.ts","webpack:///./src/app/color/rim/rim.component.html","webpack:///./src/app/color/rim/rim.component.scss","webpack:///./src/app/color/slider/slider.component.ts","webpack:///./src/app/color/slider/slider.component.html","webpack:///./src/app/color/slider/slider.component.scss","webpack:///./src/app/color/stroke/stroke.component.ts","webpack:///./src/app/color/stroke/stroke.component.html","webpack:///./src/app/color/stroke/stroke.component.scss","webpack:///./src/app/store/store.module.ts","webpack:///./src/app/store/epics.ts","webpack:///./src/app/toolbox/canvastool/canvastool.model.ts","webpack:///./src/app/toolbox/directtool/directtool.model.ts","webpack:///./src/app/toolbox/pentool/pentool.model.ts","webpack:///./src/app/store/reducer.ts","webpack:///./src/app/toolbox/canvastool/canvastool.reducer.ts","webpack:///./src/app/toolbox/pentool/pentool.reducer.ts","webpack:///./src/app/toolbox/selectiontool/selectiontool.reducer.ts","webpack:///./src/app/toolbox/toolbox.module.ts","webpack:///./src/app/toolbox/canvastool/canvastool.component.html","webpack:///./src/app/toolbox/canvastool/canvastool.component.scss","webpack:///./src/assets/img/inactive/canvastool_inactive.svg","webpack:///./src/assets/img/active/canvastool_active.svg","webpack:///./src/app/toolbox/directtool/directtool.component.html","webpack:///./src/app/toolbox/directtool/directtool.component.scss","webpack:///./src/assets/img/inactive/direct_inactive.svg","webpack:///./src/assets/img/active/direct_active.svg","webpack:///./src/app/toolbox/pentool/pentool.component.html","webpack:///./src/app/toolbox/pentool/pentool.component.scss","webpack:///./src/assets/img/inactive/pentool_inactive.svg","webpack:///./src/assets/img/active/pentool_active.svg","webpack:///./src/app/toolbox/selectiontool/selectiontool.component.html","webpack:///./src/app/toolbox/selectiontool/selectiontool.component.scss","webpack:///./src/assets/img/inactive/selectiontool_inactive.svg","webpack:///./src/assets/img/active/selectiontool_active.svg","webpack:///./src/app/toolbox/tool/tool.container.component.ts","webpack:///./src/app/toolbox/tool/tool.container.component.html","webpack:///./src/app/toolbox/tool/tool.container.component.scss","webpack:///./src/app/toolbox/toolbox.component.ts","webpack:///./src/app/toolbox/toolbox.component.html","webpack:///./src/app/toolbox/toolbox.component.scss","webpack:///./src/app/app-routing.module.ts","webpack:///./src/environments/index.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAEmF;AAEnF,IAAY,UAWX;AAXD,WAAY,UAAU;IACrB,0BAAY;IACZ,0BAAY;IACZ,oCAAsB;IACtB,kCAAoB;IACpB,oCAAsB;IACtB,iCAAmB;IACnB,wCAA0B;IAC1B,gDAAkC;IAClC,gCAAkB;IAClB,6BAAe;AAChB,CAAC,EAXW,UAAU,KAAV,UAAU,QAWrB;AAED;IAAyC,8BAAQ;IAGhD,oBAAY,MAAqB;eAChC,+BACI,MAAM,IACT,IAAI,EAAE,8EAAY,CAAC,MAAM,IACxB;IACH,CAAC;IAQM,6BAAQ,GAAf;QACC,MAAM,CAAgB,cAClB,0EAAQ,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,EACtB,IAAK,EACvB,CAAC;IACJ,CAAC;IACF,iBAAC;AAAD,CAAC,CAtBwC,0EAAQ,GAsBhD;;;;;;;;;;;;;;;;;;;;;;;ACvCkC;AAGnC,IAAY,QAKX;AALD,WAAY,QAAQ;IACnB,+BAAmB;IACnB,2CAA+B;IAC/B,qCAAyB;IACzB,uDAA2C;AAC5C,CAAC,EALW,QAAQ,KAAR,QAAQ,QAKnB;AAED;IAAkC,gCAAwB;IAGzD,sBAAY,SAEX;eACA,kBAAM,SAAS,CAAC;IACjB,CAAC;IACF,mBAAC;AAAD,CAAC,CARiC,yDAAM,CAAC,EAAE,QAAQ,EAAE,EAAE,EAAE,CAAC,GAQzD;;;;;;;;;;;;;;;;;;;AClB0C;AAK3C;;;GAGG;AACH,IAAY,iBAGX;AAHD,WAAY,iBAAiB;IAC5B,gEAA2C;IAC3C,sEAAiD;AAClD,CAAC,EAHW,iBAAiB,KAAjB,iBAAiB,QAG5B;AAgBD;IADA;QAEC;;;;;WAKG;QACH,qBAAgB,GAAG,UAAC,QAAkB,IAAwB,QAAC;YAC9D,IAAI,EAAE,iBAAiB,CAAC,mBAAmB;YAC3C,OAAO,EAAE,EAAE,QAAQ,YAAE;YACrB,IAAI,EAAE,SAAS;SACf,CAAC,EAJ4D,CAI5D;QAEF,uBAAkB,GAAG,UAAC,IAAc,IAA0B,QAAC;YAC9D,IAAI,EAAE,iBAAiB,CAAC,sBAAsB;YAC9C,OAAO,EAAE,EAAE,IAAI,QAAE;YACjB,IAAI,EAAE,SAAS;SACf,CAAC,EAJ4D,CAI5D;IACH,CAAC;IAlBY,cAAc;QAD1B,iEAAU,EAAE;OACA,cAAc,CAkB1B;IAAD,qBAAC;CAAA;AAlB0B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5Bc;AAgBzC;IAA8B,4BAAsB;IAInD,kBAAY,MAAiB;eAC5B,kBAAM,MAAM,CAAC;IACd,CAAC;IACF,eAAC;AAAD,CAAC,CAP6B,yDAAM,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAOnD;;AAED;IAAgC,8BAA4B;IAK3D,oBAAY,MAAiB;eAC5B,kBAAM,MAAM,CAAC;IACd,CAAC;IACF,iBAAC;AAAD,CAAC,CAR+B,yDAAM,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAQ3D;;AAED;IAAgC,8BAA4B;IAK3D,oBAAY,MAAiB;eAC5B,+BACI,MAAM,IACT,CAAC,EAAE,MAAM,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,GAAG,CAAC,IACzB;IACH,CAAC;IACF,iBAAC;AAAD,CAAC,CAX+B,yDAAM,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAW3D;;AAOD;IAA0B,wBAA+B;IAIxD,cAAY,IAAW;eACtB,kBAAM,IAAI,CAAC;IACZ,CAAC;IACF,WAAC;AAAD,CAAC,CAPyB,yDAAM,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC,GAOxD;;AAwBD;;;;;GAKG;AACH,IAAM,mBAAmB,GAAW;IACnC,OAAO,EAAE,IAAI,QAAQ,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;IACrC,KAAK,EAAE,CAAC;IACR,KAAK,EAAE,IAAI,QAAQ,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;IACnC,SAAS,EAAE,IAAI,IAAI,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC;CAChD,CAAC;AAEF;IAA2B,yBAA2B;IACrD,eAAY,SAAuC;QAAvC,2DAAuC;eAClD,kBAAM,SAAS,CAAC;IACjB,CAAC;IACF,YAAC;AAAD,CAAC,CAJ0B,yDAAM,CAAC,mBAAmB,CAAC,GAIrD;;AAYD,IAAM,eAAe,GAAiB;IACrC,IAAI,EAAE,uDAAI,CAAW,EAAE,CAAC;IACxB,KAAK,EAAE,IAAI,KAAK,CAAC,mBAAmB,CAAC;IACrC,QAAQ,EAAE,uDAAI,CAAe,EAAE,CAAC;IAChC,OAAO,EAAE,uDAAI,CAAS,EAAE,CAAC;CACzB,CAAC;AAEF;IAAiC,+BAAuB;IAMvD,qBAAY,UAAwB;eACnC,kBAAM,UAAU,CAAC;IAClB,CAAC;IACF,kBAAC;AAAD,CAAC,CATgC,yDAAM,CAAC,eAAe,CAAC,GASvD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjIwC;AACE;AAE3C,IAAY,YAIX;AAJD,WAAY,YAAY;IACvB,0CAA0B;IAC1B,sCAAsB;IACtB,wCAAwB;AACzB,CAAC,EAJW,YAAY,KAAZ,YAAY,QAIvB;AAYD,IAAM,qBAAqB,GAAG;IAC7B,EAAE,EAAE,CAAC;IACL,GAAG,EAAE,CAAC;IACN,OAAO,EAAE,CAAC;IACV,WAAW,EAAE,IAAI,+DAAQ,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;IACzC,eAAe,EAAE,uDAAI,CAAS,EAAE,CAAC;IACjC,IAAI,EAAE,EAAE;IACR,QAAQ,EAAE,uDAAI,CAAW,EAAE,CAAC;CAC5B,CAAC;AAEF;IAAuC,4BAA6B;IAWnE,kBAAY,IAAmB;eAC9B,+BACI,IAAI,IACP,EAAE,EAAE,IAAI,CAAC,EAAE,IAAI,QAAQ,CAAC,KAAK,EAAE,EAC/B,OAAO,EAAE,QAAQ,CAAC,UAAU,EAAE,EAC9B,eAAe,EAAE,IAAI,CAAC,eAAe,IAAI,uDAAI,CAAS,EAAE,CAAC,EACzD,QAAQ,EAAE,IAAI,CAAC,QAAQ,IAAI,uDAAI,CAAW,EAAE,CAAC,IAC5C;IACH,CAAC;IAlBc,eAAM,GAAG,CAAC,CAAC;IACX,oBAAW,GAAG,CAAC,CAAC;IAqB/B;;;OAGG;IACI,oBAAW,GAAG,UAAC,QAAuB,EAAE,kBAAmC;QAAnC,+DAAmC;QACjF,eAAQ,CAAC,MAAM,CAA2B,UAAC,GAAG,EAAE,MAAM,EAAE,GAAG;YAC1D,yBAAkB,IAAI,GAAG,KAAK,QAAQ,CAAC,MAAM,GAAG,CAAC,GAC7C,GAAG,SAAE,MAAM,EAAE,UAAU,KAAQ,GAAG,SAAE,MAAM,EAAC;QAD/C,CAC+C,EAC/C,EAAE,CAAC;IAHJ,CAGI;IAEE,cAAK,GAAG;QACd,MAAM,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;IAC1B,CAAC;IAEM,mBAAU,GAAG;QACnB,MAAM,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC;IAC/B,CAAC;IACF,eAAC;CAAA,CAxCsC,yDAAM,CAAC,qBAAqB,CAAC,GAwCnE;AAxC6B;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7BkB;AACL;AAO3C;;;GAGG;AACH,IAAY,cAUX;AAVD,WAAY,cAAc;IACzB,2DAAyC;IACzC,qDAAmC;IACnC,2DAAyC;IACzC,qEAAmD;IACnD,yEAAuD;IACvD,2DAAyC;IACzC,qEAAmD;IACnD,iDAA+B;IAC/B,yDAAuC;AACxC,CAAC,EAVW,cAAc,KAAd,cAAc,QAUzB;AA8BD;IADA;QAEC;;;;;WAKG;QAEH,gBAAW,GAAG,UAAC,QAAuB,EAAE,cAAyB;YAChE,MAAM,CAAC;gBACN,IAAI,EAAE,cAAc,CAAC,kBAAkB;gBACvC,OAAO,EAAE,EAAE,QAAQ,YAAE,cAAc,kBAAE;gBACrC,IAAI,EAAE,SAAS;aACf,CAAC;QACH,CAAC;QAGD,oBAAe,GAAG,UAAC,QAAuB,EAAE,cAAyB,EAAE,UAAuB;YAC7F,MAAM,CAAC;gBACN,IAAI,EAAE,cAAc,CAAC,eAAe;gBACpC,OAAO,EAAE,EAAE,QAAQ,YAAE,cAAc,kBAAE,UAAU,cAAE;gBACjD,IAAI,EAAE,SAAS;aACf,CAAC;QACH,CAAC;QAGD,uBAAkB,GAAG,UAAC,QAAkB,EAAE,GAAW;YACpD,MAAM,CAAC;gBACN,IAAI,EAAE,cAAc,CAAC,kBAAkB;gBACvC,OAAO,EAAE,EAAE,QAAQ,YAAE,GAAG,OAAE;gBAC1B,IAAI,EAAE,SAAS;aACf,CAAC;QACH,CAAC;QAGD,2BAAsB,GAAG,UAAC,QAAkB;YAC3C,MAAM,CAAC;gBACN,IAAI,EAAE,cAAc,CAAC,uBAAuB;gBAC5C,OAAO,EAAE,QAAQ;gBACjB,IAAI,EAAE,SAAS;aACf,CAAC;QACH,CAAC;QAGD,kBAAa,GAAG,UAAC,QAAuB;YACvC,MAAM,CAAC;gBACN,IAAI,EAAE,cAAc,CAAC,aAAa;gBAClC,OAAO,EAAE,QAAQ;gBACjB,IAAI,EAAE,SAAS;aACf,CAAC;QACH,CAAC;QAGD,gBAAW,GAAG,UAAC,QAAuB,EAAE,SAAyB,EAAE,KAAa;YAC/E,4BAA4B;YAC5B,kEAAkE;YAClE,MAAM,CAAC;gBACN,IAAI,EAAE,cAAc,CAAC,iBAAiB;gBACtC,OAAO,EAAE,EAAE,QAAQ,YAAE,SAAS,aAAE,KAAK,SAAE;gBACvC,IAAI,EAAE,SAAS;aACf,CAAC;QACH,CAAC;IACF,CAAC;IAtDA;QADC,sEAAQ,EAAE;;oDAOV;IAGD;QADC,sEAAQ,EAAE;;wDAOV;IAGD;QADC,sEAAQ,EAAE;;2DAOV;IAGD;QADC,sEAAQ,EAAE;;+DAOV;IAGD;QADC,sEAAQ,EAAE;;sDAOV;IAGD;QADC,sEAAQ,EAAE;;oDASV;IA7DW,WAAW;QADvB,iEAAU,EAAE;OACA,WAAW,CA8DvB;IAAD,kBAAC;CAAA;AA9DuB;;;;;;;;;;;;;;;;;;;;;;;;;;ACpDW;AAEO;AAEzB;AAEjB,IAAY,cAGX;AAHD,WAAY,cAAc;IACzB,+BAAa;IACb,qCAAmB;AACpB,CAAC,EAHW,cAAc,KAAd,cAAc,QAGzB;AAWD,IAAM,QAAQ,GAAU,EAAE,KAAK,EAAE,IAAI,+DAAK,EAAE,EAAE,CAAC;AAE/C;IAA0B,wBAAgB;IAGzC,cAAY,KAAuB;QAAvB,wCAAuB;eAClC,kBAAM,KAAK,CAAC;IACb,CAAC;IACF,WAAC;AAAD,CAAC,CANyB,yDAAM,CAAC,QAAQ,CAAC,GAMzC;;AAED,IAAM,WAAW,GAAa,EAAE,KAAK,EAAE,IAAI,+DAAK,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC;AAE/D;IAA6B,2BAAmB;IAI/C,iBAAY,KAA6B;QAA7B,2CAA6B;eACxC,kBAAM,KAAK,CAAC;IACb,CAAC;IACF,cAAC;AAAD,CAAC,CAP4B,yDAAM,CAAC,WAAW,CAAC,GAO/C;;AAOD,IAAM,YAAY,GAAc,EAAE,IAAI,EAAE,IAAI,IAAI,EAAE,EAAE,OAAO,EAAE,IAAI,OAAO,EAAE,EAAE,CAAC;AAE7E;IAA8B,4BAAoB;IAIjD,kBAAY,KAA+B;QAA/B,4CAA+B;eAC1C,kBAAM,KAAK,CAAC;IACb,CAAC;IACF,eAAC;AAAD,CAAC,CAP6B,yDAAM,CAAC,YAAY,CAAC,GAOjD;;;;;;;;;;;;;;;;;;;ACvD0C;AAIc;AAEzD,IAAY,gBAGX;AAHD,WAAY,gBAAgB;IAC3B,qFAAiE;IACjE,+DAA2C;AAC5C,CAAC,EAHW,gBAAgB,KAAhB,gBAAgB,QAG3B;AASD;IADA;QAEC;;;;;;WAMG;QACH,yBAAoB,GAAG,UAAC,SAAyB,EAAE,OAAoB,EAAE,KAAa,IAAkC,QAAC;YACxH,IAAI,EAAE,gBAAgB,CAAC,8BAA8B;YACrD,OAAO,EAAE,EAAE,SAAS,aAAE,OAAO,WAAE,KAAK,SAAE;YACtC,IAAI,EAAE,SAAS;SACf,CAAC,EAJsH,CAItH;QAEF,gBAAW,GAAG,UAAC,SAAyB,EAAE,KAA8B;YACvE,IAAI,KAAK,GAAU,KAAK,CAAC;YACzB,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,YAAY,6DAAK,CAAC,CAAC,CAAC,CAAC;gBAAC,KAAK,GAAG,IAAI,6DAAK,CAAC,KAAK,CAAC,CAAC;YAAC,CAAC;YAC5D,MAAM,CAAC;gBACN,IAAI,EAAE,gBAAgB,CAAC,mBAAmB;gBAC1C,OAAO,EAAE,EAAE,SAAS,aAAE,KAAK,SAAE;gBAC7B,IAAI,EAAE,SAAS;aACf,CAAC;QACH,CAAC;IACF,CAAC;IAvBY,aAAa;QADzB,iEAAU,EAAE;OACA,aAAa,CAuBzB;IAAD,oBAAC;CAAA;AAvByB;;;;;;;;;;;;;;;;;;;;;;AClBsB;AACL;AAK3C;;;GAGG;AACH,IAAY,iBAMX;AAND,WAAY,iBAAiB;IAC5B,kFAA6D;IAC7D,8EAAyD;IACzD,kFAA6D;IAC7D,kFAA6D;IAC7D,8EAAyD;AAC1D,CAAC,EANW,iBAAiB,KAAjB,iBAAiB,QAM5B;AAcD;IADA;QAEC;;;;;;WAMG;QACH,4BAAuB,GAAG,UAAC,QAAmB,IAA+B,QAAC;YAC7E,IAAI,EAAE,iBAAiB,CAAC,4BAA4B;YACpD,OAAO,EAAE,QAAQ;YACjB,IAAI,EAAE,SAAS;SACf,CAAC,EAJ2E,CAI3E;QAEF,0BAAqB,GAAG,UAAC,QAAmB,IAA6B,QAAC;YACzE,IAAI,EAAE,iBAAiB,CAAC,0BAA0B;YAClD,OAAO,EAAE,QAAQ;YACjB,IAAI,EAAE,SAAS;SACf,CAAC,EAJuE,CAIvE;QAEF,6BAAwB,GAAG,UAAC,QAAmB,IAAgC,QAAC;YAC/E,IAAI,EAAE,iBAAiB,CAAC,4BAA4B;YACpD,OAAO,EAAE,QAAQ;YACjB,IAAI,EAAE,SAAS;SACf,CAAC,EAJ6E,CAI7E;QAEF,4BAAuB,GAAG,UAAC,QAAuB,EAAE,GAAW,IAA+B,QAAC;YAC9F,IAAI,EAAE,iBAAiB,CAAC,4BAA4B;YACpD,OAAO,EAAE,EAAE,QAAQ,YAAE,GAAG,OAAE;YAC1B,IAAI,EAAE,SAAS;SACf,CAAC,EAJ4F,CAI5F;QAGF,2BAAsB,GAAG,UAAC,QAAuB,IAA8B,QAAC;YAC/E,IAAI,EAAE,iBAAiB,CAAC,0BAA0B;YAClD,OAAO,EAAE,QAAQ;YACjB,IAAI,EAAE,SAAS;SACf,CAAC,EAJ6E,CAI7E;IACH,CAAC;IALA;QADC,sEAAQ,EAAE;;kEAKT;IArCU,cAAc;QAD1B,iEAAU,EAAE;OACA,cAAc,CAsC1B;IAAD,qBAAC;CAAA;AAtC0B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9BqB;AACL;AAK3C;;;GAGG;AACH,IAAY,gBAIX;AAJD,WAAY,gBAAgB;IAC3B,qEAAiD;IACjD,+DAA2C;IAC3C,+DAA2C;AAC5C,CAAC,EAJW,gBAAgB,KAAhB,gBAAgB,QAI3B;AAOD;IADA;QAGC,kBAAa,GAAG,UAAC,QAAmB,IAA2B,QAAC;YAC/D,IAAI,EAAE,gBAAgB,CAAC,sBAAsB;YAC7C,OAAO,EAAE,QAAQ;YACjB,IAAI,EAAE,SAAS;SACf,CAAC,EAJ6D,CAI7D;QAGF,gBAAW,GAAG,UAAC,OAAe,IAAyB,QAAC;YACvD,IAAI,EAAE,gBAAgB,CAAC,mBAAmB;YAC1C,OAAO,EAAE,OAAO;YAChB,IAAI,EAAE,SAAS;SACf,CAAC,EAJqD,CAIrD;QAGF,gBAAW,GAAG,UAAC,QAAmB,IAAyB,QAAC;YAC3D,IAAI,EAAE,gBAAgB,CAAC,mBAAmB;YAC1C,OAAO,EAAE,QAAQ;YACjB,IAAI,EAAE,SAAS;SACf,CAAC,EAJyD,CAIzD;IACH,CAAC;IAnBA;QADC,sEAAQ,EAAE;;wDAKT;IAGF;QADC,sEAAQ,EAAE;;sDAKT;IAGF;QADC,sEAAQ,EAAE;;sDAKT;IApBU,aAAa;QADzB,iEAAU,EAAE;OACA,aAAa,CAqBzB;IAAD,oBAAC;CAAA;AArByB;;;;;;;;ACV1B;AAAA;IAAA;QAAA,iBAgCC;QAjBA,iBAAY,GAAG,UAAC,CAAgB;YAC/B,IAAM,GAAG,GAAG,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC,OAAO,CAAC;YACjC,EAAE,CAAC,CAAC,GAAG,KAAK,KAAI,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACvC,KAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;YACzB,CAAC;QACF,CAAC;IAYF,CAAC;IArBA,oCAAQ,GAAR;QACC,MAAM,CAAC,gBAAgB,CAAC,UAAU,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;IACxD,CAAC;IASD,iDAAqB,GAArB;QACC,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC;YAC3B,IAAI,CAAC,sBAAsB,EAAE,CAAC;QAC/B,CAAC;IACF,CAAC;IAMF,wBAAC;AAAD,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;AC3C+C;AACL;AAM3C,IAAY,gBAIX;AAJD,WAAY,gBAAgB;IAC3B,qEAAiD;IACjD,6DAAyC;IACzC,+EAA2D;AAC5D,CAAC,EAJW,gBAAgB,KAAhB,gBAAgB,QAI3B;AAwBD;IADA;QAEC;;;;;WAKG;QAEH,mBAAc,GAAG,UAAC,QAAuB,EAAE,GAAW,EAAE,QAAmB;YAC1E,MAAM,CAAC;gBACN,IAAI,EAAE,gBAAgB,CAAC,sBAAsB;gBAC7C,OAAO,EAAE,EAAE,QAAQ,YAAE,GAAG,OAAE,QAAQ,YAAE;gBACpC,IAAI,EAAE,SAAS;aACf,CAAC;QACH,CAAC;QAGD,eAAU,GAAG,UAAC,QAAuB,EAAE,GAAW,EAAE,UAAsB;YACzE,MAAM,CAAC;gBACN,IAAI,EAAE,gBAAgB,CAAC,kBAAkB;gBACzC,OAAO,EAAE,EAAE,QAAQ,YAAE,GAAG,OAAE,UAAU,cAAE;gBACtC,IAAI,EAAE,SAAS;aACf,CAAC;QACH,CAAC;QAGD,uBAAkB,GAAG,UAAC,QAAuB,EAAE,GAAW,EAAE,QAAmB,EAC9E,KAAqC;YAArC,uCAAqC;YACpC,MAAM,CAAC;gBACN,IAAI,EAAE,gBAAgB,CAAC,2BAA2B;gBAClD,OAAO,EAAE,EAAE,QAAQ,YAAE,GAAG,OAAE,QAAQ,YAAE,KAAK,SAAE;gBAC3C,IAAI,EAAE,SAAS;aACf,CAAC;QACJ,CAAC;IACF,CAAC;IA1BA;QADC,sEAAQ,EAAE;;yDAOV;IAGD;QADC,sEAAQ,EAAE;;qDAOV;IAGD;QADC,sEAAQ,EAAE;;6DAQV;IAjCW,aAAa;QADzB,iEAAU,EAAE;OACA,aAAa,CAkCzB;IAAD,oBAAC;CAAA;AAlCyB;;;;;;;;;;;;;;;;;;;;;;ACnCsB;AACL;AAG3C,IAAY,kBAKX;AALD,WAAY,kBAAkB;IAC7B,yDAAmC;IACnC,iEAA2C;IAC3C,6DAAuC;IACvC,qEAA+C;AAChD,CAAC,EALW,kBAAkB,KAAlB,kBAAkB,QAK7B;AAYD;IADA;QAGC,iBAAY,GAAG,UAAC,QAAuB,IAAmB,QAAC;YAC1D,IAAI,EAAE,kBAAkB,CAAC,eAAe;YACxC,OAAO,EAAE,QAAQ;YACjB,IAAI,EAAE,SAAS;SACf,CAAC,EAJwD,CAIxD;QAGF,oBAAe,GAAG,UAAC,QAAuB,IAAsB,QAAC;YAChE,IAAI,EAAE,kBAAkB,CAAC,mBAAmB;YAC5C,OAAO,EAAE,QAAQ;YACjB,IAAI,EAAE,SAAS;SACf,CAAC,EAJ8D,CAI9D;QAGF,mBAAc,GAAG,UAAC,QAAuB,IAAqB,QAAC;YAC9D,IAAI,EAAE,kBAAkB,CAAC,iBAAiB;YAC1C,OAAO,EAAE,QAAQ;YACjB,IAAI,EAAE,SAAS;SACf,CAAC,EAJ4D,CAI5D;QAGF,sBAAiB,GAAG,cAAyB,QAAC;YAC7C,IAAI,EAAE,kBAAkB,CAAC,qBAAqB;YAC9C,OAAO,EAAE,SAAS;YAClB,IAAI,EAAE,SAAS;SACf,CAAC,EAJ2C,CAI3C;IACH,CAAC;IA1BA;QADC,sEAAQ,EAAE;;yDAKT;IAGF;QADC,sEAAQ,EAAE;;4DAKT;IAGF;QADC,sEAAQ,EAAE;;2DAKT;IAGF;QADC,sEAAQ,EAAE;;8DAKT;IA3BU,eAAe;QAD3B,iEAAU,EAAE;OACA,eAAe,CA4B3B;IAAD,sBAAC;CAAA;AA5B2B;;;;;;;;;;;;;;;;;;;ACnBqB;AACY;AACF;AACV;AACF;AACW;AACF;AACE;AACF;AAEjD,IAAM,kBAAkB,GAA8B,UAC5D,KAAgD,EAAE,MAAc;IAAhE,oCAA8B,sEAAgB,EAAE;IAEhD,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;QACd,KAAK,MAAM,CAAC,IAAI,IAAI,kFAAiB;YACpC,MAAM,CAAC,wFAAc,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;QACtC,KAAK,MAAM,CAAC,IAAI,IAAI,sEAAa;YAChC,MAAM,CAAC,4EAAU,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;QAClC,KAAK,MAAM,CAAC,IAAI,IAAI,+EAAgB;YACnC,MAAM,CAAC,qFAAa,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;QACrC,KAAK,MAAM,CAAC,IAAI,IAAI,+EAAgB;YACnC,MAAM,CAAC,qFAAa,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;IACtC,CAAC;IACD,MAAM,CAAC,KAAK,CAAC;AACd,CAAC,CAAC;;;;;;;;;;;;;;;;;AC1ByC;AAK3C,IAAY,aAEX;AAFD,WAAY,aAAa;IACxB,0EAAyD;AAC1D,CAAC,EAFW,aAAa,KAAb,aAAa,QAExB;AAKD;IADA;QAGC,yBAAoB,GAAG,UAAC,SAAyB,IAAkC,QAAC;YACnF,IAAI,EAAE,aAAa,CAAC,0BAA0B;YAC9C,OAAO,EAAE,SAAS;YAClB,IAAI,EAAE,SAAS;SACf,CAAC,EAJiF,CAIjF;IACH,CAAC;IAPY,UAAU;QADtB,iEAAU,EAAE;OACA,UAAU,CAOtB;IAAD,iBAAC;CAAA;AAPsB;;;;;;;;;;;;;;;;;;;;;ACZuB;AAW9C;IAA8B,4BAA0D;IAKvF,kBAAY,QAAmB;eAC9B,kBAAM,QAAQ,CAAC;IAChB,CAAC;IACF,eAAC;AAAD,CAAC,CAR6B,yDAAM,CAAC,EAAE,SAAS,EAAE,uDAAI,CAAC,EAAE,CAAC,EAAE,IAAI,EAAE,EAAE,EAAE,MAAM,EAAE,sDAAG,CAAC,EAAE,CAAC,EAAE,CAAC,GAQvF;;;;;;;;;;;;;;;;;;ACnB0C;AAI3C;;;GAGG;AACH,IAAY,uBAGX;AAHD,WAAY,uBAAuB;IAClC,wGAA6E;IAC7E,oGAAyE;AAC1E,CAAC,EAHW,uBAAuB,KAAvB,uBAAuB,QAGlC;AAKD;IADA;QAEC;;;;;WAKG;QACH,8BAAyB,GAAG,UAAC,QAAuB,IAA4B,QAAC;YAChF,IAAI,EAAE,uBAAuB,CAAC,oCAAoC;YAClE,OAAO,EAAE,QAAQ;YACjB,IAAI,EAAE,SAAS;SACf,CAAC,EAJ8E,CAI9E;QAEF,sBAAiB,GAAG,cAAc,QAAC;YAClC,IAAI,EAAE,uBAAuB,CAAC,kCAAkC;SAChE,CAAC,EAFgC,CAEhC;IACH,CAAC;IAhBY,oBAAoB;QADhC,iEAAU,EAAE;OACA,oBAAoB,CAgBhC;IAAD,2BAAC;CAAA;AAhBgC;;;;;;;;;;;;;;;;;;;;;;;;;;AChBjC;AAAA;AAAA;;;;;;;;;;;;;;GAcG;AAEH;;GAEG;AAEH,mEAAmE;AACnE,+BAA+B;AAC/B,+BAA+B;AAC/B,iCAAiC;AACjC,kCAAkC;AAClC,oCAAoC;AACpC,+BAA+B;AAC/B,6BAA6B;AAC7B,+BAA+B;AAC/B,6BAA6B;AAC7B,8BAA8B;AAC9B,+BAA+B;AAC/B,4BAA4B;AAC5B,4BAA4B;AAE5B,+EAA+E;AAC/E,oEAAoE;AAEpE,4EAA4E;AAC5E,8EAA8E;AAG9E,yCAAyC;AACZ;AACA;AAG7B,mFAAmF;AACnF,8EAA8E;AAI9E;;GAEG;AAC4B,CAAC,6BAA6B;AAG7D;;GAEG;AAEH;;;GAGG;AACH,oDAAoD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClEpD,8CAA8C,8DAA8D,6BAA6B;AACzI,mC;;;;;;ACDA,0CAA0C,0DAA0D,6BAA6B;AACjI,+B;;;;;;;;ACDA,8CAA8C,8DAA8D,6BAA6B;AACzI,mC;;;;;;;ACCA;AAAA;IAAA;IAEA,CAAC;IAAD,4BAAC;AAAD,CAAC;;;;;;;;;ACFD;AAAA;IAAA;IAEA,CAAC;IAAD,0BAAC;AAAD,CAAC;;;;;;;;;;;;;;;;;;;ACJ0C;AAI3C;;;GAGG;AACH,IAAY,oBAIX;AAJD,WAAY,oBAAoB;IAC/B,2FAAmE;IACnE,2FAAmE;IACnE,uFAA+D;AAChE,CAAC,EAJW,oBAAoB,KAApB,oBAAoB,QAI/B;AAKD;IADA;QAEC;;;;;;WAMG;QACH,4BAAuB,GAAG,UAAC,aAAwB,IAAwB,QAAC;YAC3E,IAAI,EAAE,oBAAoB,CAAC,+BAA+B;YAC1D,OAAO,EAAE,aAAa;YACtB,IAAI,EAAE,SAAS;SACf,CAAC,EAJyE,CAIzE;QAEF,6BAAwB,GAAG,UAAC,eAA0B,IAAwB,QAAC;YAC9E,IAAI,EAAE,oBAAoB,CAAC,+BAA+B;YAC1D,OAAO,EAAE,eAAe;YACxB,IAAI,EAAE,SAAS;SACf,CAAC,EAJ4E,CAI5E;QAEF,0BAAqB,GAAG,UAAC,WAAsB,IAAwB,QAAC;YACvE,IAAI,EAAE,oBAAoB,CAAC,6BAA6B;YACxD,OAAO,EAAE,WAAW;YACpB,IAAI,EAAE,SAAS;SACf,CAAC,EAJqE,CAIrE;IACH,CAAC;IAzBY,iBAAiB;QAD7B,iEAAU,EAAE;OACA,iBAAiB,CAyB7B;IAAD,wBAAC;CAAA;AAzB6B;;;;;;;;;;;;;;;;;;;;ACjB9B;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,4CAA4C,WAAW;AACvD;AACA;AACA,kC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACV2C;AAQ3C;IAKC;QAQA,eAAU,GAAG;YACZ,MAAM,CAAC,MAAM,IAAI,MAAM,CAAC,OAAO,IAAI,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC;QACxD,CAAC;QATA,sBAAsB;QACtB,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC;YACvB,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,WAAW,CAAC;YAC1D,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC;QACrD,CAAC;IACF,CAAC;IAXW,eAAe;QAD3B,iEAAU,EAAE;;OACA,eAAe,CAgB3B;IAAD,sBAAC;CAAA;AAhB2B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACIL;AAEqD;AAEvB;AACG;AACO;AACG;AACA;AAElE,IAAM,QAAQ;IACb,GAAC,iEAAU,CAAC,MAAM,IAAG,oFAAoB;IACzC,GAAC,iEAAU,CAAC,MAAM,IAAG,oFAAoB;IACzC,GAAC,iEAAU,CAAC,4BAA4B,IAAG,oFAAoB;IAC/D,GAAC,iEAAU,CAAC,aAAa,IAAG,uFAAqB;IACjD,GAAC,iEAAU,CAAC,oBAAoB,IAAG,uFAAqB;IACxD,GAAC,iEAAU,CAAC,gBAAgB,IAAG,uFAAqB;OACpD,CAAC;AAEF,IAAM,gBAAgB,GAAG,UAAC,QAAoB;IAC7C,IAAM,IAAI,GAAG,QAAQ,CAAC,QAAQ,CAAC,CAAC;IAChC,MAAM,CAAC,IAAI,CAAC;AACb,CAAC,CAAC;AASF;IAAqC,mCAAqB;IAMzD,yBAAoB,wBAAkD;QAAtE,YAA0E,iBAAO,SAAG;QAAhE,8BAAwB,GAAxB,wBAAwB,CAA0B;;IAAa,CAAC;IAEpF,kCAAQ,GAAR;QACC,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC;YAC9B,IAAM,UAAU,GAAG,gBAAgB,CAAC,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;YAC9D,IAAM,OAAO,GAAG,IAAI,CAAC,wBAAwB,CAAC,uBAAuB,CAAsB,UAAU,CAAC,CAAC;YACvG,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;YAC7D,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC;YAC3C,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC;QACtC,CAAC;IACF,CAAC;IAED,qCAAW,GAAX;QACC,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;YAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC;QAAC,CAAC;IAC7D,CAAC;IAED,qCAAW,GAAX;QACC,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;YACvB,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,CAAC;YAC5B,IAAI,CAAC,YAAY,GAAG,SAAS,CAAC;QAC/B,CAAC;IACF,CAAC;IAxBuD;QAAvD,gEAAS,CAAC,0EAAe,EAAE,EAAE,IAAI,EAAE,+DAAgB,EAAE,CAAC;sDAAa,+DAAgB,oBAAhB,+DAAgB;uDAAC;IAC5E;QAAR,4DAAK,EAAE;sDAAW,iEAAU,oBAAV,iEAAU;qDAAC;IAJlB,eAAe;QAP3B,gEAAS,CAAC;YACV,QAAQ,EAAE,YAAY;YACtB,kCAAsC;YACtC,kCAAsC;YACtC,aAAa,EAAE,gEAAiB,CAAC,IAAI;YACrC,eAAe,EAAE,sEAAuB,CAAC,MAAM;SAC/C,CAAC;6DAO6C,uEAAwB,oBAAxB,uEAAwB;OAN1D,eAAe,CA4B3B;IAAD,sBAAC;;CAAA,CA5BoC,gGAAqB,GA4BzD;AA5B2B;;;;;;;;;;;;;;;;;;;;AC3CgC;AAK5D;IACC,yBAAmB,gBAAkC;QAAlC,qBAAgB,GAAhB,gBAAgB,CAAkB;IAAI,CAAC;IAD9C,eAAe;QAH3B,gEAAS,CAAC;YACV,QAAQ,EAAE,iBAAiB;SAC3B,CAAC;6DAEoC,+DAAgB,oBAAhB,+DAAgB;OADzC,eAAe,CAE3B;IAAD,sBAAC;;CAAA;AAF2B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACL6B;AAYlC;AAEW;AACW;AAEU;AAGQ;AAE/D,IAAM,cAAc,GAAG,UAAC,UAAgD;IACvE,iBAAU,CAAC,GAAG,CAAC,mBAAS,IAAI,OAA0B,SAAS;SAC7D,MAAM,CAAC,kBAAQ,IAAI,eAAQ,CAAC,MAAM,KAAK,QAAQ,EAA5B,CAA4B,CAAC,EADtB,CACsB,CAAC;AADnD,CACmD,CAAC;AASrD;IAA0C,wCAAmB;IAO5D,8BACS,EAAa,EACb,KAAwB;QAFjC,YAEqC,iBAAO,SAAG;QADtC,QAAE,GAAF,EAAE,CAAW;QACb,WAAK,GAAL,KAAK,CAAmB;QARjC,eAAS,GAAoB,EAAE,CAAC;QAoChC;;;WAGG;QACS,8BAAwB,GAAG,UAAC,OAAwB,EAAE,CAAa,EAAE,WAAqB;YACrG,MAAM,CAAC,OAAO,CAAC,CAAC,EAAE,EAAE,kBAAkB,EAAE,WAAW,EAAE,yBAAyB,EAAE,KAAI,CAAC,MAAM,EAAE,CAAC,CAAC;QAChG,CAAC;;IAlC6C,CAAC;IAE/C,sBAAI,uCAAK;aAAT;YACC,MAAM,CAAC;gBACN,SAAS,EAAE,IAAI,CAAC,MAAM,CAAC,cAAc;gBACrC,gBAAgB,EAAE,IAAI,CAAC,MAAM,CAAC,GAAG,KAAK,CAAC,GAAG,MAAM,GAAG,MAAM;aACzD,CAAC;QACH,CAAC;;;OAAA;IAED,uCAAQ,GAAR;QAAA,iBAYC;QAXA,0CAA0C;QAC1C,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,mBAAS;YAClC,mCAAmC;YACnC,KAAI,CAAC,SAAS,CAAC,OAAO,CAAC,UAAC,iBAA2B,IAAK,wBAAiB,EAAE,EAAnB,CAAmB,CAAC,CAAC;YAC7E,SAAS,CAAC,OAAO,CAAC,kBAAQ;gBACzB,KAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAI,CAAC,EAAE,CAAC,MAAM,CAAC,KAAI,CAAC,SAAS,CAAC,aAAa,EAAE,QAAQ,CAAC,IAAI,EAC7E,UAAC,CAAa,IAAO,KAAI,CAAC,wBAAwB,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC,EAAE,KAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CACvF,CAAC,CAAC;YACJ,CAAC,CAAC,CAAC;QACJ,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC;IACxB,CAAC;IAED,wCAAS,GAAT;QACC,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,KAAK,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;YAAC,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE,CAAC;QAAC,CAAC;QAC5D,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC;IACxB,CAAC;IAjCoB;QAApB,gEAAS,CAAC,QAAQ,CAAC;sDAAY,yDAAU,oBAAV,yDAAU;2DAAC;IAClC;QAAR,4DAAK,EAAE;sDAAS,wEAAU,oBAAV,wEAAU;wDAAC;IACmC;QAA9D,qEAAO,CAAC,CAAC,SAAS,EAAE,UAAU,EAAE,WAAW,CAAC,EAAE,cAAc,CAAC;sDAAsB,2DAAU,oBAAV,2DAAU;4DAA2B;IAqC7G;QAAX,sEAAQ,EAAE;;0EAEV;IA3CW,oBAAoB;QAPhC,gEAAS,CAAC;YACV,QAAQ,EAAE,kBAAkB;YAC5B,kCAAqC;YACrC,kCAAqC;YACrC,aAAa,EAAE,gEAAiB,CAAC,IAAI;YACrC,eAAe,EAAE,sEAAuB,CAAC,MAAM;SAC/C,CAAC;6DASY,wDAAS,oBAAT,wDAAS,sDACN,gEAAiB,oBAAjB,gEAAiB;OATrB,oBAAoB,CA4ChC;IAAD,2BAAC;;CAAA,CA5CyC,mFAAmB,GA4C5D;AA5CgC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjCwB;AAYlC;AAEW;AACW;AAEmB;AAGD;AAG/D,IAAM,cAAc,GAAG,UAAC,UAAgD;IACxE,iBAAU,CAAC,GAAG,CAAC,mBAAS,IAAI,OAA0B,SAAS;SAC7D,MAAM,CAAC,kBAAQ,IAAI,eAAQ,CAAC,MAAM,KAAK,QAAQ,EAA5B,CAA4B,CAAC,EADtB,CACsB,CAAC;AADnD,CACmD,CAAC;AASpD;IAA2C,yCAAmB;IAO7D,+BACS,EAAa,EACb,KAAwB;QAFjC,YAEqC,iBAAO,SAAG;QADtC,QAAE,GAAF,EAAE,CAAW;QACb,WAAK,GAAL,KAAK,CAAmB;QARjC,eAAS,GAAoB,EAAE,CAAC;QA2ChC;;;WAGG;QACS,8BAAwB,GAAG,UAAC,OAAwB,EAAE,CAAa,EAAE,WAAqB;YACrG,MAAM,CAAC,OAAO,CAAC,CAAC,EAAE,EAAE,kBAAkB,EAAE,WAAW,EAAE,yBAAyB,EAAE,KAAI,CAAC,MAAM,EAAE,CAAC,CAAC;QAChG,CAAC;;IAzC6C,CAAC;IAE/C,sBAAI,wCAAK;aAAT;YACC,MAAM,CAAC;gBACN,SAAS,EAAE,IAAI,CAAC,MAAM,CAAC,cAAc;aACrC,CAAC;QACH,CAAC;;;OAAA;IAED,sBAAI,+CAAY;aAAhB;YACC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,eAAK,IAAI,QAAC,EAAE,SAAS,EAAE,KAAK,CAAC,kBAAkB,EAAE,CAAC,EAAzC,CAAyC,CAAC,CAAC;QAC7E,CAAC;;;OAAA;IAED,sBAAI,0CAAO;aAAX;YACC,MAAM,CAAqB,IAAI,CAAC,MAAO,CAAC,WAAW,CAAC;QACrD,CAAC;;;OAAA;IAED,wCAAQ,GAAR;QAAA,iBAYC;QAXA,0CAA0C;QAC1C,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,mBAAS;YAClC,mCAAmC;YACnC,KAAI,CAAC,SAAS,CAAC,OAAO,CAAC,UAAC,iBAA2B,IAAK,wBAAiB,EAAE,EAAnB,CAAmB,CAAC,CAAC;YAC7E,SAAS,CAAC,OAAO,CAAC,kBAAQ;gBACzB,KAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAI,CAAC,EAAE,CAAC,MAAM,CAAC,KAAI,CAAC,SAAS,CAAC,aAAa,EAAE,QAAQ,CAAC,IAAI,EAC7E,UAAC,CAAa,IAAO,KAAI,CAAC,wBAAwB,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC,EAAE,KAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CACvF,CAAC,CAAC;YACJ,CAAC,CAAC,CAAC;QACJ,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC;IACxB,CAAC;IAED,yCAAS,GAAT;QACC,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,KAAK,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;YAAC,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE,CAAC;QAAC,CAAC;QAC5D,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC;IACxB,CAAC;IAxCoB;QAApB,gEAAS,CAAC,QAAQ,CAAC;sDAAY,yDAAU,oBAAV,yDAAU;4DAAC;IAClC;QAAR,4DAAK,EAAE;sDAAS,wEAAU,oBAAV,wEAAU;yDAAC;IACmC;QAA9D,qEAAO,CAAC,CAAC,SAAS,EAAE,UAAU,EAAE,WAAW,CAAC,EAAE,cAAc,CAAC;sDAAsB,2DAAU,oBAAV,2DAAU;6DAA2B;IA4C7G;QAAX,sEAAQ,EAAE;;2EAEV;IAlDW,qBAAqB;QAPjC,gEAAS,CAAC;YACV,QAAQ,EAAE,mBAAmB;YAC7B,kCAAsC;YACtC,kCAAsC;YACtC,aAAa,EAAE,gEAAiB,CAAC,IAAI;YACrC,eAAe,EAAE,sEAAuB,CAAC,MAAM;SAC/C,CAAC;6DASY,wDAAS,oBAAT,wDAAS,sDACN,gEAAiB,oBAAjB,gEAAiB;OATrB,qBAAqB,CAmDjC;IAAD,4BAAC;;CAAA,CAnD0C,mFAAmB,GAmD7D;AAnDiC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClCuB;AAYlC;AAEW;AACW;AAEmB;AAGD;AAG/D,IAAM,cAAc,GAAG,UAAC,UAAgD;IACxE,iBAAU,CAAC,GAAG,CAAC,mBAAS,IAAI,OAA0B,SAAS;SAC7D,MAAM,CAAC,kBAAQ,IAAI,eAAQ,CAAC,MAAM,KAAK,QAAQ,EAA5B,CAA4B,CAAC,EADtB,CACsB,CAAC;AADnD,CACmD,CAAC;AASpD;IAA2C,yCAAmB;IAO7D,+BACS,EAAa,EACb,KAAwB;QAFjC,YAEqC,iBAAO,SAAG;QADtC,QAAE,GAAF,EAAE,CAAW;QACb,WAAK,GAAL,KAAK,CAAmB;QARjC,eAAS,GAAoB,EAAE,CAAC;QA4ChC;;;WAGG;QACS,8BAAwB,GAAG,UAAC,OAAwB,EAAE,CAAa,EAAE,WAAqB;YACrG,MAAM,CAAC,OAAO,CAAC,CAAC,EAAE,EAAE,kBAAkB,EAAE,WAAW,EAAE,yBAAyB,EAAE,KAAI,CAAC,MAAM,EAAE,CAAC,CAAC;QAChG,CAAC;;IA1C6C,CAAC;IAE/C,sBAAI,wCAAK;aAAT;YACC,MAAM,CAAC;gBACN,SAAS,EAAE,IAAI,CAAC,MAAM,CAAC,cAAc;gBACrC,gBAAgB,EAAE,IAAI,CAAC,MAAM,CAAC,GAAG,KAAK,CAAC,GAAG,MAAM,GAAG,MAAM;aACzD,CAAC;QACH,CAAC;;;OAAA;IAED,sBAAI,+CAAY;aAAhB;YACC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,eAAK,IAAI,QAAC,EAAE,SAAS,EAAE,KAAK,CAAC,kBAAkB,EAAE,CAAC,EAAzC,CAAyC,CAAC,CAAC;QAC7E,CAAC;;;OAAA;IAED,sBAAI,0CAAO;aAAX;YACC,MAAM,CAAgB,IAAI,CAAC,MAAO,CAAC,WAAW,CAAC;QAChD,CAAC;;;OAAA;IAED,wCAAQ,GAAR;QAAA,iBAYC;QAXA,0CAA0C;QAC1C,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,mBAAS;YAClC,mCAAmC;YACnC,KAAI,CAAC,SAAS,CAAC,OAAO,CAAC,UAAC,iBAA2B,IAAK,wBAAiB,EAAE,EAAnB,CAAmB,CAAC,CAAC;YAC7E,SAAS,CAAC,OAAO,CAAC,kBAAQ;gBACzB,KAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAI,CAAC,EAAE,CAAC,MAAM,CAAC,KAAI,CAAC,SAAS,CAAC,aAAa,EAAE,QAAQ,CAAC,IAAI,EAC7E,UAAC,CAAa,IAAO,KAAI,CAAC,wBAAwB,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC,EAAE,KAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CACvF,CAAC,CAAC;YACJ,CAAC,CAAC,CAAC;QACJ,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC;IACxB,CAAC;IAED,yCAAS,GAAT;QACC,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,KAAK,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;YAAC,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE,CAAC;QAAC,CAAC;QAC5D,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC;IACxB,CAAC;IAzCoB;QAApB,gEAAS,CAAC,QAAQ,CAAC;sDAAY,yDAAU,oBAAV,yDAAU;4DAAC;IAClC;QAAR,4DAAK,EAAE;sDAAS,wEAAU,oBAAV,wEAAU;yDAAC;IACmC;QAA9D,qEAAO,CAAC,CAAC,SAAS,EAAE,UAAU,EAAE,WAAW,CAAC,EAAE,cAAc,CAAC;sDAAsB,2DAAU,oBAAV,2DAAU;6DAA2B;IA6C7G;QAAX,sEAAQ,EAAE;;2EAEV;IAnDW,qBAAqB;QAPjC,gEAAS,CAAC;YACV,QAAQ,EAAE,mBAAmB;YAC7B,kCAAsC;YACtC,kCAAsC;YACtC,aAAa,EAAE,gEAAiB,CAAC,IAAI;YACrC,eAAe,EAAE,sEAAuB,CAAC,MAAM;SAC/C,CAAC;6DASY,wDAAS,oBAAT,wDAAS,sDACN,gEAAiB,oBAAjB,gEAAiB;OATrB,qBAAqB,CAoDjC;IAAD,4BAAC;;CAAA,CApD0C,mFAAmB,GAoD7D;AApDiC;;;;;;;;;;;;;;;;;;;;;AClCD;AAGyB;AACF;AAM/B;AACmB;AACQ;AACY;AACF;AACV;AACF;AAE3C,IAAM,aAAa,GAAyB,UAClD,KAKE,EACF,MAAc;IANd,oCAAY,kEAAW,CAAC;QACvB,IAAI,EAAE,uDAAI,CAAC,EAAE,CAAC;QACd,KAAK,EAAE,IAAI,4DAAK,EAAE;QAClB,QAAQ,EAAE,uDAAI,CAAe,EAAE,CAAC;QAChC,OAAO,EAAE,uDAAI,CAAS,EAAE,CAAC;KACzB,CAAC;IAED,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;QACd,KAAK,MAAM,CAAC,IAAI,IAAI,qFAAkB;YACrC,MAAM,CAAC,2FAAe,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;QACvC,KAAK,MAAM,CAAC,IAAI,IAAI,yEAAc;YACjC,MAAM,CAAC,+EAAW,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;QACnC,KAAK,MAAM,CAAC,IAAI,IAAI,+EAAgB;YACnC,MAAM,CAAC,qFAAa,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;IACtC,CAAC;IACD,MAAM,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QACrB,KAAK,wEAAgB,CAAC,sBAAsB;YAC3C,MAAM,CAAC,mEAAwB,CAAC,KAAK,EAAyB,MAAO,CAAC,OAAO,CAAC,CAAC;QAChF,KAAK,wEAAgB,CAAC,mBAAmB;YACxC,MAAM,CAAC,iEAAsB,CAAC,KAAK,EAAuB,MAAO,CAAC,OAAO,CAAC,CAAC;QAC5E,KAAK,wEAAgB,CAAC,mBAAmB;YACxC,MAAM,CAAC,iEAAsB,CAAC,KAAK,EAAuB,MAAO,CAAC,OAAO,CAAC,CAAC;IAC7E,CAAC;IACD,MAAM,CAAC,KAAK,CAAC;AACf,CAAC,CAAC;;;;;;;;;;;;;AC1CsD;AACN;AAC+B;AACL;AAE5E;IAAA;IAiBA,CAAC;IAhBO,0BAAY,GAAG,UAAC,IAAgB,EAAE,MAAqB;QAC7D,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;YACd,KAAK,iEAAU,CAAC,MAAM;gBACrB,MAAM,CAAC,IAAI,uEAAW,CAAC,MAAM,CAAC,CAAC;YAChC,KAAK,iEAAU,CAAC,aAAa;gBAC5B,MAAM,CAAC,IAAI,0EAAY,CAAC,MAAM,CAAC,CAAC;YACjC,KAAK,iEAAU,CAAC,oBAAoB;gBACnC,MAAM,CAAC,IAAI,mFAAqB,CAAC,MAAM,CAAC,CAAC;YAC1C,KAAK,iEAAU,CAAC,gBAAgB;gBAC/B,MAAM,CAAC,IAAI,+EAAiB,CAAC,MAAM,CAAC,CAAC;YACtC,KAAK,iEAAU,CAAC,4BAA4B;gBAC3C,MAAM,CAAC,IAAI,mFAAqB,CAAC,MAAM,CAAC,CAAC;YAC1C;gBACC,OAAO,CAAC,KAAK,CAAC,6CAA6C,CAAC,CAAC;QAC/D,CAAC;IACF,CAAC;IACF,oBAAC;CAAA;AAjByB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJ+B;AAEA;AAEzD;;;GAGG;AACH;IAAiC,+BAAU;IAC1C,qBAAY,MAAqB;QAAjC,YACC,kBAAM,MAAM,CAAC,SAEb;QAED,wBAAkB,GAAG,UAAC,IAAkB;YACvC,MAAM,CAAC,IAAI,WAAW,cAClB,KAAI,CAAC,QAAQ,EAAE,IAClB,eAAe,EAAE,IAAI,IACpB,CAAC;QACJ,CAAC;QAED,iBAAW,GAAG,UAAC,WAAsB;YACpC,MAAM,CAAC,IAAI,WAAW,cAClB,KAAI,CAAC,QAAQ,EAAE,IAClB,WAAW,EAAE,IAAI,+DAAQ,CAAC,WAAW,CAAC,IACrC,CAAC;QACJ,CAAC;QAED,WAAK,GAAG,cAAM,WAAI,WAAW,CAAC,KAAI,CAAC,QAAQ,EAAE,CAAC,EAAhC,CAAgC,CAAC;QAM/C,YAAM,GAAG;YACR,OAAG,KAAI,CAAC,UAAU,SAAI,KAAI,CAAC,WAAW,CAAC,GAAG,CAAC,GAAG,CAAC,UAAK,KAAI,CAAC,WAAW,CAAC,GAAG,CAAC,GAAG,CAAG;QAA/E,CAA+E;QAxB/E,KAAI,CAAC,UAAU,GAAG,KAAI,CAAC,GAAG,KAAK,CAAC,GAAG,KAAI,CAAC,UAAU,GAAG,iEAAU,CAAC,MAAM,GAAG,iEAAU,CAAC,MAAM,CAAC;;IAC5F,CAAC;IAkBD,sBAAI,uCAAc;aAAlB;YACC,MAAM,CAAC,eAAa,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,GAAG,CAAC,YAAO,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,GAAG,CAAC,QAAK,CAAC;QACpF,CAAC;;;OAAA;IAIF,kBAAC;AAAD,CAAC,CA5BgC,iEAAU,GA4B1C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnCwD;AACO;AACV;AAC6B;AASnF;IAA0B,wBAAQ;IAOjC,cAAY,MAAiB;QAA7B,YACC,+BACI,MAAM,IACT,IAAI,EAAE,8EAAY,CAAC,IAAI,IACtB,SAIF;QAEM,wBAAkB,GAAG,UAAC,IAAkB;YAC9C,MAAM,CAAC,IAAI,IAAI,cACC,KAAI,CAAC,QAAQ,EAAG,IAC/B,QAAQ,EAAoB,KAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,eAAK,IAAI,YAAK,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,KAAI,CAAC,GAAG,CAAC,CAAC,EAA7C,CAA6C,CAAC,EACrG,eAAe,EAAE,IAAI,IACpB,CAAC;QACJ,CAAC;QAEM,YAAM,GAAG;YACf,YAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,UAAC,GAAG,EAAE,MAAM,IAAK,OAAG,GAAG,SAAI,MAAM,CAAC,MAAM,EAAI,EAA3B,CAA2B,EAAE,EAAE,CAAC,CAAC,MAAM,CAAC,KAAI,CAAC,QAAQ,GAAG,IAAI,GAAG,EAAE,CAAC;QAAxG,CAAwG;QAElG,kBAAY,GAAG,cAAiC,QAAC;YACvD,IAAI,EAAE,KAAI,CAAC,IAAI;YACf,MAAM,EAAE,KAAI,CAAC,OAAO;SACpB,CAAC,EAHqD,CAGrD;QAEF;;;;;;;WAOG;QACI,eAAS,GAAG,UAAC,WAA+B,EAAE,UAA0C;YAA1C,0CAAyB,wEAAU,CAAC,MAAM;YAC9F,IAAI,QAAQ,GAAG,WAAW,CAAC;YAC3B,EAAE,CAAC,CAAC,CAAC,CAAC,WAAW,YAAY,+DAAQ,CAAC,CAAC,CAAC,CAAC;gBACxC,QAAQ,GAAG,IAAI,+DAAQ,CAAC,WAAW,CAAC,CAAC;YACtC,CAAC;YACD,MAAM,CAAC,IAAI,IAAI,cACC,KAAI,CAAC,QAAQ,EAAG,IAC/B,QAAQ,EAAE,KAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,6EAAa,CAAC,YAAY,CACtD,UAAU,EACV;oBACC,WAAW,EAAY,QAAQ;oBAC/B,eAAe,EAAE,KAAI,CAAC,eAAe,CAAC,IAAI,CAAC,KAAI,CAAC,GAAG,CAAC;oBACpD,GAAG,EAAE,KAAI,CAAC,QAAQ,CAAC,IAAI;iBACvB,CACD,CAAC,IACD,CAAC;QACJ,CAAC;QAEM,mBAAa,GAAG,UAAC,GAAW,EAAE,SAAqB;YACzD,IAAM,QAAQ,GAAG,KAAI,CAAC,QAAQ,CAAC,GAAG,CACjC,GAAG,EAAE,SAAS,CAAC,kBAAkB,CAAC,KAAI,CAAC,eAAe,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CACjE,CAAC;YACF,MAAM,CAAC,IAAI,IAAI,cACC,KAAI,CAAC,QAAQ,EAAG,IAC/B,QAAQ,cACP,CAAC;QACJ,CAAC;QAEM,kBAAY,GAAG,UAAC,GAAW,EAAE,WAAsB;YACzD,IAAM,QAAQ,GAAG,KAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,EAAE,UAAC,KAAiB,IAAK,YAAK,CAAC,WAAW,CAAC,WAAW,CAAC,EAA9B,CAA8B,CAAC,CAAC;YACtG,MAAM,CAAC,IAAI,IAAI,cACC,KAAI,CAAC,QAAQ,EAAG,IAC/B,QAAQ,cACP,CAAC;QACJ,CAAC;QAEM,kBAAY,GAAG,UAAC,GAAW;YACjC,IAAM,QAAQ,GAAG,KAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;YAC3C,MAAM,CAAC,IAAI,IAAI,cACC,KAAI,CAAC,QAAQ,EAAG,IAC/B,QAAQ,cACP,CAAC;QACJ,CAAC;QAEM,sBAAgB,GAAG;YACzB,MAAM,CAAC,KAAI,CAAC,YAAY,CAAC,KAAI,CAAC,QAAQ,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC;QAClD,CAAC;QAEM,SAAG,GAAG;YACZ,MAAM,CAAC,IAAI,IAAI,cACC,KAAI,CAAC,QAAQ,EAAG,IAC/B,QAAQ,EAAE,IAAI,IACb,CAAC;QACJ,CAAC;QAEM,cAAQ,GAAG,UAAC,SAAyB,EAAE,KAAa;YAC1D,WAAI,IAAI,cACQ,KAAI,CAAC,QAAQ,EAAG,eAC9B,SAAS,IAAG,KAAK,OACjB;;QAHF,CAGE;QAxFF,KAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC;QAClC,KAAI,CAAC,IAAI,GAAG,MAAM,CAAC,IAAI,IAAI,MAAM,CAAC;QAClC,KAAI,CAAC,OAAO,GAAG,MAAM,CAAC,OAAO,IAAI,MAAM,CAAC;;IACzC,CAAC;IAuFM,uBAAQ,GAAf;QACC,MAAM,CAAY,cACd,0EAAQ,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,EAC1B,IAAK,EACnB,CAAC;IACJ,CAAC;IACF,WAAC;AAAD,CAAC,CA5GyB,0EAAQ,GA4GjC;;;;;;;;;;;;;;;;;;;;;;;;;;AC3H0C;AAEmB;AAC/B;AACE;AAGiC;AAGlE,IAAM,UAAU,GAAG,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,SAAS,EAAE,IAAI,EAAE,SAAS,EAAE,CAAC;AAGzE;IACC,qBAAoB,aAA4B;QAAhD,iBAAqD;QAAjC,kBAAa,GAAb,aAAa,CAAe;QAEzC,gBAAW,GAAG;YACpB,MAAM,CAAC;gBACN,sFAAoB,CAAC,KAAI,CAAC,uBAAuB,EAAE,CAAC;aACpD,CAAC;QACH,CAAC;QAEO,4BAAuB,GAAG;YACjC,IAAI,SAAS,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;YAC/B,MAAM,CAAC,UAAC,OAAO,EAAE,KAAK,IAAK,cAAO,CAAC,iCAAiC;iBAClE,MAAM,CAAC,wEAAgB,CAAC,mBAAmB,CAAC;iBAC5C,GAAG,CAAC,gBAAM;gBACV,IAAM,OAAO,GAAc,KAAK,CAAC,QAAQ,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC,CAAC;gBAC/E,IAAM,WAAW,GAAG;oBACnB,CAAC,EAAE,OAAO,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC;oBAC/C,CAAC,EAAE,OAAO,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC;iBAC/C,CAAC;gBACF,SAAS,GAAG,MAAM,CAAC,OAAO,CAAC;gBAC3B,MAAM,CAAC,KAAI,CAAC,aAAa,CAAC,aAAa,CAAC,WAAW,CAAC,CAAC;YACtD,CAAC,CAAC;iBACD,KAAK,CAAC,UAAU,CAAC,EAXQ,CAWR,CAAC;QACrB,CAAC;IAtBmD,CAAC;IADzC,WAAW;QADvB,iEAAU,EAAE;6DAEuB,qEAAa,oBAAb,qEAAa;OADpC,WAAW,CAwBvB;IAAD,kBAAC;;CAAA;AAxBuB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACb6E;AACzB;AAW5E;IAAoC,kCAAqB;IAAzD;;IAKA,CAAC;IAFA,wCAAe,GAAf;IACA,CAAC;IAJW,cAAc;QAP1B,gEAAS,CAAC;YACV,QAAQ,EAAE,WAAW;YACrB,kCAAqC;YACrC,kCAAqC;YACrC,aAAa,EAAE,gEAAiB,CAAC,QAAQ;YACzC,eAAe,EAAE,sEAAuB,CAAC,MAAM;SAC/C,CAAC;OACW,cAAc,CAK1B;IAAD,qBAAC;CAAA,CALmC,gGAAqB,GAKxD;AAL0B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACZ8B;AAYlC;AAEsB;AAG+B;AAExC;AAEpC,IAAM,cAAc,GAAG,UAAC,UAAgD;IACxE,iBAAU,CAAC,GAAG,CAAC,mBAAS,IAAI,OAA0B,SAAS;SAC7D,MAAM,CAAC,kBAAQ,IAAI,eAAQ,CAAC,MAAM,KAAK,MAAM,EAA1B,CAA0B,CAAC,EADpB,CACoB,CAAC;AADjD,CACiD,CAAC;AAUlD;IAAmC,iCAAqB;IAOvD,uBACS,EAAa,EACb,KAAwB;QAFjC,YAEqC,iBAAO,SAAG;QADtC,QAAE,GAAF,EAAE,CAAW;QACb,WAAK,GAAL,KAAK,CAAmB;QARjC,eAAS,GAAoB,EAAE,CAAC;QA8BhC;;;WAGG;QACS,8BAAwB,GAAG,UAAC,OAAwB,EAAE,CAAa,EAAE,WAAqB;YACrG,MAAM,CAAC,OAAO,CAAC,CAAC,EAAE,EAAE,kBAAkB,EAAE,WAAW,EAAE,yBAAyB,EAAE,KAAI,CAAC,QAAQ,EAAE,CAAC,CAAC;QAClG,CAAC;;IA5B6C,CAAC;IAE/C,gCAAQ,GAAR;QAAA,iBAaC;QAZA,uCAAuC;QACvC,0CAA0C;QAC1C,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,mBAAS;YAClC,mCAAmC;YACnC,KAAI,CAAC,SAAS,CAAC,OAAO,CAAC,UAAC,iBAA2B,IAAK,wBAAiB,EAAE,EAAnB,CAAmB,CAAC,CAAC;YAC7E,SAAS,CAAC,OAAO,CAAC,kBAAQ;gBACzB,KAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAI,CAAC,EAAE,CAAC,MAAM,CAAC,KAAI,CAAC,OAAO,CAAC,aAAa,EAAE,QAAQ,CAAC,IAAI,EAC3E,UAAC,CAAa,IAAO,KAAI,CAAC,wBAAwB,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC,EAAE,KAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CACzF,CAAC,CAAC;YACJ,CAAC,CAAC,CAAC;QACJ,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC;IAC1B,CAAC;IAED,iCAAS,GAAT;QACC,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,KAAK,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;YAAC,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE,CAAC;QAAC,CAAC;QAC9D,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC;IAC1B,CAAC;IAUD,iCAAS,GAAT,UAAU,GAAW,EAAE,QAAkB;QACxC,MAAM,CAAC,QAAQ,CAAC,EAAE,CAAC;IACpB,CAAC;IAvCkB;QAAlB,gEAAS,CAAC,MAAM,CAAC;sDAAU,yDAAU,oBAAV,yDAAU;kDAAC;IAC9B;QAAR,4DAAK,EAAE;sDAAW,yDAAI,oBAAJ,yDAAI;mDAAC;IACuC;QAA9D,qEAAO,CAAC,CAAC,SAAS,EAAE,UAAU,EAAE,WAAW,CAAC,EAAE,cAAc,CAAC;sDAAsB,2DAAU,oBAAV,2DAAU;qDAA2B;IA+B7G;QAAX,sEAAQ,EAAE;;mEAEV;IArCW,aAAa;QARzB,gEAAS,CAAC;YACV,QAAQ,EAAE,UAAU;YACpB,kCAAoC;YACpC,kCAAoC;YACpC,eAAe,EAAE,sEAAuB,CAAC,MAAM;YAC/C,aAAa,EAAE,gEAAiB,CAAC,IAAI;SAErC,CAAC;6DASY,wDAAS,oBAAT,wDAAS,sDACN,gEAAiB,oBAAjB,gEAAiB;OATrB,aAAa,CA0CzB;IAAD,oBAAC;;CAAA,CA1CkC,gGAAqB,GA0CvD;AA1CyB;;;;;;;;;;;;;;;;;;;ACjCkC;AAK5D;IACC,2BAAmB,gBAAkC;QAAlC,qBAAgB,GAAhB,gBAAgB,CAAkB;IAAI,CAAC;IAD9C,iBAAiB;QAH7B,gEAAS,CAAC;YACV,QAAQ,EAAE,mBAAmB;SAC7B,CAAC;6DAEoC,+DAAgB,oBAAhB,+DAAgB;OADzC,iBAAiB,CAE7B;IAAD,wBAAC;;CAAA;AAF6B;;;;;;;;;;;;;;;;;;;;;;;;ACLO;AAE9B,IAAM,YAAY,GAAG,UAAC,KAAa,IAAc,YAAK,IAAI,CAAC,IAAI,KAAK,GAAG,GAAG,EAAzB,CAAyB,CAAC;AAE3E,IAAM,gBAAgB,GAAG,UAAC,GAAW;IAC3C,IAAM,EAAE,GAAG,6BAA6B,CAAC;IACzC,MAAM,CAAC,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AACrB,CAAC,CAAC;AAEK,IAAM,cAAc,GAAG,UAAC,CAAS;IACvC,IAAM,GAAG,GAAG,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;IAC3B,MAAM,CAAC,GAAG,CAAC,MAAM,KAAK,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;AAC3C,CAAC,CAAC;AAEK,IAAM,QAAQ,GAAG,UAAC,CAAS,EAAE,CAAS,EAAE,CAAS,IAAK,aAAI,cAAc,CAAC,CAAC,CAAC,GAAG,cAAc,CAAC,CAAC,CAAC,GAAG,cAAc,CAAC,CAAC,CAAG,EAA/D,CAA+D,CAAC;AAE7H;;;;GAIG;AACI,IAAM,WAAW,GAAG,UAAC,GAAW,EAAE,GAAW;IACnD,oBAAG,IAAI,WAAI,CAAC,KAAK,CAAC,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,EAArD,CAAqD;AAA5D,CAA4D,CAAC;AAI9D;;;;;;GAMG;AACH;IAUC;;;OAGG;IACH,eAAY,KAAiC;QAAjC,sCAAiC;QAA7C,iBA6BC;QAED,QAAG,GAAG,UAAC,OAA8B,EAAE,KAAa;YACnD,OAAO,KAAK,SAAS;gBACpB,OAAO,CAAC,MAAM,CAAC,KAAK,IAAI,CAAC,IAAI,KAAK,IAAI,CAAC,EAAE,qDAAqD,EAAE,KAAK,CAAC;gBACtG,OAAO,CAAC,MAAM,CAAC,YAAY,CAAC,KAAK,CAAC,EAAE,oEAAoE,EAAE,KAAK,CAAC,CAAC;YAClH,MAAM,CAAC,IAAI,KAAK,cAAM,KAAI,CAAC,QAAQ,EAAE,eAAG,OAAO,IAAG,KAAK,OAAG,CAAC;;QAC5D,CAAC;QAED,WAAM,GAAG,UAAC,OAA8B,EAAE,QAAiC;YAC1E,IAAM,QAAQ,GAAG,QAAQ,CAAC,KAAI,CAAC,OAAO,CAAC,CAAC,CAAC;YACzC,OAAO,KAAK,SAAS;gBACpB,OAAO,CAAC,MAAM,CAAC,QAAQ,IAAI,CAAC,IAAI,QAAQ,IAAI,CAAC,EAAE,qDAAqD,EAAE,QAAQ,CAAC;gBAC/G,OAAO,CAAC,MAAM,CAAC,YAAY,CAAC,QAAQ,CAAC,EAAE,oEAAoE,EAAE,QAAQ,CAAC,CAAC;YACxH,MAAM,CAAC,IAAI,KAAK,cAAM,KAAI,CAAC,QAAQ,EAAE,eAAG,OAAO,IAAG,QAAQ,OAAG,CAAC;;QAC/D,CAAC;QAED,gBAAW,GAAG,cAAM,gBAAO,KAAI,CAAC,EAAE,UAAK,KAAI,CAAC,EAAE,UAAK,KAAI,CAAC,EAAE,MAAG,EAAzC,CAAyC,CAAC;QAC9D,iBAAY,GAAG,UAAC,KAA6B;YAA7B,gCAAgB,KAAI,CAAC,QAAQ;YAAK,iBAAQ,KAAI,CAAC,EAAE,UAAK,KAAI,CAAC,EAAE,UAAK,KAAI,CAAC,EAAE,UAAK,KAAK,MAAG;QAApD,CAAoD,CAAC;QACvG,gBAAW,GAAG,cAAM,eAAQ,CAAC,KAAI,CAAC,EAAE,EAAE,KAAI,CAAC,EAAE,EAAE,KAAI,CAAC,EAAE,CAAC,EAAnC,CAAmC,CAAC;QACxD,aAAQ,GAAG,cAAkB,QAAC,EAAE,CAAC,EAAE,KAAI,CAAC,EAAE,EAAE,CAAC,EAAE,KAAI,CAAC,EAAE,EAAE,CAAC,EAAE,KAAI,CAAC,EAAE,EAAE,OAAO,EAAE,KAAI,CAAC,QAAQ,EAAE,CAAC,EAAhE,CAAgE,CAAC;QAhD7F,EAAE,CAAC,CAAC,OAAO,KAAK,KAAK,QAAQ,CAAC,CAAC,CAAC;YAC/B,IAAM,MAAM,GAAkB,mDAAU,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC;YACrD,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;gBACd,IAAI,CAAC,EAAE,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;gBACpB,IAAI,CAAC,EAAE,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;gBACpB,IAAI,CAAC,EAAE,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;gBACpB,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;YAC3B,CAAC;YAAC,IAAI,CAAC,CAAC;gBACP,OAAO,CAAC,KAAK,CAAC,6BAA6B,EAAE,KAAK,EAAE,kBAAkB,EAAE,MAAM,CAAC,CAAC;YACjF,CAAC;QACF,CAAC;QAAC,IAAI,CAAC,EAAE,CAAC,CAAa,KAAK,KAAK,SAAS,CAAC,CAAC,CAAC;YAC5C,IAAM,YAAY,GAAG,WAAW,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YACvC,IAAI,CAAC,QAAQ,GAAG,YAAY,CAAC,KAAK,CAAC,OAAO,IAAI,CAAC,CAAC,CAAC;YACjD,EAAE,CAAC,CAAE,YAAY,CAAC,KAAK,CAAC,CAAC,CAAC;mBACtB,YAAY,CAAC,KAAK,CAAC,CAAC,CAAC;mBACrB,YAAY,CAAC,KAAK,CAAC,CAAC,CACxB,CAAC,CAAC,CAAC;gBACF,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;gBAC9B,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;gBAC9B,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YAC/B,CAAC;YAAC,IAAI,CAAC,CAAC;gBACP,IAAM,UAAU,GAAG,WAAW,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;gBACvC,IAAI,CAAC,EAAE,GAAG,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;gBAC9B,IAAI,CAAC,EAAE,GAAG,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;gBAC9B,IAAI,CAAC,EAAE,GAAG,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;gBAC9B,OAAO,CAAC,KAAK,CAAC,iEAAiE,EAAE,KAAK,CAAC,CAAC;YACzF,CAAC;QACF,CAAC;IACF,CAAC;IAtCD,sBAAI,oBAAC;aAAL,cAAU,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;;;OAAA;IAC3B,sBAAI,oBAAC;aAAL,cAAU,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;;;OAAA;IAC3B,sBAAI,oBAAC;aAAL,cAAU,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;;;OAAA;IAC3B,sBAAI,0BAAO;aAAX,cAAgB,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;;;OAAA;IAwDxC,YAAC;AAAD,CAAC;;;;;;;;;;;;;;;;;;;;;ACjG0C;AAES;AAGpD;IACC,0BACS,WAAwB;QAAxB,gBAAW,GAAX,WAAW,CAAa;IAAI,CAAC;IAE/B,sCAAW,GAAlB;QACC,MAAM,CACF,IAAI,CAAC,WAAW,CAAC,WAAW,EAAE,SAChC;IACH,CAAC;IARW,gBAAgB;QAD5B,iEAAU,EAAE;6DAGU,yEAAW,oBAAX,yEAAW;OAFrB,gBAAgB,CAS5B;IAAD,uBAAC;;CAAA;AAT4B;;;;;;;;;;;;;;;;;;;;;;ACLc;AAEmB;AAEF;AAGT;AAEnD,IAAM,UAAU,GAAG,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,SAAS,EAAE,IAAI,EAAE,SAAS,EAAE,CAAC;AAGzE;IACC,qBACS,WAAwB;QADjC,iBACsC;QAA7B,gBAAW,GAAX,WAAW,CAAa;QAE1B,gBAAW,GAAG;YACpB,MAAM,CAAC;gBACN,sFAAoB,CAAC,KAAI,CAAC,2BAA2B,EAAE,CAAC;aACxD,CAAC;QACH,CAAC;QAEO,gCAA2B,GAAG;YACrC,MAAM,CAAC,UAAC,OAAO,EAAE,KAAK,IAAK,cAAO;iBAChC,MAAM,CAAC,wEAAgB,CAAC,8BAA8B,CAAC;iBACvD,EAAE,CAAC,gBAAM;gBACT,IAAM,UAAU,GAAG,KAAK,CAAC,QAAQ,EAAE,CAAC,KAAK,CAAC;gBAC1C,IAAM,SAAS,GAAG,UAAU,CAAC,QAAQ,CAAC;gBACtC,IAAM,KAAK,GAAU,UAAU,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC,CAAC;gBAChE,KAAK,CAAC,QAAQ,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC,OAAO,CAAC,kBAAQ;oBAC1D,YAAI,CAAC,WAAW,CAAC,WAAW,CAAC,QAAQ,CAAC,OAAO,EAAE,EAAE,SAAS,EAAE,KAAK,CAAC,WAAW,EAAE,CAAC;gBAAhF,CAAgF,CAAC,CAAC;YACpF,CAAC,CAAC;iBACD,KAAK,CAAC,UAAU,CAAC,EATQ,CASR,CAAC;QACrB,CAAC;IAnBoC,CAAC;IAF1B,WAAW;QADvB,iEAAU,EAAE;6DAGU,6EAAW,oBAAX,6EAAW;OAFrB,WAAW,CAsBvB;IAAD,kBAAC;;CAAA;AAtBuB;;;;;;;;;;;;;;;;;;;;;;;ACZmB;AAEqB;AACS;AACZ;AACY;AAGzE;IACC,sBACS,YAA0B,EAC1B,kBAAsC,EACtC,eAAgC,EAChC,wBAAkD;QAHlD,iBAAY,GAAZ,YAAY,CAAc;QAC1B,uBAAkB,GAAlB,kBAAkB,CAAoB;QACtC,oBAAe,GAAf,eAAe,CAAiB;QAChC,6BAAwB,GAAxB,wBAAwB,CAA0B;IAAI,CAAC;IAEzD,kCAAW,GAAlB;QACC,MAAM,CACF,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE,QAC/B,IAAI,CAAC,kBAAkB,CAAC,WAAW,EAAE,EACrC,IAAI,CAAC,eAAe,CAAC,WAAW,EAAE,EAClC,IAAI,CAAC,wBAAwB,CAAC,WAAW,EAAE,EAC7C;IACH,CAAC;IAdW,YAAY;QADxB,iEAAU,EAAE;6DAGW,kFAAY,oBAAZ,kFAAY,sDACN,8FAAkB,oBAAlB,8FAAkB,sDACrB,qFAAe,oBAAf,qFAAe,sDACN,8FAAwB,oBAAxB,8FAAwB;OAL/C,YAAY,CAexB;IAAD,mBAAC;;CAAA;AAfwB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACRkB;AAEmB;AAC/B;AACE;AACI;AACA;AAEsB;AAGkC;AACjD;AACe;AACL;AAEtD,IAAM,UAAU,GAAG,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,SAAS,EAAE,IAAI,EAAE,SAAS,EAAE,CAAC;AAEzE,IAAM,kBAAkB,GAAG,UAAC,KAAgB,EAAE,KAAgB,EAAE,SAAoB;IACnF,MAAM,CAAC;QACN,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC,CAAC;QACpC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC,CAAC;KACpC,CAAC;AACH,CAAC,CAAC;AAGF;IACC,yBACS,cAA8B,EAC9B,aAA4B;QAFrC,iBAE0C;QADjC,mBAAc,GAAd,cAAc,CAAgB;QAC9B,kBAAa,GAAb,aAAa,CAAe;QAE9B,gBAAW,GAAG;YACpB,MAAM,CAAC;gBACN,sFAAoB,CAAC,KAAI,CAAC,4BAA4B,EAAE,CAAC;gBACzD,sFAAoB,CAAC,KAAI,CAAC,sBAAsB,EAAE,CAAC;aACnD,CAAC;QACH,CAAC;QAEO,iCAA4B,GAAG;YACtC,MAAM,CAAC,UAAC,OAAO,EAAE,KAAK,IAAK,cAAO;iBAChC,MAAM,CAAC,0EAAiB,CAAC,mBAAmB,CAAC;iBAC7C,MAAM,CAAC,gBAAM,IAAI,aAAM,CAAC,OAAO,CAAC,QAAQ,KAAK,gEAAQ,CAAC,UAAU,EAA/C,CAA+C,CAAC;iBACjE,GAAG,CAAC,gBAAM,IAAI,YAAI,CAAC,cAAc,CAAC,kBAAkB,CAAC,oFAAgB,EAAE,CAAC,EAA1D,CAA0D,CAAC,EAHhD,CAGgD,CAAC;QAC7E,CAAC;QAEO,2BAAsB,GAAG;YAChC,MAAM,CAAC,UAAC,OAAO,EAAE,KAAK,IAAK,cAAO;iBAChC,MAAM,CAAC,gFAAoB,CAAC,+BAA+B,CAAC;iBAC5D,SAAS,CAAC,qBAAW;gBACb,6DAAK,CAAyD;gBACtE,MAAM,CAAC,OAAO;qBACZ,MAAM,CAAC,gFAAoB,CAAC,+BAA+B,CAAC;qBAC5D,GAAG,CAAC,oBAAU;oBACd,IAAM,WAAW,GAAG,kBAAkB,CAAC,UAAU,CAAC,OAAO,EAAE,WAAW,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;oBACvF,MAAM,CAAC,KAAI,CAAC,aAAa,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;gBACpD,CAAC,CAAC;qBACD,SAAS,CAAC,OAAO;qBAChB,MAAM,CAAC,gFAAoB,CAAC,6BAA6B,CAAC,CAC3D;qBACA,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC,4CAA4C;YACjE,CAAC,CACD,EAfyB,CAezB,CAAC;QACJ,CAAC;IAjCwC,CAAC;IAH9B,eAAe;QAD3B,iEAAU,EAAE;6DAGa,uEAAc,oBAAd,uEAAc,sDACf,4EAAa,oBAAb,4EAAa;OAHzB,eAAe,CAqC3B;IAAD,sBAAC;;CAAA;AArC2B;;;;;;;;;;;;;;;;;;;;;;;;AC1Be;AACmB;AAG+B;AACjD;AACmB;AAG/D;IACC,kCACS,cAA8B;QADvC,iBAC4C;QAAnC,mBAAc,GAAd,cAAc,CAAgB;QAEhC,gBAAW,GAAG;YACpB,MAAM,CAAC;gBACN,sFAAoB,CAAC,KAAI,CAAC,4BAA4B,EAAE,CAAC;aACzD,CAAC;QACH,CAAC;QAEO,iCAA4B,GAAG;YACtC,MAAM,CAAC,UAAC,OAAO,EAAE,KAAK,IAAK,cAAO;iBAChC,MAAM,CAAC,0EAAiB,CAAC,mBAAmB,CAAC;iBAC7C,MAAM,CAAC,gBAAM,IAAI,aAAM,CAAC,OAAO,CAAC,QAAQ,KAAK,gEAAQ,CAAC,mBAAmB,EAAxD,CAAwD,CAAC;iBAC1E,GAAG,CAAC,gBAAM,IAAI,YAAI,CAAC,cAAc,CAAC,kBAAkB,CAAC,4FAAyB,EAAE,CAAC,EAAnE,CAAmE,CAAC,EAHzD,CAGyD,CAAC;QACtF,CAAC;IAb0C,CAAC;IAFhC,wBAAwB;QADpC,iEAAU,EAAE;6DAGa,uEAAc,oBAAd,uEAAc;OAF3B,wBAAwB,CAgBpC;IAAD,+BAAC;;CAAA;AAhBoC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACTM;AAEmB;AAC5B;AACH;AACE;AAE8B;AAEiC;AACjD;AACO;AACL;AACO;AAExD,IAAM,UAAU,GAAG,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,SAAS,EAAE,IAAI,EAAE,SAAS,EAAE,CAAC;AAGzE;IACC,sBACS,cAA8B,EAC9B,WAAwB,EACxB,SAA2B;QAHpC,iBAGyC;QAFhC,mBAAc,GAAd,cAAc,CAAgB;QAC9B,gBAAW,GAAX,WAAW,CAAa;QACxB,cAAS,GAAT,SAAS,CAAkB;QAE7B,gBAAW,GAAG;YACpB,MAAM;gBACL,sFAAoB,CAAC,KAAI,CAAC,yBAAyB,EAAE,CAAC;gBACtD,sFAAoB,CAAC,KAAI,CAAC,sBAAsB,EAAE,CAAC;qBAChD,KAAI,CAAC,SAAS,CAAC,WAAW,EAAE,EAC9B;QACH,CAAC;QAEO,8BAAyB,GAAG;YACnC,MAAM,CAAC,UAAC,OAAO,EAAE,KAAK,IAAK,cAAO;iBAChC,MAAM,CAAC,0EAAiB,CAAC,mBAAmB,CAAC;iBAC7C,MAAM,CAAC,gBAAM,IAAI,aAAM,CAAC,OAAO,CAAC,QAAQ,KAAK,gEAAQ,CAAC,OAAO,EAA5C,CAA4C,CAAC;iBAC9D,GAAG,CAAC,gBAAM,IAAI,YAAI,CAAC,cAAc,CAAC,kBAAkB,CAAC,6EAAa,EAAE,CAAC,EAAvD,CAAuD,CAAC,EAH7C,CAG6C,CAAC;QAC1E,CAAC;QAEO,2BAAsB,GAAG;YAChC,MAAM,CAAC,UAAC,OAAO,EAAE,KAAK,IAAK,cAAO;iBAChC,MAAM,CAAC,gBAAM;gBACb,aAAM,CAAC,IAAI,KAAK,0EAAiB,CAAC,4BAA4B;uBAC3D,MAAM,CAAC,OAAO,CAAC,GAAG,KAAK,CAAC;YAD3B,CAC2B,CAAC;iBAC5B,GAAG,CAAC,gBAAM,IAAI,YAAI,CAAC,WAAW,CAAC,aAAa,CAAC,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAvD,CAAuD,CAAC;iBACtE,KAAK,CAAC,UAAU,CAAC,EALQ,CAKR,CAAC,CAAC,6BAA6B;QACnD,CAAC;IAxBuC,CAAC;IAJ7B,YAAY;QADxB,iEAAU,EAAE;6DAGa,uEAAc,oBAAd,uEAAc,sDACjB,6EAAW,oBAAX,6EAAW,sDACb,8EAAgB,oBAAhB,8EAAgB;OAJxB,YAAY,CA6BxB;IAAD,mBAAC;;CAAA;AA7BwB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClBzB;;GAEG;AACwC;AAGmB;AAChC;AACI;AACF;AACC;AACG;AACC;AACL;AACK;AACD;AACY;AAEqB;AACJ;AAEc;AAEjB;AAEQ;AAEtE,IAAM,UAAU,GAAG,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,SAAS,EAAE,IAAI,EAAE,SAAS,EAAE,CAAC;AAEzE,IAAM,oBAAoB,GAAG,UAAC,KAAgB,EAAE,UAAkB;IACzD,4BAAK,EAAE,4BAAO,CAAgB;IACtC,MAAM,CAAC;QACN,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,GAAG,OAAO,CAAC,CAAC,CAAC,GAAG,KAAK;QAChC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,GAAG,OAAO,CAAC,CAAC,CAAC,GAAG,KAAK;KAChC,CAAC;AACH,CAAC,CAAC;AAGF;IACC,0BACS,cAA8B,EAC9B,aAA4B,EAC5B,WAAwB;QAHjC,iBAGsC;QAF7B,mBAAc,GAAd,cAAc,CAAgB;QAC9B,kBAAa,GAAb,aAAa,CAAe;QAC5B,gBAAW,GAAX,WAAW,CAAa;QAEzB,gBAAW,GAAG;YACpB,MAAM,CAAC;gBACN,sFAAoB,CAAC,KAAI,CAAC,oCAAoC,EAAE,CAAC;aACjE,CAAC;QACH,CAAC;QAEM,yCAAoC,GAAG;YAE9C,IAAM,kBAAkB,GAAG,UAAC,KAA+B,EAAE,WAAmB,EAAE,YAAqB,EAAE,UAAuB;gBAChI,iBAAC,MAA0C;oBAC1C,IAAI,QAAQ,GAAc,MAAM,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;oBACtD,IAAM,QAAQ,GAAkB,KAAK,CAAC,QAAQ,EAAE,CAAC,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,IAAI,EAAE,CAAC;oBACpG,EAAE,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;wBAClB,IAAM,UAAU,GAAW,KAAK,CAAC,QAAQ,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;wBAChE,QAAQ,GAAG,oBAAoB,CAAY,MAAM,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC;oBAAC,CAAC;oBAC1E,MAAM,CAAC,KAAI,CAAC,WAAW,CAAC,eAAe,CAAC,QAAQ,EAAE,QAAQ,EAAE,UAAU,CAAC,CAAC;gBACzE,CAAC;YAPD,CAOC,CAAC;YAEF,IAAM,wBAAwB,GAAG,UAAC,KAA+B,EAAE,WAAmB,EAAE,YAAqB;gBAC7G,iBAAC,MAA0C;oBAC1C,IAAI,QAAQ,GAAc,MAAM,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;oBACtD,IAAM,QAAQ,GAAkB,KAAK,CAAC,QAAQ,EAAE,CAAC,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,IAAI,EAAE,CAAC;oBACpG,IAAM,GAAG,GAAU,KAAK,CAAC,QAAQ,EAAE,CAAC,MAAM,CAAC,KAAK,EAAE,MAAM,SAAK,QAAQ,EAAG,CAAC,QAAQ,CAAC,IAAI,GAAG,CAAC,CAAC;oBAC3F,EAAE,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;wBAClB,IAAM,UAAU,GAAW,KAAK,CAAC,QAAQ,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;wBAChE,QAAQ,GAAG,oBAAoB,CAAY,MAAM,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC;oBAAC,CAAC;oBAC1E,MAAM,CAAC,KAAI,CAAC,aAAa,CAAC,cAAc,CAAC,QAAQ,EAAE,GAAG,EAAE,QAAQ,CAAC,CAAC;gBACnE,CAAC;YARD,CAQC,CAAC;YAEF,IAAI,cAA0B,CAAC;YAE/B,MAAM,CAAC,UAAC,OAAO,EAAE,KAAK,IAAK,cAAO;iBAChC,MAAM,CAAC,2EAAiB,CAAC,4BAA4B,CAAC;iBACtD,QAAQ,CAAC,cAAM,cAAO;iBACrB,MAAM,CAAC,iFAAc,CAAC,aAAa,CAAC;iBACpC,SAAS,CAAC,cAAM,cAAO,CAAC,MAAM,CAAC,2EAAiB,CAAC,4BAA4B,CAAC,EAA9D,CAA8D,CAAC,EAFjE,CAEiE,CAChF;iBACA,GAAG,CAAC,gBAAM,IAAI,YAAI,CAAC,WAAW,CAAC,WAAW,CAC1C,KAAK,CAAC,QAAQ,EAAE,CAAC,MAAM,CAAC,OAAO,CAAC,OAAO,EAAE,EACzC,oBAAoB,CAAC,MAAM,CAAC,OAAO,EAAU,KAAK,CAAC,QAAQ,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,CAAC,EAFrE,CAEqE,CACnF;iBACA,GAAG,CAAC,gBAAM,IAAI,YAAI,CAAC,cAAc,CAAC,sBAAsB,CAAK,MAAM,CAAC,OAAO,CAAC,QAAQ,SAAE,CAAC,CAAC,GAAE,EAA5E,CAA4E,CAAC;iBAC3F,GAAG,CAAC,gBAAM,IAAI,YAAI,CAAC,WAAW,CAAC,WAAW,CAAC,MAAM,CAAC,OAAO,EAAE,6EAAc,CAAC,IAAI,EAAE,KAAK,CAAC,QAAQ,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC,EAAtH,CAAsH,CAAC;iBACrI,GAAG,CAAC,gBAAM,IAAI,YAAI,CAAC,WAAW,CAAC,WAAW,CAC1C,MAAM,CAAC,OAAO,CAAC,QAAQ,EAAE,6EAAc,CAAC,OAAO,EAAE,KAAK,CAAC,QAAQ,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC,EAD1F,CAC0F,CAAC;iBACzG,SAAS,CAAC;gBACV,8EAAU,CACT,OAAO,CAAC,MAAM,CAAC,2EAAiB,CAAC,0BAA0B,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;qBAClE,GAAG,CAAC,kBAAkB,CAAC,KAAK,EAAE,UAAU,EAAE,IAAI,CAAC,CAAC;qBAChD,EAAE,CAAC,cAAM,qBAAc,GAAG,gFAAU,CAAC,MAAM,EAAlC,CAAkC,CAAC,EAC9C,OAAO,CAAC,MAAM,CAAC,2EAAiB,CAAC,4BAA4B,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,0CAA0C;qBAC/G,GAAG,CAAC,kBAAkB,CAAC,KAAK,EAAE,UAAU,EAAE,IAAI,EAAE,gFAAU,CAAC,gBAAgB,CAAC,CAAC;qBAC7E,EAAE,CAAC,cAAM,qBAAc,GAAG,gFAAU,CAAC,gBAAgB,EAA5C,CAA4C,CAAC;qBACtD,SAAS,CAAC,cAAM,cAAO,CAAC,mCAAmC;qBAC1D,MAAM,CAAC,2EAAiB,CAAC,4BAA4B,CAAC;qBACtD,GAAG,CAAC,wBAAwB,CAAC,KAAK,EAAE,UAAU,EAAE,IAAI,CAAC,CAAC;qBACtD,GAAG,CAAC,gBAAM,IAAI,YAAI,CAAC,aAAa,CAAC,kBAAkB,CAAC,MAAM,CAAC,OAAO,CAAC,QAAQ,EAAE,MAAM,CAAC,OAAO,CAAC,GAAG,EAAE,MAAM,CAAC,OAAO,CAAC,QAAQ,EAAE,MAAM,CAAC,EAAnH,CAAmH,CAAC,EAHnH,CAGmH,CACnI;qBACA,SAAS,CAAC,OAAO,CAAC,MAAM,CAAC,2EAAiB,CAAC,0BAA0B,CAAC,CAAC,CACzE;qBACA,IAAI,EAAE;qBACN,SAAS,CAAC,cAAM,cAAO,CAAC,qBAAqB;qBAC5C,MAAM,CAAC,2EAAiB,CAAC,4BAA4B,CAAC;qBACtD,QAAQ,CAAC,cAAM,cAAO,CAAC,sFAAsF;qBAC5G,MAAM,CAAC,2EAAiB,CAAC,4BAA4B,CAAC;qBACtD,QAAQ,CAAC,oBAAU,IAAI,8EAAU,CACjC,OAAO,CAAC,MAAM,CAAC,2EAAiB,CAAC,0BAA0B,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;qBAClE,GAAG,CAAC,kBAAkB,CAAC,KAAK,EAAE,UAAU,EAAE,IAAI,CAAC,CAAC;qBAChD,EAAE,CAAC,cAAM,qBAAc,GAAG,gFAAU,CAAC,MAAM,EAAlC,CAAkC,CAAC,EAC9C,OAAO,CAAC,MAAM,CAAC,2EAAiB,CAAC,4BAA4B,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;qBACpE,GAAG,CAAC,kBAAkB,CAAC,KAAK,EAAE,UAAU,EAAE,IAAI,EAAE,gFAAU,CAAC,aAAa,CAAC,CAAC;qBAC1E,GAAG,CAAC,gBAAM;oBACV,EAAE,CAAC,CAAC,cAAc,KAAK,gFAAU,CAAC,MAAM,CAAC,CAAC,CAAC;wBAC1C,IAAM,QAAQ,GAAkB,KAAK,CAAC,QAAQ,EAAE,CAAC,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,IAAI,EAAE,CAAC;wBACpG,IAAM,GAAG,GAAU,KAAK,CAAC,QAAQ,EAAE,CAAC,MAAM,CAAC,KAAK,EAAE,MAAM,SAAK,QAAQ,EAAG,CAAC,QAAQ,CAAC,IAAI,GAAG,CAAC,CAAC;wBAC3F,MAAM,CAAC,KAAI,CAAC,aAAa,CAAC,UAAU,CAAC,MAAM,CAAC,OAAO,CAAC,QAAQ,EAAE,GAAG,GAAG,CAAC,EAAE,gFAAU,CAAC,aAAa,CAAC,CAAC;oBAClG,CAAC;oBACD,MAAM,CAAC,MAAM,CAAC;gBACf,CAAC,CAAC;qBACD,SAAS,CAAC,cAAM,cAAO;qBACtB,MAAM,CAAC,2EAAiB,CAAC,4BAA4B,CAAC;qBACtD,GAAG,CAAC,wBAAwB,CAAC,KAAK,EAAE,UAAU,EAAE,IAAI,CAAC,CAAC;qBACtD,GAAG,CAAC,gBAAM,IAAI,YAAI,CAAC,aAAa,CAAC,kBAAkB,CAAC,MAAM,CAAC,OAAO,CAAC,QAAQ,EAAE,MAAM,CAAC,OAAO,CAAC,GAAG,EAAE,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,EAA3G,CAA2G,CAAC;qBAC1H,GAAG,CAAC,gBAAM;oBACV,IAAM,UAAU,GAAW,KAAK,CAAC,QAAQ,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;oBAChE,IAAM,YAAY,GAAG,oBAAoB,CAAC,UAAU,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC;oBAC1E,IAAM,QAAQ,GAAc;wBAC3B,CAAC,EAAE,CAAC,YAAY,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;wBACnD,CAAC,EAAE,CAAC,YAAY,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;qBACnD,CAAC;oBACF,MAAM,CAAC,KAAI,CAAC,aAAa,CAAC,kBAAkB,CAAC,MAAM,CAAC,OAAO,CAAC,QAAQ,EAAE,MAAM,CAAC,OAAO,CAAC,GAAG,GAAG,CAAC,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;gBAChH,CAAC,CAAC,EAZc,CAYd,CACF;qBACA,EAAE,CAAC,cAAM,qBAAc,GAAG,gFAAU,CAAC,aAAa,EAAzC,CAAyC,CAAC;qBACnD,SAAS,CAAC,OAAO,CAAC,MAAM,CAAC,2EAAiB,CAAC,0BAA0B,CAAC,CAAC,CACzE,CAAC,IAAI,EAAE,EA9BgB,CA8BhB,CAAC,EAhCM,CAgCN,CACT;qBACA,SAAS,CAAC;oBACV,IAAI,SAAiB,CAAC;oBACtB,MAAM,CAAC,OAAO;yBACb,MAAM,CAAC,2EAAiB,CAAC,4BAA4B,CAAC;yBACtD,GAAG,CAAC,wBAAwB,CAAC,KAAK,EAAE,UAAU,EAAE,IAAI,CAAC,CAAC;yBACtD,EAAE,CAAC,gBAAM,IAAI,gBAAS,GAAG,MAAM,CAAC,OAAO,CAAC,GAAG,EAA9B,CAA8B,CAAC;yBAC5C,MAAM,CAAC;wBACP,qBAAc,KAAK,gFAAU,CAAC,gBAAgB;+BAC3C,cAAc,KAAK,gFAAU,CAAC,aAAa;oBAD9C,CAC8C,CAAC;yBAC/C,GAAG,CAAC,gBAAM,IAAI,YAAI,CAAC,aAAa,CAAC,kBAAkB,CAAC,MAAM,CAAC,OAAO,CAAC,QAAQ,EAAE,SAAS,EAAE,MAAM,CAAC,OAAO,CAAC,QAAQ,EAAE,KAAK,CAAC,EAAzG,CAAyG,CAAC;yBACxH,SAAS,CAAC,OAAO,CAAC,MAAM,CAAC,2EAAiB,CAAC,4BAA4B,CAAC,CAAC,CAAC;gBAC5E,CAAC,CAAC,EA/Cc,CA+Cd,CACF;qBACA,SAAS,CAAC,OAAO,CAAC,MAAM,CAAC,iFAAc,CAAC,aAAa,CAAC,CAAC;YAhExD,CAgEwD,CACxD;iBACA,KAAK,CAAC,UAAU,CAAC,EAjFQ,CAiFR,CAAC;QACrB,CAAC;IAnHoC,CAAC;IAJ1B,gBAAgB;QAD5B,iEAAU,EAAE;6DAGa,wEAAc,oBAAd,wEAAc,sDACf,oFAAa,oBAAb,oFAAa,sDACf,8EAAW,oBAAX,8EAAW;OAJrB,gBAAgB,CAwH5B;IAAD,uBAAC;;CAAA;AAxH4B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtCc;AAEmB;AAEU;AACR;AAEL;AACM;AAE4B;AACjD;AACqB;AACL;AAE5D,IAAM,UAAU,GAAG,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,SAAS,EAAE,IAAI,EAAE,SAAS,EAAE,CAAC;AAGzE;IACC,4BACS,cAA8B,EAC9B,eAAgC,EAChC,aAA4B;QAHrC,iBAG0C;QAFjC,mBAAc,GAAd,cAAc,CAAgB;QAC9B,oBAAe,GAAf,eAAe,CAAiB;QAChC,kBAAa,GAAb,aAAa,CAAe;QAE9B,gBAAW,GAAG;YACpB,MAAM,CAAC;gBACN,sFAAoB,CAAC,KAAI,CAAC,+BAA+B,EAAE,CAAC;gBAC5D,sFAAoB,CAAC,KAAI,CAAC,qBAAqB,EAAE,CAAC;gBAClD,sFAAoB,CAAC,KAAI,CAAC,mBAAmB,EAAE,CAAC;gBAChD,sFAAoB,CAAC,KAAI,CAAC,yBAAyB,CAAC,4EAAc,CAAC,IAAI,CAAC,CAAC;gBACzE,sFAAoB,CAAC,KAAI,CAAC,yBAAyB,CAAC,4EAAc,CAAC,OAAO,CAAC,CAAC;aAC5E,CAAC;QACH,CAAC;QAEO,oCAA+B,GAAG;YACzC,MAAM,CAAC,UAAC,OAAO,EAAE,KAAK,IAAK,cAAO;iBAChC,MAAM,CAAC,0EAAiB,CAAC,mBAAmB,CAAC;iBAC7C,MAAM,CAAC,gBAAM,IAAI,aAAM,CAAC,OAAO,CAAC,QAAQ,KAAK,gEAAQ,CAAC,aAAa,EAAlD,CAAkD,CAAC;iBACpE,GAAG,CAAC,gBAAM,IAAI,YAAI,CAAC,cAAc,CAAC,kBAAkB,CAAC,yFAAmB,EAAE,CAAC,EAA7D,CAA6D,CAAC,EAHnD,CAGmD,CAAC;QAChF,CAAC;QAEO,0BAAqB,GAAG;YAC/B,MAAM,CAAC,UAAC,OAAO,EAAE,KAAK,IAAK,cAAO;iBAChC,MAAM,CAAC,sFAAuB,CAAC,oCAAoC,CAAC;iBACpE,GAAG,CAAC,gBAAM,IAAI,YAAI,CAAC,eAAe,CAAC,YAAY,CAAC,MAAM,CAAC,OAAO,CAAC,EAAjD,CAAiD,CAAC;iBAChE,KAAK,CAAC,UAAU,CAAC,EAHQ,CAGR,CAAC,CAAC,6BAA6B;QACnD,CAAC;QAEO,wBAAmB,GAAG;YAC7B,MAAM,CAAC,UAAC,OAAO,EAAE,KAAK,IAAK,cAAO;iBAChC,MAAM,CAAC,sFAAuB,CAAC,kCAAkC,CAAC;iBAClE,GAAG,CAAC,gBAAM,IAAI,YAAI,CAAC,eAAe,CAAC,iBAAiB,EAAE,EAAxC,CAAwC,CAAC;iBACvD,KAAK,CAAC,UAAU,CAAC,EAHQ,CAGR,CAAC,CAAC,6BAA6B;QACnD,CAAC;QAEO,8BAAyB,GAAG,UAAC,SAAyB;YAC7D,MAAM,CAAC,UAAC,OAAO,EAAE,KAAK,IAAK,cAAO;iBAChC,MAAM,CAAC,sFAAuB,CAAC,oCAAoC,CAAC;iBACpE,GAAG,CAAC,gBAAM;gBACV,IAAM,IAAI,GAAS,KAAK,CAAC,QAAQ,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,iFAAQ,CAAC,WAAW,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC;gBAC5F,EAAE,CAAC,CAAC,OAAO,IAAI,KAAK,WAAW,CAAC,CAAC,CAAC;oBACjC,MAAM,CAAC,KAAI,CAAC,aAAa,CAAC,WAAW,CAAC,SAAS,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;gBACnE,CAAC;gBACD,MAAM,CAAC,UAAU,CAAC;YACnB,CAAC,CAAC,EARwB,CAQxB,CAAC;QACL,CAAC;IA3CwC,CAAC;IAJ9B,kBAAkB;QAD9B,iEAAU,EAAE;6DAGa,uEAAc,oBAAd,uEAAc,sDACb,yFAAe,oBAAf,yFAAe,sDACjB,kFAAa,oBAAb,kFAAa;OAJzB,kBAAkB,CAgD9B;IAAD,yBAAC;;CAAA;AAhD8B;;;;;;;;;;;;;;AClBE;AAGa;AACF;AACkB;AAEvD,IAAM,mBAAmB,GAAG;IAClC,IAAM,OAAO,GAAG,IAAI,mFAAoB,EAAE,CAAC;IAE3C,IAAM,mBAAmB,GAAoB,UAAC,CAAa,EAAE,EAAsB;YAApB,0CAAkB;QAChF,CAAC,CAAC,eAAe,EAAE,CAAC;QACpB,IAAM,YAAY,GAAO,kBAAkB,CAAC,eAAe,CAAC,OAAO,EAAE,SAAE,kBAAkB,CAAC,GAAG,EAAC,CAAC;QAC/F,MAAM,CAAC,OAAO,CAAC,yBAAyB,CAAC,YAAY,CAAC,CAAC;IACxD,CAAC,CAAC;IAEF,IAAM,iBAAiB,GAAoB,UAAC,CAAa;QACxD,MAAM,CAAC,OAAO,CAAC,iBAAiB,EAAE,CAAC;IACpC,CAAC,CAAC;IAEF,MAAM,CAAC,IAAI,kEAAQ,CAAC;QACnB,IAAI,EAAE,gEAAQ,CAAC,aAAa;QAC5B,SAAS,EAAE,uDAAI,CAAqB;YACnC,EAAE,IAAI,EAAE,WAAW,EAAE,OAAO,EAAE,mBAAmB,EAAE,MAAM,EAAE,MAAM,EAAE;YACnE,EAAE,IAAI,EAAE,WAAW,EAAE,OAAO,EAAE,mBAAmB,EAAE,MAAM,EAAE,OAAO,EAAE;YACpE,EAAE,IAAI,EAAE,WAAW,EAAE,OAAO,EAAE,iBAAiB,EAAE,MAAM,EAAE,QAAQ,EAAE;SACnE,CAAC;KACF,CAAC,CAAC;AACJ,CAAC,CAAC;;;;;;;;;;;;;;;;;;AC1BoE;AACF;AACP;AACF;AACoB;AACL;AACG;AACH;AAC3B;AAExC,IAAM,cAAc,GAA0B,UACpD,KAA2E,EAC3E,MAAc;IADd,oCAA0B,oEAAY,CAAC,EAAE,QAAQ,EAAE,uGAAmB,EAAE,EAAE,CAAC;IAG3E,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;QACd,KAAK,MAAM,CAAC,IAAI,IAAI,kFAAiB;YACpC,MAAM,CAAC,wFAAc,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;QACtC,KAAK,MAAM,CAAC,IAAI,IAAI,oGAAuB;YAC1C,MAAM,CAAC,0GAAoB,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;QAC5C,KAAK,MAAM,CAAC,IAAI,IAAI,2FAAoB;YACvC,MAAM,CAAC,iGAAiB,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;IAC1C,CAAC;IACD,MAAM,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QACrB,KAAK,0EAAiB,CAAC,mBAAmB;YACzC,MAAM,CAAC,KAAK,CAAC,CAAC,+DAA+D;QAC9E,KAAK,0EAAiB,CAAC,sBAAsB;YAC5C,MAAM,CAAC,IAAI,oEAAY,CAAC,EAAE,QAAQ,EAAwB,MAAO,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,0CAA0C;IAC/H,CAAC;IACD,MAAM,CAAC,KAAK,CAAC;AACd,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/B8C;AAKzB;AAEyC;AACb;AASnD;IAAyC,uCAAiB;IAGzD,6BACS,cAA8B;QADvC,YAC2C,iBAAO,SAAG;QAA5C,oBAAc,GAAd,cAAc,CAAgB;QAHvC,YAAM,GAAG,GAAG,CAAC;QAUb,qBAAe,GAAG,cAAQ,KAAI,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC,CAAC;QAEnC,gBAAU,GAAG,cAAM,YAAI,CAAC,cAAc,CAAC,gBAAgB,CAAC,KAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,EAA3D,CAA2D,CAAC;;IATvC,CAAC;IAErD,oDAAsB,GAAtB;QACC,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,KAAK,CAAC,MAAM,GAAG,cAAc,CAAC;QAC/D,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC;IACxD,CAAC;IAIW;QAAX,sEAAQ,EAAE;;2DAAgF;IAb/E,mBAAmB;QAP/B,gEAAS,CAAC;YACV,QAAQ,EAAE,gBAAgB;YAC1B,kCAA0C;YAC1C,kCAA0C;YAC1C,aAAa,EAAE,gEAAiB,CAAC,QAAQ;YACzC,eAAe,EAAE,sEAAuB,CAAC,OAAO;SAChD,CAAC;6DAKwB,uEAAc,oBAAd,uEAAc;OAJ3B,mBAAmB,CAc/B;IAAD,0BAAC;;CAAA,CAdwC,oFAAiB,GAczD;AAd+B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjBgB;AAMzB;AAEyC;AACb;AASnD;IAAkD,gDAAiB;IAGlE,sCACS,cAA8B;QADvC,YAC2C,iBAAO,SAAG;QAA5C,oBAAc,GAAd,cAAc,CAAgB;QAHvC,YAAM,GAAG,GAAG,CAAC;QASb,qBAAe,GAAG,cAAQ,KAAI,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC,CAAC;QAEnC,gBAAU,GAAG,cAAM,YAAI,CAAC,cAAc,CAAC,gBAAgB,CAAC,KAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,EAA3D,CAA2D,CAAC;;IARvC,CAAC;IAErD,6DAAsB,GAAtB;QACC,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,KAAK,CAAC,MAAM,GAAG,wDAAwD,CAAC;IAC1G,CAAC;IAIW;QAAX,sEAAQ,EAAE;;oEAAgF;IAZ/E,4BAA4B;QAPxC,gEAAS,CAAC;YACV,QAAQ,EAAE,gBAAgB;YAC1B,kCAA0C;YAC1C,kCAA0C;YAC1C,aAAa,EAAE,gEAAiB,CAAC,QAAQ;YACzC,eAAe,EAAE,sEAAuB,CAAC,OAAO;SAChD,CAAC;6DAKwB,uEAAc,oBAAd,uEAAc;OAJ3B,4BAA4B,CAaxC;IAAD,mCAAC;;CAAA,CAbiD,oFAAiB,GAalE;AAbwC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClBO;AAKzB;AAEyC;AACb;AASnD;IAAsC,oCAAiB;IAGtD,0BACS,cAA8B;QADvC,YAC2C,iBAAO,SAAG;QAA5C,oBAAc,GAAd,cAAc,CAAgB;QAHvC,YAAM,GAAG,GAAG,CAAC;QASb,qBAAe,GAAG,cAAQ,KAAI,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC,CAAC;QAEnC,gBAAU,GAAG,cAAM,YAAI,CAAC,cAAc,CAAC,gBAAgB,CAAC,KAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,EAA3D,CAA2D,CAAC;;IARvC,CAAC;IAErD,iDAAsB,GAAtB;QACC,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,KAAK,CAAC,MAAM,GAAG,yDAAyD,CAAC;IAC3G,CAAC;IAIW;QAAX,sEAAQ,EAAE;;wDAAgF;IAZ/E,gBAAgB;QAP5B,gEAAS,CAAC;YACV,QAAQ,EAAE,aAAa;YACvB,kCAAuC;YACvC,kCAAuC;YACvC,aAAa,EAAE,gEAAiB,CAAC,QAAQ;YACzC,eAAe,EAAE,sEAAuB,CAAC,OAAO;SAChD,CAAC;6DAKwB,uEAAc,oBAAd,uEAAc;OAJ3B,gBAAgB,CAa5B;IAAD,uBAAC;;CAAA,CAbqC,oFAAiB,GAatD;AAb4B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjBmB;AAKzB;AAEyC;AACb;AASnD;IAA4C,0CAAiB;IAG5D,gCACS,cAA8B;QADvC,YAC2C,iBAAO,SAAG;QAA5C,oBAAc,GAAd,cAAc,CAAgB;QAHvC,YAAM,GAAG,GAAG,CAAC;QASb,qBAAe,GAAG,cAAQ,KAAI,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC,CAAC;QAEnC,gBAAU,GAAG,cAAM,YAAI,CAAC,cAAc,CAAC,gBAAgB,CAAC,KAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,EAA3D,CAA2D,CAAC;;IARvC,CAAC;IAErD,uDAAsB,GAAtB;QACC,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,KAAK,CAAC,MAAM,GAAG,+DAA+D,CAAC;IACjH,CAAC;IAIW;QAAX,sEAAQ,EAAE;;8DAAgF;IAZ/E,sBAAsB;QAPlC,gEAAS,CAAC;YACV,QAAQ,EAAE,mBAAmB;YAC7B,kCAA6C;YAC7C,kCAA6C;YAC7C,aAAa,EAAE,gEAAiB,CAAC,QAAQ;YACzC,eAAe,EAAE,sEAAuB,CAAC,OAAO;SAChD,CAAC;6DAKwB,uEAAc,oBAAd,uEAAc;OAJ3B,sBAAsB,CAalC;IAAD,6BAAC;;CAAA,CAb2C,oFAAiB,GAa5D;AAbkC;;;;;;;;;;;;;;;;;;;ACjByB;AAK5D;IACC,uBAAmB,gBAAkC;QAAlC,qBAAgB,GAAhB,gBAAgB,CAAkB;IAAI,CAAC;IAD9C,aAAa;QAHzB,gEAAS,CAAC;YACV,QAAQ,EAAE,eAAe;SACzB,CAAC;6DAEoC,+DAAgB,oBAAhB,+DAAgB;OADzC,aAAa,CAEzB;IAAD,oBAAC;;CAAA;AAFyB;;;;;;;;;;;;;;;;;;;;ACLqB;AAC4B;AAE9B;AACF;AAE3C,EAAE,CAAC,CAAC,iEAAW,CAAC,UAAU,CAAC,CAAC,CAAC;IAC3B,qEAAc,EAAE,CAAC;AACnB,CAAC;AAED,yGAAsB,EAAE,CAAC,eAAe,CAAC,kEAAS,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACVC;AACZ;AACI;AACF;AACe;AACvC;AACO;AACK;AAEgB;AACO;AACH;AACA;AACM;AAED;AAEO;AAoB/D;IAAA;IAAyB,CAAC;IAAb,SAAS;QAlBrB,+DAAQ,CAAC;YACT,YAAY,EAAE;gBACb,oEAAY;aACZ;YACD,OAAO,EAAE;gBACR,gFAAa;gBACb,mEAAW;gBACX,iEAAU;gBACV,8EAAgB;gBAChB,mEAAa;gBACb,2EAAY;gBACZ,yEAAW;gBACX,+EAAa;gBACb,yEAAW;aACX;YACD,SAAS,EAAE,CAAC,qFAAe,CAAC;YAC5B,SAAS,EAAE,CAAC,oEAAY,CAAC;SACzB,CAAC;OACW,SAAS,CAAI;IAAD,gBAAC;CAAA;AAAJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrC2C;AACF;AAO/D;IAEC,sBAAmB,eAAgC;QAAhC,oBAAe,GAAf,eAAe,CAAiB;QAElD,EAAE,CAAC,CAAC,eAAe,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC;YAClC,OAAO,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;YAC7B,+EAA+E;YAC/E,OAAO,CAAC,GAAG,CAAC,GAAG,EAAE,eAAe,CAAC,WAAW,CAAC,CAAC;YAC9C,0FAA0F;YAC1F,OAAO,CAAC,GAAG,CAAC,GAAG,EAAE,eAAe,CAAC,YAAY,CAAC,CAAC;QAChD,CAAC;QAAC,IAAI,CAAC,CAAC;YACP,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;QACzB,CAAC;IACF,CAAC;IAZkB;QAAlB,gEAAS,CAAC,MAAM,CAAC;sDAAO,yDAAU,oBAAV,yDAAU;8CAAC;IADxB,YAAY;QALxB,gEAAS,CAAC;YACV,QAAQ,EAAE,UAAU;YACpB,kCAAmC;YACnC,kCAAmC;SACnC,CAAC;6DAGmC,oFAAe,oBAAf,oFAAe;OAFvC,YAAY,CAcxB;IAAD,mBAAC;;CAAA;AAdwB;;;;;;;ACRzB,mP;;;;;;ACAA;AACA;;;AAGA;AACA,+BAAgC,yDAAyD,iBAAiB,kBAAkB,oBAAoB,qBAAqB,WAAW,YAAY,kBAAkB,EAAE,0BAA0B,sBAAsB,gBAAgB,eAAe,iCAAiC,mBAAmB,oBAAoB,uDAAuD,8BAA8B,2CAA2C,sBAAsB,EAAE;;AAE/f;;;AAGA;AACA,2C;;;;;;;;;;;;;;;;;;;;;;;;;;;ACX+C;AACN;AAEa;AACqB;AAC3B;AACK;AACR;AACgB;AACK;AACA;AACT;AACR;AACK;AA6BtD;IAAA;IAA4B,CAAC;IAAhB,YAAY;QA3BxB,+DAAQ,CAAC;YACT,OAAO,EAAE;gBACR,qEAAY;gBACZ,2EAAY;aACZ;YACD,YAAY,EAAE;gBACb,4EAAa;gBACb,+EAAc;gBACd,0EAAe;gBACf,uFAAiB;gBACjB,uFAAiB;gBACjB,gGAAoB;aACpB;YACD,eAAe,EAAE;gBAChB,+EAAc;gBACd,4EAAa;aACb;YACD,SAAS,EAAE;gBACV,uEAAW;gBACX,qEAAa;gBACb,kEAAW;gBACX,kFAAe;aACf;YACD,OAAO,EAAE;gBACR,0EAAe;aACf;SACD,CAAC;OACW,YAAY,CAAI;IAAD,mBAAC;CAAA;AAAJ;;;;;;;;;;;;;;;;;;;;;;;AC1CsB;AACN;AAEO;AACe;AACV;AACU;AACG;AACA;AAyBlE;IAAA;IAA4B,CAAC;IAAhB,YAAY;QAvBxB,+DAAQ,CAAC;YACT,OAAO,EAAE;gBACR,qEAAY;aACZ;YACD,YAAY,EAAE;gBACb,uFAAqB;gBACrB,oFAAoB;gBACpB,oFAAe;gBACf,0EAAe;gBACf,uFAAqB;aACrB;YACD,eAAe,EAAE;gBAChB,uFAAqB;gBACrB,oFAAoB;gBACpB,uFAAqB;aACrB;YACD,SAAS,EAAE;gBACV,qEAAa;aACb;YACD,OAAO,EAAE;gBACR,oFAAe;aACf;SACD,CAAC;OACW,YAAY,CAAI;IAAD,mBAAC;CAAA;AAAJ;;;;;;;ACjCzB,4E;;;;;;ACAA;AACA;;;AAGA;AACA,kCAAmC,uBAAuB,cAAc,eAAe,eAAe,gBAAgB,4CAA4C,iCAAiC,uBAAuB,EAAE,mBAAmB,gCAAgC,mCAAmC,EAAE;;AAEpT;;;AAGA;AACA,2C;;;;;;ACXA,wV;;;;;;ACAA;AACA;;;AAGA;AACA,kCAAmC,uBAAuB,cAAc,eAAe,eAAe,gBAAgB,4CAA4C,iCAAiC,uBAAuB,EAAE,mBAAmB,gCAAgC,kCAAkC,EAAE,kBAAkB,uBAAuB,YAAY,WAAW,gBAAgB,iBAAiB,yBAAyB,EAAE,qCAAqC,iBAAiB,uCAAuC,wBAAwB,EAAE,oBAAoB,8BAA8B,uBAAuB,cAAc,eAAe,eAAe,gBAAgB,uBAAuB,EAAE;;AAEpsB;;;AAGA;AACA,2C;;;;;;ACXA,0V;;;;;;ACAA;AACA;;;AAGA;AACA,kCAAmC,uBAAuB,cAAc,eAAe,eAAe,gBAAgB,4CAA4C,iCAAiC,uBAAuB,EAAE,mBAAmB,gCAAgC,kCAAkC,EAAE,mBAAmB,uBAAuB,YAAY,WAAW,gBAAgB,iBAAiB,EAAE,uCAAuC,iBAAiB,uCAAuC,wBAAwB,EAAE,oBAAoB,8BAA8B,uBAAuB,cAAc,eAAe,eAAe,gBAAgB,uBAAuB,EAAE;;AAE9qB;;;AAGA;AACA,2C;;;;;;ACXA,6D;;;;;;ACAA;AACA;;;AAGA;AACA;;AAEA;;;AAGA;AACA,2C;;;;;;;;;;;;;;;;;;;;;;;;;;ACX4D;AACV;AAEd;AACS;AAGK;AACkB;AAUpE,IAAM,eAAe,GAAG,EAAE,GAAG,EAAE,QAAQ,EAAE,MAAM,EAAE,CAAC,QAAQ,EAAE,IAAI,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,QAAQ,EAAE,CAAC;AAE/F,IAAM,kBAAkB,GAAG,UAAC,IAAU;IACrC,WAAI,CAAC,QAAQ,CAAC,MAAM,CAAe,UAAC,QAAQ,EAAE,MAAM,IAAK,QAAC;QACzD,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,EAAE,QAAQ,CAAC,GAAG,CAAC;QACjD,MAAM,EAAE,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,EAAE,QAAQ,CAAC,MAAM,CAAC;QACvD,KAAK,EAAE,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,EAAE,QAAQ,CAAC,KAAK,CAAC;QACrD,IAAI,EAAE,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,EAAE,QAAQ,CAAC,IAAI,CAAC;KACnD,CAAC,EALuD,CAKvD,EAAE,eAAe,CAAC;AALpB,CAKoB,CAAC;AAWtB;IA6CC;QAAA,iBAKC;QAED,gBAAW,GAAG,cAAM,QAAC,QAAQ,CAAC,EAAV,CAAU,CAAC;QAN9B,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,cAAI,IAAI,YAAI,CAAC,cAAc,GAAG;YACvD,GAAG,EAAE,IAAI,CAAC,MAAM,EAAE,MAAM,EAAE,CAAC;YAC3B,IAAI,EAAE,IAAI,CAAC,KAAK,EAAE,KAAK,EAAE,CAAC;SAC1B,EAHiC,CAGjC,CAAC,CAAC;IACJ,CAAC;IA3CD,sBAAI,8CAAY;aAAhB;YAAA,iBA+BC;YA9BA,MAAM,CAAC,IAAI,CAAC,SAAS;iBACnB,QAAQ,CAAC,kBAAQ;gBACjB,YAAI,CAAC,KAAK,CAAC,GAAG,CAAC,cAAI;oBAClB,KAAI,CAAC,IAAI,GAAG,KAAK,CAAC;oBAClB,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAe,UAAC,QAAQ,EAAE,YAAY;wBAC3D,IAAM,QAAQ,GAAa,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC,CAAC;wBAC3D,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;wBACjB,EAAE,CAAC,CAAC,OAAO,QAAQ,KAAK,WAAW,CAAC,CAAC,CAAC;4BACrC,MAAM,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;gCACvB,KAAK,8EAAY,CAAC,MAAM;oCACvB,MAAM,CAAC;wCACN,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC,EAAE,QAAQ,CAAC,GAAG,CAAC;wCACnD,MAAM,EAAE,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC,EAAE,QAAQ,CAAC,MAAM,CAAC;wCACzD,KAAK,EAAE,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC,EAAE,QAAQ,CAAC,KAAK,CAAC;wCACvD,IAAI,EAAE,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC,EAAE,QAAQ,CAAC,IAAI,CAAC;qCACrD,CAAC;gCACH,KAAK,8EAAY,CAAC,IAAI;oCACrB,IAAM,SAAS,GAAG,kBAAkB,CAAO,QAAQ,CAAC,CAAC;oCACrD,MAAM,CAAC;wCACN,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,GAAG,EAAE,QAAQ,CAAC,GAAG,CAAC;wCAC1C,MAAM,EAAE,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,MAAM,EAAE,QAAQ,CAAC,MAAM,CAAC;wCACnD,KAAK,EAAE,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,KAAK,EAAE,QAAQ,CAAC,KAAK,CAAC;wCAChD,IAAI,EAAE,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,IAAI,EAAE,QAAQ,CAAC,IAAI,CAAC;qCAC7C,CAAC;4BACJ,CAAC;wBACF,CAAC;wBACD,MAAM,CAAC,QAAQ,CAAC;oBACjB,CAAC,EAAE,KAAI,CAAC,cAAc,CAAC,CAAC;gBACzB,CAAC,CAAC;YA1BF,CA0BE,CACF,CAAC;QACJ,CAAC;;;OAAA;IAED,sBAAI,wCAAM;aAAV,cAAmC,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,YAAE,IAAI,WAAI,CAAC,GAAG,CAAC,EAAE,CAAC,KAAK,GAAG,EAAE,CAAC,IAAI,CAAC,EAA5B,CAA4B,CAAC,CAAC,CAAC,CAAC;;;OAAA;IACtG,sBAAI,yCAAO;aAAX,cAAoC,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,YAAE,IAAI,WAAI,CAAC,GAAG,CAAC,EAAE,CAAC,MAAM,GAAG,EAAE,CAAC,GAAG,CAAC,EAA5B,CAA4B,CAAC,CAAC,CAAC,CAAC;;;OAAA;IACvG,sBAAI,sCAAI;aAAR,cAAiC,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,YAAE,IAAI,SAAE,CAAC,GAAG,EAAN,CAAM,CAAC,CAAC,CAAC,CAAC;;;OAAA;IAC9E,sBAAI,uCAAK;aAAT,cAAkC,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,YAAE,IAAI,SAAE,CAAC,IAAI,EAAP,CAAO,CAAC,CAAC,CAAC,CAAC;;;OAAA;IAWhF,uCAAQ,GAAR;IACA,CAAC;IAtD0B;QAA1B,oEAAM,CAAC,UAAU,CAAC;sDAA4B,2DAAU,oBAAV,2DAAU;2DAAqB;IACrD;QAAxB,oEAAM,CAAC,MAAM,CAAC;sDAA0B,2DAAU,oBAAV,2DAAU;uDAAiB;IACnC;QAAhC,oEAAM,CAAC,CAAC,OAAO,EAAE,WAAW,CAAC,CAAC;sDAAuB,2DAAU,oBAAV,2DAAU;4DAAO;IAH3D,oBAAoB;QAThC,0EAAY,CAAC;YACb,kBAAkB,EAAE,aAAa;YACjC,YAAY,EAAE,sEAAa;SAC3B,CAAC;QACD,gEAAS,CAAC;YACV,QAAQ,EAAE,kBAAkB;YAC5B,kCAA2C;YAC3C,kCAA2C;SAC3C,CAAC;;OACW,oBAAoB,CAwDhC;IAAD,2BAAC;;CAAA;AAxDgC;;;;;;;;;;;AC7BR;AACmB;AAErC,IAAM,aAAa,GAAyB,UAAC,KAAkB,EAAE,MAAc;IACrF,MAAM,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QACrB,KAAK,wEAAgB,CAAC,sBAAsB;YAC3C,IAAM,oBAAoB,GAA0B,MAAM,CAAC;YAC3D,MAAM,CAAc,oEAAyB,CAC5C,KAAK,EACL,oBAAoB,CAAC,OAAO,CAAC,QAAQ,EACrC,oBAAoB,CAAC,OAAO,CAAC,GAAG,EAChC,oBAAoB,CAAC,OAAO,CAAC,QAAQ,CACrC,CAAC;QACH,KAAK,wEAAgB,CAAC,kBAAkB;YACvC,IAAM,gBAAgB,GAAsB,MAAM,CAAC;YACnD,MAAM,CAAc,gEAAqB,CACxC,KAAK,EACL,gBAAgB,CAAC,OAAO,CAAC,QAAQ,EACjC,gBAAgB,CAAC,OAAO,CAAC,GAAG,EAC5B,gBAAgB,CAAC,OAAO,CAAC,UAAU,CACnC,CAAC;QACH,KAAK,wEAAgB,CAAC,2BAA2B;YAChD,IAAM,kBAAkB,GAA8B,MAAM,CAAC;YAC7D,MAAM,CAAc,wEAA6B,CAChD,KAAK,EACL,kBAAkB,CAAC,OAAO,CAAC,QAAQ,EACnC,kBAAkB,CAAC,OAAO,CAAC,GAAG,EAC9B,kBAAkB,CAAC,OAAO,CAAC,QAAQ,EACnC,kBAAkB,CAAC,OAAO,CAAC,KAAK,CAChC,CAAC;IACJ,CAAC;IACD,MAAM,CAAC,KAAK,CAAC;AACd,CAAC,CAAC;;;;;;;;;;;;;;ACvCmE;AAEpB;AACO;AAGjD,IAAM,cAAc,GAAG,UAAC,KAAkB,EAAE,QAAuB,EAAE,GAAW,EAAE,WAAsB;IAC9G,MAAM,CAAC,KAAK,CAAC,QAAQ,EAAE,MAAM,SAAK,0EAAQ,CAAC,WAAW,CAAC,QAAQ,CAAC,GAAG,UAAC,YAAkB;QACrF,MAAM,CAAC,YAAY,CAAC,YAAY,CAAC,GAAG,EAAE,WAAW,CAAC,CAAC;IACpD,CAAC,CAAC,CAAC;AACJ,CAAC,CAAC;AAEK,IAAM,UAAU,GAAG,UAAC,KAAkB,EAAE,QAAuB,EAAE,GAAW,EAAE,UAAsB;IAC1G,MAAM,CAAC,KAAK,CAAC,QAAQ,EAAE,MAAM,SAAK,0EAAQ,CAAC,WAAW,CAAC,QAAQ,CAAC,GAAG,UAAC,YAAkB;QACrF,IAAM,MAAM,GAAG,sEAAa,CAAC,YAAY,CAAC,UAAU,EAAiB,YAAY,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC;QAChH,MAAM,CAAC,YAAY,CAAC,aAAa,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC;IAChD,CAAC,CAAC,CAAC;AACJ,CAAC,CAAC;AAEK,IAAM,kBAAkB,GAAG,UAAC,KAAkB,EAAE,QAAuB,EAAE,GAAW,EAC1F,WAAsB,EAAE,KAAqC;IAArC,uCAAqC;IAC7D,MAAM,CAAC,KAAK,CAAC,QAAQ,EAAE,MAAM,SAAK,0EAAQ,CAAC,WAAW,CAAC,QAAQ,CAAC,GAAG,UAAC,YAAkB;QACrF,IAAM,MAAM,GAAgB,YAAY,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,CAAE,CAAC;QAC5D,MAAM,CAAC,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC;YAC3B,KAAK,iEAAU,CAAC,oBAAoB;gBACnC,MAAM,CAAC,YAAY,CAAC,aAAa,CAAC,GAAG,EAA0B,MAAO,CAAC,YAAY,CAAC,WAAW,CAAC,CAAC,CAAC;YACnG,KAAK,iEAAU,CAAC,gBAAgB;gBAC/B,MAAM,CAAC,YAAY,CAAC,aAAa,CAAC,GAAG,EAAsB,MAAO,CAAC,YAAY,CAAC,WAAW,EAAE,KAAK,CAAC,CAAC,CAAC;YACtG,KAAK,iEAAU,CAAC,aAAa;gBAC5B,MAAM,CAAC,YAAY,CAAC,aAAa,CAAC,GAAG,EAA0B,MAAO,CAAC,YAAY,CAAC,WAAW,CAAC,CAAC,CAAC;YACnG;gBACC,OAAO,CAAC,KAAK,CAAC,wBAAsB,QAAQ,oBAAe,GAAG,4BAAyB,CAAC,CAAC;QAC3F,CAAC;IACF,CAAC,CAAC,CAAC;AACJ,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnC+B;AAEwB;AAEmB;AAE5E;;;GAGG;AACH;IAA2C,yCAAU;IAIpD,+BAAY,MAAqB;QAAjC,YACC,kBAAM,MAAM,CAAC,SAGb;QAED,wBAAkB,GAAG,UAAC,IAAkB;YACvC,MAAM,CAAC,IAAI,qBAAqB,cAC5B,CAAC,KAAI,CAAC,QAAQ,EAAE,CAAC,IACpB,eAAe,EAAE,IAAI,IACpB,CAAC;QACJ,CAAC;QAED,iBAAW,GAAG,UAAC,WAAsB;YACpC,MAAM,CAAC,IAAI,qBAAqB,cAC5B,CAAC,KAAI,CAAC,QAAQ,EAAE,CAAC,IACpB,WAAW,EAAE,IAAI,+DAAQ,CAAC,WAAW,CAAC,IACrC,CAAC;QACJ,CAAC;QAED,kBAAY,GAAG,UAAC,WAAsB;YACrC,MAAM,CAAC,IAAI,qBAAqB,cAC5B,CAAC,KAAI,CAAC,QAAQ,EAAE,CAAC,IACpB,eAAe,EAAE,uDAAI,CAAC,CAAC,IAAI,+DAAQ,CAAC,WAAW,CAAC,CAAC,CAAC,IACjD,CAAC;QACJ,CAAC;QAED,WAAK,GAAG,cAAM,WAAI,qBAAqB,CAAC,KAAI,CAAC,QAAQ,EAAE,CAAC,EAA1C,CAA0C,CAAC;QAiBzD,YAAM,GAAG;YACR,kBACE,KAAI,CAAC,UAAU,cACf,KAAI,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,UAAK,KAAI,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,cAC/D,KAAI,CAAC,WAAW,CAAC,CAAC,UAAK,KAAI,CAAC,WAAW,CAAC,CAAC,WAC1C;QAJD,CAIC;QA/CD,KAAI,CAAC,UAAU,GAAG,iEAAU,CAAC,oBAAoB,CAAC;QAClD,KAAI,CAAC,eAAe,GAAG,MAAM,CAAC,eAAe,IAAI,uDAAI,CAAC,CAAC,KAAI,CAAC,WAAW,CAAC,CAAC,CAAC;;IAC3E,CAAC;IAyBD,wCAAQ,GAAR;QACC,MAAM,CAAC,cACH,iEAAU,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,IAC3C,eAAe,EAAE,IAAI,CAAC,eAAe,IACpC,CAAC;IACJ,CAAC;IAED,sBAAI,iDAAc;aAAlB;YACC,MAAM,gBAAa,IAAI,CAAC,WAAW,CAAC,CAAC,YAAO,IAAI,CAAC,WAAW,CAAC,CAAC,QAAK,CAAC;QACrE,CAAC;;;OAAA;IAED,sBAAI,8CAAW;aAAf;YACC,MAAM,CAAC,EAAE,CAAC;QACX,CAAC;;;OAAA;IAQF,4BAAC;AAAD,CAAC,CAtD0C,iEAAU,GAsDpD;;AAED;;;GAGG;AACH;IAAuC,qCAAU;IAIhD,2BAAY,MAAqB;QAAjC,YACC,kBAAM,MAAM,CAAC,SAGb;QAED,wBAAkB,GAAG,UAAC,IAAkB;YACvC,MAAM,CAAC,IAAI,iBAAiB,cACxB,KAAI,CAAC,QAAQ,EAAE,IAClB,eAAe,EAAE,IAAI,IACpB,CAAC;QACJ,CAAC;QAED,iBAAW,GAAG,UAAC,WAAsB;YACpC,MAAM,CAAC,IAAI,iBAAiB,cACxB,KAAI,CAAC,QAAQ,EAAE,IAClB,WAAW,EAAE,IAAI,+DAAQ,CAAC,WAAW,CAAC,IACrC,CAAC;QACJ,CAAC;QAED,kBAAY,GAAG,UAAC,WAAsB,EAAE,KAAqC;YAArC,uCAAqC;YAC5E,IAAM,QAAQ,GAAG,IAAI,+DAAQ,CAAC,WAAW,CAAC,CAAC;YAC3C,IAAM,QAAQ,GAAG,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC;YACxD,MAAM,CAAC,IAAI,iBAAiB,cACxB,KAAI,CAAC,QAAQ,EAAE,IAClB,eAAe,EAAE,KAAI,CAAC,eAAe;qBACnC,GAAG,CAAC,QAAQ,KAAK,CAAC,GAAG,CAAC,GAAG,QAAQ,EAAE,QAAQ,CAAC;qBAC5C,GAAG,CAAC,QAAQ,KAAK,CAAC,GAAG,CAAC,GAAG,QAAQ,EAAE,QAAQ,CAAC,IAC7C,CAAC;QACJ,CAAC;QAED,WAAK,GAAG,cAAM,WAAI,iBAAiB,CAAC,KAAI,CAAC,QAAQ,EAAE,CAAC,EAAtC,CAAsC,CAAC;QA6BrD,YAAM,GAAG;YACR,kBACE,KAAI,CAAC,UAAU,cACf,KAAI,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,UAAK,KAAI,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,cAC/D,KAAI,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,UAAK,KAAI,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,cAC/D,KAAI,CAAC,WAAW,CAAC,CAAC,UAAK,KAAI,CAAC,WAAW,CAAC,CAAC,WAC1C;QALD,CAKC;QAhED,KAAI,CAAC,UAAU,GAAG,iEAAU,CAAC,gBAAgB,CAAC;QAC9C,KAAI,CAAC,eAAe,GAAG,MAAM,CAAC,eAAe,IAAI,uDAAI,CAAC,CAAC,KAAI,CAAC,WAAW,EAAE,KAAI,CAAC,WAAW,CAAC,CAAC,CAAC;;IAC7F,CAAC;IA6BD,sBAAI,6CAAc;aAAlB;YACC,MAAM,CAAC,eAAa,IAAI,CAAC,WAAW,CAAC,CAAC,YAAO,IAAI,CAAC,WAAW,CAAC,CAAC,QAAK,CAAC;QACtE,CAAC;;;OAAA;IAED,sBAAI,0CAAW;aAAf;YACC,MAAM,CAAC;gBACN;oBACC,IAAI,EAAE,gBACH,IAAI,CAAC,WAAW,CAAC,CAAC,UAAK,IAAI,CAAC,WAAW,CAAC,CAAC,mBACzC,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,UAAK,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,eACjE;oBACD,kBAAkB,EAAE,yBACR,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,YAAO,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,QAAK;iBAClF;gBACD;oBACC,IAAI,EAAE,gBACH,IAAI,CAAC,WAAW,CAAC,CAAC,UAAK,IAAI,CAAC,WAAW,CAAC,CAAC,oBACzC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,YAAK,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,gBACvH;oBACD,kBAAkB,EAAE,oCAElB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,uBACxD,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,SAAK;iBAC/D;aACD,CAAC;QACH,CAAC;;;OAAA;IASF,wBAAC;AAAD,CAAC,CAvEsC,iEAAU,GAuEhD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7IgC;AAEwB;AAEmB;AACzB;AAEnD;;;GAGG;AACH;IAAkC,gCAAU;IAI3C,sBAAY,MAAqB;QAAjC,YACC,kBAAM,MAAM,CAAC,SAGb;QAED,wBAAkB,GAAG,UAAC,IAAkB;YACvC,MAAM,CAAC,IAAI,YAAY,cACnB,KAAI,CAAC,QAAQ,EAAE,IAClB,eAAe,EAAE,IAAI,IACpB,CAAC;QACJ,CAAC;QAED,iBAAW,GAAG,UAAC,WAAsB;YACpC,MAAM,CAAC,IAAI,YAAY,cACnB,KAAI,CAAC,QAAQ,EAAE,IAClB,WAAW,EAAE,IAAI,+DAAQ,CAAC,WAAW,CAAC,IACrC,CAAC;QACJ,CAAC;QAED,kBAAY,GAAG,UAAC,WAAsB;YACrC,MAAM,CAAC,IAAI,YAAY,cACnB,KAAI,CAAC,QAAQ,EAAE,IAClB,eAAe,EAAE,uDAAI,CAAC,CAAC,IAAI,+DAAQ,CAAC,WAAW,CAAC,CAAC,CAAC,IACjD,CAAC;QACJ,CAAC;QAED,WAAK,GAAG,cAAM,WAAI,YAAY,CAAC,KAAI,CAAC,QAAQ,EAAE,CAAC,EAAjC,CAAiC,CAAC;QAuBhD,YAAM,GAAG;YACR,kBACE,KAAI,CAAC,UAAU,cACf,KAAI,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,UAAK,KAAI,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,cAC/D,KAAI,CAAC,WAAW,CAAC,CAAC,UAAK,KAAI,CAAC,WAAW,CAAC,CAAC,WAC1C;QAJD,CAIC;QArDD,KAAI,CAAC,UAAU,GAAG,iEAAU,CAAC,aAAa,CAAC;QAC3C,KAAI,CAAC,eAAe,GAAG,MAAM,CAAC,eAAe,IAAI,uDAAI,CAAC,CAAC,KAAI,CAAC,WAAW,CAAC,CAAC,CAAC;;IAC3E,CAAC;IAyBD,sBAAI,wCAAc;aAAlB;YACC,MAAM,CAAC,eAAa,IAAI,CAAC,WAAW,CAAC,CAAC,YAAO,IAAI,CAAC,WAAW,CAAC,CAAC,QAAK,CAAC;QACtE,CAAC;;;OAAA;IAED,sBAAI,qCAAW;aAAf;YACC,MAAM,CAAC;gBACN;oBACC,IAAI,EAAE,MAAI,IAAI,CAAC,WAAW,CAAC,CAAC,UAAK,IAAI,CAAC,WAAW,CAAC,CAAC,UAAK,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,UAAK,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAG;oBACzH,kBAAkB,EAAE,eAAa,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,YAAO,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,QAAK;iBACvG;gBACD;oBACC,IAAI,EAAE,gBACH,IAAI,CAAC,WAAW,CAAC,CAAC,UAAK,IAAI,CAAC,WAAW,CAAC,CAAC,oBACzC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,YAAK,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAE;oBAC1H,kBAAkB,EAAE,0BACR,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,cAAO,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,mBAClI;iBACD;aACD,CAAC;QACH,CAAC;;;OAAA;IAQF,mBAAC;AAAD,CAAC,CA5DiC,iEAAU,GA4D3C;;AAED;IAA2C,yCAAW;IACrD,+BAAY,MAAqB;eAChC,+BACI,MAAM,IACT,UAAU,EAAE,iEAAU,CAAC,4BAA4B,IAClD;IACH,CAAC;IACF,4BAAC;AAAD,CAAC,CAP0C,uEAAW,GAOrD;;;;;;;;;;;;;AChFiE;AAElE,IAAM,gBAAgB,GAAG,GAAG,CAAC;AAC7B,IAAM,gBAAgB,GAAG,CAAC,CAAC;AAEpB,IAAM,aAAa,GAAG,UAAC,KAAkB,EAAE,QAAmB;IACpE,MAAM,CAAc,KAAK,CAAC,KAAK,CAAC,CAAC,OAAO,EAAE,SAAS,CAAC,EAAE,IAAI,+DAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC;AAC/E,CAAC,CAAC;AAEK,IAAM,WAAW,GAAG,UAAC,KAAkB,EAAE,MAAc;IAC7D,MAAM,CAAc,KAAK,CAAC,QAAQ,CACjC,CAAC,OAAO,EAAE,OAAO,CAAC,EAClB,UAAC,KAAa,IAAK,QAClB,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAChB,KAAK,GAAG,MAAM,EAAE,gBAAgB,CAAC,EACjC,gBAAgB,CAAC,CAAC,EAHD,CAGC,CACnB,CAAC;AACJ,CAAC,CAAC;AAEK,IAAM,WAAW,GAAG,UAAC,KAAkB,EAAE,QAAmB;IAClE,MAAM,CAAc,KAAK,CAAC,KAAK,CAAC,CAAC,OAAO,EAAE,OAAO,CAAC,EAAE,IAAI,+DAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC;AAC7E,CAAC,CAAC;;;;;;;;;;;ACbyB;AACqB;AAEzC,IAAM,eAAe,GAAyB,UAAC,KAAkB,EAAE,MAAc;IACvF,MAAM,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QACrB,KAAK,4EAAkB,CAAC,eAAe;YACtC,IAAM,YAAY,GAAiB,MAAM,CAAC;YAC1C,MAAM,CAAc,sEAA2B,CAAC,KAAK,EAAE,YAAY,CAAC,OAAO,CAAC,CAAC;QAC9E,KAAK,4EAAkB,CAAC,mBAAmB;YAC1C,IAAM,eAAe,GAAoB,MAAM,CAAC;YAChD,MAAM,CAAc,yEAA8B,CAAC,KAAK,EAAE,eAAe,CAAC,OAAO,CAAC,CAAC;QACpF,KAAK,4EAAkB,CAAC,iBAAiB;YACxC,IAAM,cAAc,GAAmB,MAAM,CAAC;YAC9C,MAAM,CAAc,wEAA6B,CAAC,KAAK,EAAE,cAAc,CAAC,OAAO,CAAC,CAAC;QAClF,KAAK,4EAAkB,CAAC,qBAAqB;YAC5C,MAAM,CAAc,2EAAgC,CAAC,KAAK,CAAC,CAAC;IAC9D,CAAC;IACD,MAAM,CAAC,KAAK,CAAC;AACd,CAAC,CAAC;;;;;;;;;;;;;;AC1B+B;AAI1B,IAAM,cAAc,GAAG,UAAC,KAAkB,EAAE,QAAuB;IACzE,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,UAAU,EAAE,uDAAI,CAAC,CAAE,uDAAI,CAAC,QAAQ,CAAC,CAAE,CAAC,CAAC,CAAC;AACxD,CAAC,CAAC;AAEK,IAAM,iBAAiB,GAAG,UAAC,KAAkB,EAAE,QAAuB;IAC5E,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,UAAU,EAAE,UAAC,QAA4B,IAAK,eAAQ,CAAC,IAAI,CAAC,uDAAI,CAAC,QAAQ,CAAC,CAAC,EAA7B,CAA6B,CAAC,CAAC;AAClG,CAAC,CAAC;AAEK,IAAM,gBAAgB,GAAG,UAAC,KAAkB,EAAE,QAAuB;IAC3E,MAAM,CAAC,KAAK,CAAC;AACd,CAAC,CAAC;AAEK,IAAM,mBAAmB,GAAG,UAAC,KAAkB;IACrD,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,UAAU,EAAE,uDAAI,CAAe,EAAE,CAAC,CAAC,CAAC;AACtD,CAAC,CAAC;;;;;;;;;;;ACPqB;AACiB;AAEjC,IAAM,WAAW,GAAyB,UAAC,KAAkB,EAAE,MAAc;IACnF,MAAM,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QACrB,KAAK,oEAAc,CAAC,kBAAkB;YACrC,IAAM,YAAY,GAAuB,MAAM,CAAC;YAChD,MAAM,CAAc,+DAAoB,CAAC,KAAK,EAAE,YAAY,CAAC,OAAO,CAAC,QAAQ,EAAE,YAAY,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC;QACrH,KAAK,oEAAc,CAAC,eAAe;YAClC,IAAM,SAAS,GAAqB,MAAM,CAAC;YAC3C,MAAM,CAAc,6DAAkB,CACrC,KAAK,EAAE,SAAS,CAAC,OAAO,CAAC,QAAQ,EAAE,SAAS,CAAC,OAAO,CAAC,cAAc,EAAE,SAAS,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;QACrG,KAAK,oEAAc,CAAC,kBAAkB;YACrC,IAAM,YAAY,GAAwB,MAAM,CAAC;YACjD,MAAM,CAAc,gEAAqB,CAAC,KAAK,EAAE,YAAY,CAAC,OAAO,CAAC,QAAQ,EAAE,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;QAC3G,KAAK,oEAAc,CAAC,uBAAuB;YAC1C,IAAM,gBAAgB,GAA4B,MAAM,CAAC;YACzD,MAAM,CAAc,oEAAyB,CAAC,KAAK,EAAE,gBAAgB,CAAC,OAAO,CAAC,CAAC;QAChF,KAAK,oEAAc,CAAC,aAAa;YAChC,IAAM,SAAS,GAAmB,MAAM,CAAC;YACzC,MAAM,CAAc,2DAAgB,CAAC,KAAK,EAAE,SAAS,CAAC,OAAO,CAAC,CAAC;QAChE,KAAK,oEAAc,CAAC,iBAAiB;YACpC,IAAM,iBAAiB,GAAuB,MAAM,CAAC;YACrD,MAAM,CAAc,+DAAoB,CACvC,KAAK,EACL,iBAAiB,CAAC,OAAO,CAAC,QAAQ,EAClC,iBAAiB,CAAC,OAAO,CAAC,SAAS,EACnC,iBAAiB,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;IACpC,CAAC;IACD,MAAM,CAAC,KAAK,CAAC;AACd,CAAC,CAAC;;;;;;;;;;;;;;;;;;;ACzC+B;AAIkC;AACb;AAClB;AAE7B,IAAM,WAAW,GAAG,UAAC,KAAkB,EAAE,QAAuB,EAAE,aAAwB;IAChG,MAAM,CAAC,KAAK,CAAC,QAAQ,EAAE,MAAM,SAAK,0EAAQ,CAAC,WAAW,CAAC,QAAQ,EAAE,IAAI,CAAC,GAAG,UAAC,QAAwB;QACjG,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,yDAAI,CAAC;YAC7B,eAAe,EAAE,uDAAI,CAAC,QAAQ,CAAC;YAC/B,GAAG,EAAE,QAAQ,CAAC,IAAI;YAClB,WAAW,EAAE,IAAI,+DAAQ,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;SACzC,CAAC,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC,CAAC;IAC9B,CAAC,CAAC,CAAC;AACJ,CAAC,CAAC;AAEK,IAAM,SAAS,GAAG,UAAC,KAAkB,EAAE,QAAuB,EAAE,cAAyB,EAAE,UAAuB;IACxH,MAAM,CAAC,KAAK,CAAC,QAAQ,EAAE,MAAM,SAAK,0EAAQ,CAAC,WAAW,CAAC,QAAQ,CAAC,GAAG,UAAC,YAAkB;QACrF,MAAM,CAAC,YAAY,CAAC,SAAS,CAAC,cAAc,EAAE,UAAU,CAAC,CAAC;IAC3D,CAAC,CAAC,CAAC;AACJ,CAAC,CAAC;AAEK,IAAM,YAAY,GAAG,UAAC,KAAkB,EAAE,QAAuB,EAAE,GAAW;IACpF,MAAM,CAAC,KAAK,CAAC,QAAQ,EAAE,MAAM,SAAK,0EAAQ,CAAC,WAAW,CAAC,QAAQ,CAAC,GAAG,UAAC,YAAkB;QACrF,MAAM,CAAC,YAAY,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;IACvC,CAAC,CAAC,CAAC;AACJ,CAAC,CAAC;AAEK,IAAM,gBAAgB,GAAG,UAAC,KAAkB,EAAE,QAAuB;IAC3E,MAAM,CAAC,KAAK,CAAC,QAAQ,EAAE,MAAM,SAAK,0EAAQ,CAAC,WAAW,CAAC,QAAQ,CAAC,GAAG,UAAC,YAAkB;QACrF,MAAM,CAAC,YAAY,CAAC,gBAAgB,EAAE,CAAC;IACxC,CAAC,CAAC,CAAC;AACJ,CAAC,CAAC;AAEK,IAAM,OAAO,GAAG,UAAC,KAAkB,EAAE,QAAuB;IAClE,MAAM,CAAC,KAAK,CAAC,QAAQ,EAAE,MAAM,SAAK,0EAAQ,CAAC,WAAW,CAAC,QAAQ,CAAC,GAAG,UAAC,YAAkB;QACrF,MAAM,CAAC,YAAY,CAAC,GAAG,EAAE,CAAC;IAC3B,CAAC,CAAC,CAAC;AACJ,CAAC,CAAC;AAEK,IAAM,WAAW,GAAG,UAAC,KAAkB,EAAE,QAAuB,EAAE,SAAyB,EAAE,KAAa;IAChH,MAAM,CAAC,KAAK,CAAC,QAAQ,EAAE,MAAM,SAAK,0EAAQ,CAAC,WAAW,CAAC,QAAQ,CAAC,GAAG,UAAC,YAAkB;QACrF,MAAM,CAAC,YAAY,CAAC,QAAQ,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;IAChD,CAAC,CAAC,CAAC;AACJ,CAAC,CAAC;;;;;;;AC9CF,0DAA0D,mCAAmC,kN;;;;;;ACA7F;AACA;;;AAGA;AACA,uCAAwC,uBAAuB,gBAAgB,iBAAiB,WAAW,YAAY,yBAAyB,EAAE,wBAAwB,iBAAiB,qCAAqC,wBAAwB,EAAE;;AAE1P;;;AAGA;AACA,2C;;;;;;;;;;;;;;;;;;;;;;;;;;;ACXiE;AAS1C;AAEoB;AACT;AACW;AAEG;AAIhD,IAAM,WAAW,GAAG,GAAG,CAAC;AACxB,IAAM,aAAa,GAAG,EAAE,CAAC;AAEzB,IAAM,cAAc,GAAG,UAAC,UAAgD;IACvE,iBAAU,CAAC,GAAG,CAAC,mBAAS,IAAI,OAA0B,SAAS;SAC7D,MAAM,CAAC,kBAAQ,IAAI,eAAQ,CAAC,MAAM,KAAK,QAAQ,EAA5B,CAA4B,CAAC,EADtB,CACsB,CAAC;AADnD,CACmD,CAAC;AASrD;IASC,yBACS,EAAa,EACb,aAA4B;QAFrC,iBAE0C;QADjC,OAAE,GAAF,EAAE,CAAW;QACb,kBAAa,GAAb,aAAa,CAAe;QAVrC,cAAS,GAAoB,EAAE,CAAC;QAoDpB,6BAAwB,GAAG,UAAC,OAAwB,EAAE,CAAa;YAC9E,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;QACnB,CAAC;QAEW,yBAAoB,GAAG;YAClC,MAAM,CAAC,KAAI,CAAC,aAAa,CAAC,aAAa,CAAC;gBACvC,CAAC,EAAE,KAAI,CAAC,SAAS,CAAC,aAAa,CAAC,qBAAqB,EAAE,CAAC,IAAI;gBAC5D,CAAC,EAAE,KAAI,CAAC,SAAS,CAAC,aAAa,CAAC,qBAAqB,EAAE,CAAC,GAAG;aAC3D,CAAC,CAAC;QACJ,CAAC;QAEW,sBAAiB,GAAG,UAAC,CAAa;YAC7C,CAAC,CAAC,cAAc,EAAE,CAAC;YACnB,MAAM,CAAC,KAAI,CAAC,aAAa,CAAC,WAAW,CAAC,CAAC,CAAC,MAAM,GAAG,WAAW,CAAC,CAAC;QAC/D,CAAC;IAxDwC,CAAC;IAE1C,sBAAI,yCAAY;aAAhB;YACC,IAAM,MAAM,GAAG,2DAAU,CAAC,aAAa,CACtC,IAAI,CAAC,MAAM,EACX,IAAI,CAAC,MAAM,CACX,CAAC;YACF,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,gBAAM,IAAI,QAAC;gBAC5B,SAAS,EAAE,uBACC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,YAAO,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,yBACjC,MAAM,CAAC,CAAC,CAAC,cAChB;aACD,CAAC,EAL0B,CAK1B,CAAC,CAAC;QACL,CAAC;;;OAAA;IAED,kCAAQ,GAAR;QAAA,iBAyBC;QAxBA,mEAAmE;QACnE,IAAI,CAAC,oBAAoB,EAAE,CAAC;QAC5B,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,QAAQ,EAAE,QAAQ,EAAE,UAAC,EAAE,IAAO,KAAI,CAAC,oBAAoB,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QAE7E,iEAAiE;QACjE,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,QAAQ,EAAE,OAAO,EAAE,UAAC,CAAa,IAAK,QAAC,CAAC,cAAc,EAAE,EAAlB,CAAkB,CAAC,CAAC;QACzE,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,aAAa,EAAE,OAAO,EAAE,UAAC,CAAa;YACnE,KAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC;YAC1B,MAAM,CAAC,YAAY,CAAC,KAAI,CAAC,SAAS,CAAC,CAAC;YACpC,KAAI,CAAC,SAAS,GAAG,MAAM,CAAC,UAAU,CAAC;gBAClC,KAAI,CAAC,oBAAoB,EAAE,CAAC;YAC7B,CAAC,EAAE,aAAa,CAAC,CAAC;QACnB,CAAC,CAAC,CAAC;QAEH,0CAA0C;QAC1C,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,mBAAS;YAClC,mCAAmC;YACnC,KAAI,CAAC,SAAS,CAAC,OAAO,CAAC,UAAC,iBAA2B,IAAK,wBAAiB,EAAE,EAAnB,CAAmB,CAAC,CAAC;YAC7E,SAAS,CAAC,OAAO,CAAC,kBAAQ;gBACzB,KAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAI,CAAC,EAAE,CAAC,MAAM,CAAC,KAAI,CAAC,SAAS,CAAC,aAAa,EAAE,QAAQ,CAAC,IAAI,EAC7E,UAAC,CAAa,IAAO,KAAI,CAAC,wBAAwB,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAC1E,CAAC,CAAC;YACJ,CAAC,CAAC,CAAC;QACJ,CAAC,CAAC,CAAC;IACJ,CAAC;IAkBD,mCAAS,GAAT,UAAU,GAAW,EAAE,QAAkB;QACxC,MAAM,CAAC,QAAQ,CAAC,EAAE,CAAC;IACpB,CAAC;IArEoB;QAApB,gEAAS,CAAC,QAAQ,CAAC;sDAAY,yDAAU,oBAAV,yDAAU;sDAAC;IACG;QAA7C,oEAAM,CAAC,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;sDAAmC,2DAAU,oBAAV,2DAAU;kDAAiB;IACtC;QAAlD,oEAAM,CAAC,CAAC,QAAQ,EAAE,OAAO,EAAE,OAAO,CAAC,CAAC;sDAA+B,2DAAU,oBAAV,2DAAU;mDAAS;IACpC;QAAlD,oEAAM,CAAC,CAAC,QAAQ,EAAE,OAAO,EAAE,OAAO,CAAC,CAAC;sDAA+B,2DAAU,oBAAV,2DAAU;mDAAY;IAC3B;QAA9D,qEAAO,CAAC,CAAC,SAAS,EAAE,UAAU,EAAE,WAAW,CAAC,EAAE,cAAc,CAAC;sDAAsB,2DAAU,oBAAV,2DAAU;uDAA2B;IA+C7G;QAAX,sEAAQ,EAAE;;qEAEV;IAEW;QAAX,sEAAQ,EAAE;;iEAKV;IAEW;QAAX,sEAAQ,EAAE;;8DAGV;IAnEW,eAAe;QAP3B,gEAAS,CAAC;YACV,QAAQ,EAAE,iBAAiB;YAC3B,kCAAsC;YACtC,kCAAsC;YACtC,aAAa,EAAE,gEAAiB,CAAC,QAAQ;YACzC,eAAe,EAAE,sEAAuB,CAAC,MAAM;SAC/C,CAAC;6DAWY,wDAAS,oBAAT,wDAAS,sDACE,qEAAa,oBAAb,qEAAa;OAXzB,eAAe,CAwE3B;IAAD,sBAAC;;CAAA;AAxE2B;;;;;;;;;;ACjC5B,2KAA2K,0F;;;;;;ACA3K;AACA;;;AAGA;AACA,uCAAwC,uBAAuB,iBAAiB,kBAAkB,sBAAsB,2CAA2C,uBAAuB,mCAAmC,oCAAoC,mCAAmC,sBAAsB,EAAE;;AAE5T;;;AAGA;AACA,2C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACCuB;AAEgD;AACb;AACH;AAEE;AACC;AAE1D,IAAM,QAAQ;IACb,GAAC,qEAAY,CAAC,IAAI,IAAG,2EAAa;IAClC,GAAC,qEAAY,CAAC,MAAM,IAAG,2FAAe;IACtC,GAAC,qEAAY,CAAC,KAAK,IAAG,8EAAc;OACpC,CAAC;AAEF,IAAM,gBAAgB,GAAG,UAAC,QAAsB;IAC/C,IAAM,IAAI,GAAG,QAAQ,CAAC,QAAQ,CAAC,CAAC;IAChC,MAAM,CAAC,IAAI,CAAC;AACb,CAAC,CAAC;AASF;IAMC,2BAAoB,wBAAkD;QAAlD,6BAAwB,GAAxB,wBAAwB,CAA0B;IAAI,CAAC;IAE3E,oCAAQ,GAAR;QACC,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;YACxB,IAAM,YAAY,GAAG,gBAAgB,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;YAC1D,IAAM,OAAO,GAAG,IAAI,CAAC,wBAAwB,CAAC,uBAAuB,CAAwB,YAAY,CAAC,CAAC;YAC3G,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;YAC/D,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC;YAC3C,IAAI,CAAC,QAAQ,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;QACxC,CAAC;IACF,CAAC;IAED,uCAAW,GAAX;QACC,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;YAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;QAAC,CAAC;IACjE,CAAC;IAED,uCAAW,GAAX;QACC,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;YACvB,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,CAAC;YAC5B,IAAI,CAAC,YAAY,GAAG,SAAS,CAAC;QAC/B,CAAC;IACF,CAAC;IAxByD;QAAzD,gEAAS,CAAC,8EAAiB,EAAE,EAAE,IAAI,EAAE,+DAAgB,EAAE,CAAC;sDAAe,+DAAgB,oBAAhB,+DAAgB;2DAAC;IAChF;QAAR,4DAAK,EAAE;sDAAW,iEAAQ,oBAAR,iEAAQ;uDAAC;IAJhB,iBAAiB;QAP7B,gEAAS,CAAC;YACV,QAAQ,EAAE,cAAc;YACxB,kCAAwC;YACxC,kCAAwC;YACxC,aAAa,EAAE,gEAAiB,CAAC,IAAI;YACrC,eAAe,EAAE,sEAAuB,CAAC,MAAM;SAC/C,CAAC;6DAO6C,uEAAwB,oBAAxB,uEAAwB;OAN1D,iBAAiB,CA4B7B;IAAD,wBAAC;;CAAA;AA5B6B;;;;;;;;ACvC9B,iJ;;;;;;ACAA;AACA;;;AAGA;AACA,iCAAkC,uBAAuB,WAAW,YAAY,gBAAgB,iBAAiB,EAAE;;AAEnH;;;AAGA;AACA,2C;;;;;;ACXA,8SAA8S,6E;;;;;;ACA9S;AACA;;;AAGA;AACA,gCAAiC,uBAAuB,WAAW,YAAY,gBAAgB,iBAAiB,yBAAyB,EAAE,4BAA4B,kBAAkB,mBAAmB,EAAE,0CAA0C,0BAA0B,4BAA4B,EAAE,8BAA8B,yBAAyB,aAAa,cAAc,kBAAkB,mBAAmB,2BAA2B,EAAE;;AAEpc;;;AAGA;AACA,2C;;;;;;ACXA,+D;;;;;;ACAA;AACA;;;AAGA;AACA;;AAEA;;;AAGA;AACA,2C;;;;;;;;;;;;;;;;;;;;;;;;;ACX+C;AACN;AAEgB;AACR;AACc;AACjB;AACK;AACI;AACK;AACR;AACQ;AAuB5D;IAAA;IAA2B,CAAC;IAAf,WAAW;QArBvB,+DAAQ,CAAC;YACT,OAAO,EAAE;gBACR,qEAAY;aACZ;YACD,YAAY,EAAE;gBACb,wEAAY;gBACZ,iFAAe;gBACf,8EAAoB;gBACpB,oFAAgB;gBAChB,kFAAe;aACf;YACD,SAAS,EAAE;gBACV,sEAAgB;gBAChB,4EAAa;gBACb,yEAAW;gBACX,mEAAU;aACV;YACD,OAAO,EAAE;gBACR,8EAAoB;aACpB;SACD,CAAC;OACW,WAAW,CAAI;IAAD,kBAAC;CAAA;AAAJ;;;;;;;;;;;;;;;;;;;;;;;;AClCoC;AACV;AACL;AAEQ;AAYrD;IAGC;QAEA,gBAAW,GAAG,cAAM,QAAC,OAAO,CAAC,EAAT,CAAS,CAAC;IAFd,CAAC;IAIjB,uCAAQ,GAAR;IACA,CAAC;IAPoB;QAApB,oEAAM,CAAC,UAAU,CAAC;sDAAsB,2DAAU,oBAAV,2DAAU;2DAAiB;IADxD,oBAAoB;QAThC,0EAAY,CAAC;YACb,kBAAkB,EAAE,aAAa;YACjC,YAAY,EAAE,0EAAkB;SAChC,CAAC;QACD,gEAAS,CAAC;YACV,QAAQ,EAAE,kBAAkB;YAC5B,kCAAqC;YACrC,kCAAqC;SACrC,CAAC;;OACW,oBAAoB,CAShC;IAAD,2BAAC;;CAAA;AATgC;;;;;;;;;;;;;;;;;;;;;;AChBE;AAEwB;AAO3D,IAAM,oBAAoB,GAAG,EAAE,QAAQ,EAAE,sEAAc,CAAC,IAAI,EAAE,GAAG,EAAE,IAAI,gEAAQ,EAAE,EAAE,CAAC;AAEpF;IAAsC,oCAA4B;IAIjE,0BAAY,KAA+C;QAA/C,oDAA+C;eAC1D,kBAAM,KAAK,CAAC;IACb,CAAC;IACF,uBAAC;AAAD,CAAC,CAPqC,yDAAM,CAAC,oBAAoB,CAAC,GAOjE;;;;;;;;;;;;;AClBD,IAAY,iBAAoB;AAAhC,WAAY,iBAAiB;AAAE,CAAC,EAApB,iBAAiB,KAAjB,iBAAiB,QAAG;;;;;;;;;ACIzB,IAAM,cAAc,GAA8B,UAAC,KAAuB,EAAE,MAAc;IAChG,MAAM,CAAC,KAAK,CAAC;AACd,CAAC,CAAC;;;;;;;;;;ACHwE;AAEnE,IAAM,UAAU,GAA8B,UAAC,KAAuB,EAAE,MAAc;IAC5F,MAAM,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QACrB,KAAK,kEAAa,CAAC,0BAA0B;YAC5C,IAAM,YAAY,GAAgC,MAAM,CAAC;YACzD,MAAM,CAAmB,KAAK,CAAC,GAAG,CAAC,UAAU,EAAE,YAAY,CAAC,OAAO,CAAC,CAAC;IACvE,CAAC;IACD,MAAM,CAAC,KAAK,CAAC;AACd,CAAC,CAAC;;;;;;;;;;ACJuB;AAElB,IAAM,aAAa,GAA8B,UAAC,KAAuB,EAAE,MAAc;IAC/F,MAAM,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QACrB,KAAK,wEAAgB,CAAC,8BAA8B;YACnD,IAAM,iBAAe,GAAgC,MAAM,CAAC;YAC5D,MAAM,CAAmB,KAAK,CAAC,QAAQ,CACtC,CAAC,KAAK,EAAE,iBAAe,CAAC,OAAO,CAAC,SAAS,EAAE,OAAO,CAAC,EACnD,UAAC,KAAY,IAAK,YAAK,CAAC,GAAG,CAAC,iBAAe,CAAC,OAAO,CAAC,OAAO,EAAE,iBAAe,CAAC,OAAO,CAAC,KAAK,CAAC,EAAzE,CAAyE,CAAC,CAAC;QAC/F,KAAK,wEAAgB,CAAC,mBAAmB;YACxC,IAAM,WAAW,GAAuB,MAAM,CAAC;YAC/C,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;YACvC,MAAM,CAAmB,KAAK,CAAC,KAAK,CACnC,CAAC,KAAK,EAAE,WAAW,CAAC,OAAO,CAAC,SAAS,EAAE,OAAO,CAAC,EAAE,WAAW,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;IAC/E,CAAC;IACD,MAAM,CAAC,KAAK,CAAC;AACd,CAAC,CAAC;;;;;;;;;ACxBF,IAAY,gBAAmB;AAA/B,WAAY,gBAAgB;AAAE,CAAC,EAAnB,gBAAgB,KAAhB,gBAAgB,QAAG;;;;;;;;;ACIxB,IAAM,aAAa,GAA8B,UAAC,KAAuB,EAAE,MAAc;IAC/F,MAAM,CAAC,KAAK,CAAC;AACd,CAAC,CAAC;;;;;;;ACNF,wZ;;;;;;ACAA;AACA;;;AAGA;AACA,uCAAwC,6BAA6B,kBAAkB,sBAAsB,wBAAwB,qDAAqD,gBAAgB,wBAAwB,qBAAqB,kBAAkB,kCAAkC,sBAAsB,EAAE,uCAAuC,qBAAqB,iBAAiB,oBAAoB,wBAAwB,oCAAoC,0BAA0B,4CAA4C,sBAAsB,EAAE;;AAE9jB;;;AAGA;AACA,2C;;;;;;;;;;;;;;;;;;ACXkD;AAOlD;IAEC;IAAgB,CAAC;IAEjB,mCAAQ,GAAR;IACA,CAAC;IALW,gBAAgB;QAL5B,gEAAS,CAAC;YACV,QAAQ,EAAE,oBAAoB;YAC9B,kCAAuC;YACvC,kCAAuC;SACvC,CAAC;;OACW,gBAAgB,CAM5B;IAAD,uBAAC;CAAA;AAN4B;;;;;;;ACP7B,oB;;;;;;ACAA;AACA;;;AAGA;AACA;;AAEA;;;AAGA;AACA,2C;;;;;;;;;;;;;;;;;;;;;;;;;ACXsE;AACb;AACZ;AAES;AACM;AAClB;AAW1C;IAIC,sBAAoB,UAAsB;QAA1C,iBAA+C;QAA3B,eAAU,GAAV,UAAU,CAAY;QAqC1C;;;;;WAKG;QACH,gBAAW,GAAG,cAAM,QAAC,OAAO,CAAC,EAAT,CAAS,CAAC;QAIlB,oBAAe,GAAG,UAAC,CAAa,EAAE,SAAyB;YACtE,CAAC,CAAC,eAAe,EAAE,CAAC;YACpB,MAAM,CAAC,KAAI,CAAC,UAAU,CAAC,oBAAoB,CAAC,SAAS,CAAC,CAAC;QACxD,CAAC;IAlD6C,CAAC;IAE/C,sBAAI,oCAAU;aAAd;YACC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE,EAA5B,CAA4B,CAAC,CAAC;QAC3D,CAAC;;;OAAA;IAED,sBAAI,uCAAa;aAAjB;YACC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,OAAO,CAAC,KAAK,CAAC,WAAW,EAAE,EAA/B,CAA+B,CAAC,CAAC;QAC9D,CAAC;;;OAAA;IAED,sBAAI,yCAAe;aAAnB;YACC,IAAM,aAAa,GAAG,IAAI,CAAC,QAAQ,KAAK,sEAAc,CAAC,OAAO,CAAC;YAC/D,IAAM,EAAE,GAAG,UAAC,GAAW,IAAK,WAAI,CAAC,GAAG,CAAC,GAAG,GAAG,EAAE,EAAE,CAAC,CAAC,EAArB,CAAqB,CAAC;YAElD,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,aAAG,IAAI,QAAC;gBAC5B,YAAY,EAAE,cACZ,aAAa,GAAG,mBAAmB,GAAG,iBAAiB,iBACvD,GAAG,CAAC,OAAO,CAAC,KAAK;qBACjB,MAAM,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC,MAAM,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC,MAAM,CAAC,GAAG,EAAE,EAAE,CAAC;qBAC/C,YAAY,CAAC,aAAa,GAAG,IAAI,GAAG,IAAI,CAAC,kBACrC;aACN,CAAC,EAP0B,CAO1B,CAAC,CAAC;QACL,CAAC;;;OAAA;IAED,sCAAe,GAAf,UAAgB,SAAyB;QACxC,IAAM,UAAU,GAAG,IAAI,CAAC,QAAQ,KAAK,SAAS,CAAC;QAC/C,IAAM,EAAE,GAAG,UAAC,GAAW,IAAK,WAAI,CAAC,GAAG,CAAC,GAAG,GAAG,EAAE,EAAE,CAAC,CAAC,EAArB,CAAqB,CAAC;QAElD,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,aAAG,IAAI,QAAC;YAC5B,YAAY,EAAE,cACZ,UAAU,GAAG,mBAAmB,GAAG,iBAAiB,iBACpD,GAAG,CAAC,SAAS,CAAC,CAAC,KAAK;iBACpB,MAAM,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC,MAAM,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC,MAAM,CAAC,GAAG,EAAE,EAAE,CAAC;iBAC/C,YAAY,CAAC,UAAU,GAAG,IAAI,GAAG,IAAI,CAAG;SAC1C,CAAC,EAN0B,CAM1B,CAAC,CAAC;IACL,CAAC;IAUD,+BAAQ,GAAR,cAAa,CAAC;IAhDL;QAAR,4DAAK,EAAE;sDAAW,sEAAc,oBAAd,sEAAc;kDAAC;IACnB;QAAd,oEAAM,CAAC,KAAK,CAAC;sDAAgB,2DAAU,oBAAV,2DAAU;8CAAW;IAiDvC;QAAX,sEAAQ,EAAE;;yDAGV;IAtDW,YAAY;QATxB,0EAAY,CAAC;YACb,kBAAkB,EAAE,aAAa;YACjC,YAAY,EAAE,0EAAkB;SAChC,CAAC;QACD,gEAAS,CAAC;YACV,QAAQ,EAAE,eAAe;YACzB,kCAAmC;YACnC,kCAAmC;SACnC,CAAC;6DAK+B,+DAAU,oBAAV,+DAAU;OAJ9B,YAAY,CAuDxB;IAAD,mBAAC;;CAAA;AAvDwB;;;;;;;ACjBzB,6jB;;;;;;ACAA;AACA;;;AAGA;AACA,wCAAyC,gBAAgB,iBAAiB,kBAAkB,wBAAwB,4BAA4B,EAAE,iCAAiC,mBAAmB,oBAAoB,yBAAyB,oBAAoB,8BAA8B,0BAA0B,sBAAsB,sCAAsC,EAAE,mCAAmC,yBAAyB,oBAAoB,0BAA0B,8BAA8B,mBAAmB,oBAAoB,sCAAsC,wBAAwB,sBAAsB,EAAE,8BAA8B,iBAAiB,kBAAkB,yBAAyB,sCAAsC,sBAAsB,EAAE,WAAW,iBAAiB,eAAe,mBAAmB,EAAE;;AAE11B;;;AAGA;AACA,2C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACXsE;AAS/C;AACQ;AACK;AACS;AAES;AACD;AACc;AACnB;AAEhD,IAAM,UAAU,GAAG,iFAAW,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;AAYvC;IAUC,yBACS,aAA4B,EAC5B,EAAa;QAFtB,iBAE2B;QADlB,kBAAa,GAAb,aAAa,CAAe;QAC5B,OAAE,GAAF,EAAE,CAAW;QA2BtB;;;;;WAKG;QACH,gBAAW,GAAG,cAAM,QAAC,OAAO,CAAC,EAAT,CAAS,CAAC;QAI9B,cAAS,GAAG,UAAC,CAAa;YACzB,KAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,OAAO,CAAC;YAC1B,KAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACrB,KAAI,CAAC,cAAc,GAAG,KAAI,CAAC,EAAE,CAAC,MAAM,CAAC,UAAU,EAAE,WAAW,EAAE,KAAI,CAAC,MAAM,CAAC,CAAC;YAC3E,KAAI,CAAC,eAAe,GAAG,KAAI,CAAC,EAAE,CAAC,MAAM,CAAC,UAAU,EAAE,SAAS,EAAE,KAAI,CAAC,OAAO,CAAC,CAAC;QAC5E,CAAC;QAED,WAAM,GAAG,UAAC,CAAa;YACtB,EAAE,CAAC,CAAC,KAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;gBACnB,IAAM,IAAI,GAAG,KAAI,CAAC,KAAK,CAAC,aAAa,CAAC,qBAAqB,EAAE,CAAC;gBAC9D,IAAM,QAAQ,GAAG,UAAU,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;gBAC1E,KAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,KAAI,CAAC,OAAO,CAAC,CAAC,CAAC,+DAA+D;YAC1G,CAAC;QACF,CAAC;QAED,YAAO,GAAG,UAAC,CAAa;YACvB,KAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;YACtB,KAAI,CAAC,cAAc,EAAE,CAAC;YACtB,KAAI,CAAC,eAAe,EAAE,CAAC;QACxB,CAAC;QAGD,gBAAW,GAAG,UAAC,QAAgB,EAAE,OAAoB;YACpD,YAAI,CAAC,aAAa,CAAC,oBAAoB,CAAC,KAAI,CAAC,QAAQ,EAAE,OAAO,EAAE,QAAQ,CAAC;QAAzE,CAAyE;IA5DhD,CAAC;IAE3B,sBAAI,mCAAM;aAAV;YAAA,iBAEC;YADA,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,KAAI,CAAC,QAAQ,CAAC,CAAC,KAAK,EAAxB,CAAwB,CAAC,CAAC;QACvD,CAAC;;;OAAA;IAED,sBAAI,sCAAS;aAAb;YAAA,iBASC;YARA,MAAM,CAAC,IAAI,CAAC,MAAM;iBAChB,GAAG,CAAC,eAAK,IAAI,QAAC;gBACd,UAAU,EAAE,kDAEV,KAAK,CAAC,GAAG,CAAC,KAAI,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC,YAAY,EAAE,mBACzC,KAAK,CAAC,GAAG,CAAC,KAAI,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC,YAAY,EAAE,gBAC5C;aACD,CAAC,EANY,CAMZ,CAAC,CAAC;QACN,CAAC;;;OAAA;IAED,sBAAI,yCAAY;aAAhB;YAAA,iBAQC;YAPA,MAAM,CAAC,IAAI,CAAC,MAAM;iBAChB,GAAG,CAAC,eAAK;gBACD,mEAAK,CAAsD;gBACnE,MAAM,CAAC;oBACN,SAAS,EAAE,gBAAc,CAAC,KAAK,CAAC,KAAI,CAAC,OAAO,CAAC,GAAG,GAAG,CAAC,GAAG,KAAK,QAAK;iBACjE,CAAC;YACH,CAAC,CAAC,CAAC;QACL,CAAC;;;OAAA;IAUD,kCAAQ,GAAR,cAAa,CAAC;IA9CI;QAAjB,gEAAS,CAAC,KAAK,CAAC;sDAAQ,yDAAU,oBAAV,yDAAU;kDAAC;IAC3B;QAAR,4DAAK,EAAE;sDAAW,sEAAc,oBAAd,sEAAc;qDAAC;IACzB;QAAR,4DAAK,EAAE;;oDAAsB;IACb;QAAhB,oEAAM,CAAC,KAAK,CAAC;sDAAkB,2DAAU,oBAAV,2DAAU;iDAAW;IAmErD;QADC,sEAAQ,EAAE;;wDAE+D;IAxE9D,eAAe;QAV3B,0EAAY,CAAC;YACb,kBAAkB,EAAE,aAAa;YACjC,YAAY,EAAE,0EAAkB;SAChC,CAAC;QACD,gEAAS,CAAC;YACV,QAAQ,EAAE,kBAAkB;YAC5B,kCAAsC;YACtC,kCAAsC;YACtC,eAAe,EAAE,sEAAuB,CAAC,MAAM;SAC/C,CAAC;6DAYuB,qEAAa,oBAAb,qEAAa,sDACxB,wDAAS,oBAAT,wDAAS;OAZV,eAAe,CAyE3B;IAAD,sBAAC;;CAAA;AAzE2B;;;;;;;AC/B5B,wN;;;;;;ACAA;AACA;;;AAGA;AACA,uCAAwC,uBAAuB,iBAAiB,iBAAiB,uBAAuB,iBAAiB,6DAA6D,EAAE,uCAAuC,kBAAkB,mBAAmB,yBAAyB,kBAAkB,gBAAgB,wBAAwB,6DAA6D,yBAAyB,EAAE,+CAA+C,6BAA6B,qBAAqB,EAAE,gDAAgD,iCAAiC,yBAAyB,EAAE;;AAE9oB;;;AAGA;AACA,2C;;;;;;;;;;;;;;;;;;ACXkD;AAOlD;IAEC;IAAgB,CAAC;IAEjB,kCAAQ,GAAR;IACA,CAAC;IALW,eAAe;QAL3B,gEAAS,CAAC;YACV,QAAQ,EAAE,yBAAyB;YACnC,kCAAsC;YACtC,kCAAsC;SACtC,CAAC;;OACW,eAAe,CAO3B;IAAD,sBAAC;CAAA;AAP2B;;;;;;;ACP5B,oB;;;;;;ACAA;AACA;;;AAGA;AACA;;AAEA;;;AAGA;AACA,2C;;;;;;;;;;;;;;;;;;;;;;ACXiF;AACxC;AAEL;AAEI;AASxC;IACC,qBACQ,KAAyB,EAChC,QAA2B,EACnB,SAAoB;QAFrB,UAAK,GAAL,KAAK,CAAoB;QAExB,cAAS,GAAT,SAAS,CAAW;QAE5B,KAAK,CAAC,cAAc,CACnB,6DAAW,EACX,EAAE,EACG,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,UACjC,QAAQ,CAAC,SAAS,EAAE,GAAG,CAAE,QAAQ,CAAC,QAAQ,EAAE,CAAE,GAAG,EAAE,CAAC,CAAC;IACvD,CAAC;IAXW,WAAW;QAPvB,+DAAQ,CAAC;YACT,OAAO,EAAE;gBACR,mEAAa;aACb;YACD,YAAY,EAAE,EAAE;YAChB,SAAS,EAAE,CAAC,yDAAS,CAAC;SACtB,CAAC;6DAGc,6DAAO,oBAAP,6DAAO,sDACX,uEAAiB,oBAAjB,uEAAiB,sDACR,yDAAS,oBAAT,yDAAS;OAJjB,WAAW,CAYvB;IAAD,kBAAC;;CAAA;AAZuB;;;;;;;;;;;;;;;;;;;;;;ACdmB;AAEU;AACG;AACA;AAGxD;IACC,mBACS,YAA0B,EAC1B,WAAwB,EACxB,gBAAkC;QAFlC,iBAAY,GAAZ,YAAY,CAAc;QAC1B,gBAAW,GAAX,WAAW,CAAa;QACxB,qBAAgB,GAAhB,gBAAgB,CAAkB;IAAI,CAAC;IAEzC,+BAAW,GAAlB;QACC,MAAM,CACF,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE,QAC/B,IAAI,CAAC,WAAW,CAAC,WAAW,EAAE,EAC9B,IAAI,CAAC,gBAAgB,CAAC,WAAW,EAAE,EACrC;IACH,CAAC;IAZW,SAAS;QADrB,iEAAU,EAAE;6DAGW,4EAAY,oBAAZ,4EAAY,sDACb,yEAAW,oBAAX,yEAAW,sDACN,4EAAgB,oBAAhB,4EAAgB;OAJ/B,SAAS,CAarB;IAAD,gBAAC;;CAAA;AAbqB;;;;;;;;;;;;;;;;ACPW;AAGa;AACF;AACY;AAEjD,IAAM,gBAAgB,GAAG;IAC/B,IAAM,OAAO,GAAG,IAAI,6EAAiB,EAAE,CAAC;IAExC,IAAM,iBAAiB,GAAoB,UAAC,CAAa;QACxD,MAAM,CAAC,OAAO,CAAC,uBAAuB,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC,CAAC;IACxE,CAAC,CAAC;IAEF,IAAM,iBAAiB,GAAoB,UAAC,CAAa;QACxD,MAAM,CAAC,OAAO,CAAC,wBAAwB,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC,CAAC;IACzE,CAAC,CAAC;IAEF,IAAM,eAAe,GAAoB,UAAC,CAAa;QACtD,MAAM,CAAC,OAAO,CAAC,qBAAqB,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC,CAAC;IACtE,CAAC,CAAC;IAEF,MAAM,CAAC,IAAI,kEAAQ,CAAC;QACnB,IAAI,EAAE,gEAAQ,CAAC,UAAU;QACzB,SAAS,EAAE,uDAAI,CAAqB;YACnC,EAAE,IAAI,EAAE,WAAW,EAAE,OAAO,EAAE,iBAAiB,EAAE,MAAM,EAAE,QAAQ,EAAE;YACnE,EAAE,IAAI,EAAE,WAAW,EAAE,OAAO,EAAE,iBAAiB,EAAE,MAAM,EAAE,QAAQ,EAAE;YACnE,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,eAAe,EAAE,MAAM,EAAE,QAAQ,EAAE;SAC/D,CAAC;KACF,CAAC,CAAC;AACJ,CAAC,CAAC;;;;;;;;;;;;;AC9B+B;AAGa;AACF;AAErC,IAAM,yBAAyB,GAAG;IACxC,MAAM,CAAC,IAAI,kEAAQ,CAAC;QACnB,IAAI,EAAE,gEAAQ,CAAC,mBAAmB;QAClC,SAAS,EAAE,uDAAI,CAAqB,EAAE,CAAC;KACvC,CAAC,CAAC;AACJ,CAAC,CAAC;;;;;;;;;;;;;;ACXoC;AAGQ;AACF;AACM;AAE3C,IAAM,aAAa,GAAG;IAC5B,IAAM,OAAO,GAAG,IAAI,uEAAc,EAAE,CAAC;IAErC,IAAM,iBAAiB,GAAoB,UAAC,CAAa;QACxD,cAAO,CAAC,uBAAuB,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC;IAA/D,CAA+D,CAAC;IAEjE,IAAM,eAAe,GAAoB,UAAC,CAAa;QACtD,cAAO,CAAC,qBAAqB,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC;IAA7D,CAA6D,CAAC;IAE/D,IAAM,iBAAiB,GAAoB,UAAC,CAAa;QACxD,cAAO,CAAC,wBAAwB,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC;IAAhE,CAAgE,CAAC;IAElE,IAAM,qBAAqB,GAAoB,UAAC,CAAa,EAAE,EAAsB;YAApB,0CAAkB;QAClF,uBAAuB;QACvB,IAAM,YAAY,GAAG,kBAAkB,CAAC,eAAe,CAAC,OAAO,EAAE,CAAC;QAClE,MAAM,CAAC,OAAO,CAAC,uBAAuB,CAAC,YAAY,EAAE,kBAAkB,CAAC,GAAG,CAAC,CAAC;IAC9E,CAAC,CAAC;IAEF,MAAM,CAAC,IAAI,kEAAQ,CAAC;QACnB,IAAI,EAAE,gEAAQ,CAAC,OAAO;QACtB,SAAS,EAAE,uDAAI,CAAqB;YACnC,EAAE,IAAI,EAAE,WAAW,EAAE,OAAO,EAAE,iBAAiB,EAAE,MAAM,EAAE,QAAQ,EAAE;YACnE,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,eAAe,EAAE,MAAM,EAAE,QAAQ,EAAE;YAC/D,EAAE,IAAI,EAAE,WAAW,EAAE,OAAO,EAAE,iBAAiB,EAAE,MAAM,EAAE,QAAQ,EAAE;YACnE,EAAE,IAAI,EAAE,WAAW,EAAE,OAAO,EAAE,qBAAqB,EAAE,MAAM,EAAE,QAAQ,EAAE;SACvE,CAAC;QACF,MAAM,EAAE,sDAAG,CAAC,EAAE,YAAY,EAAE,uDAAI,CAAC,EAAE,CAAC,EAAE,CAAC;KACvC,CAAC,CAAC;AACJ,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;ACnCsC;AACiB;AACG;AACA;AAErD,IAAM,WAAW,GAAG,8DAAe,CAAC;IAC1C,MAAM,EAAE,6EAAa;IACrB,OAAO,EAAE,gFAAc;IACvB,KAAK,EAAE,gFAAkB;CACzB,CAAC,CAAC;;;;;;;;;ACNI,IAAM,iBAAiB,GAA0B,UAAC,KAAmB,EAAE,MAAc;IAC3F,MAAM,CAAC,KAAK,CAAC;AACd,CAAC,CAAC;;;;;;;;;;;;ACL+B;AAI6C;AAEvE,IAAM,cAAc,GAA0B,UAAC,KAAmB,EAAE,MAAc;IACxF,MAAM,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QACrB,KAAK,0EAAiB,CAAC,0BAA0B;YAChD,IAAM,kBAAkB,GAA4B,MAAM,CAAC;YAC3D,MAAM,CAAe,KAAK,CAAC,KAAK,CAAC,CAAC,UAAU,EAAE,QAAQ,EAAE,cAAc,CAAC,EAAE,uDAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,CAAC,CAAC;IAC7G,CAAC;IACD,MAAM,CAAC,KAAK,CAAC;AACd,CAAC,CAAC;;;;;;;;;ACVK,IAAM,oBAAoB,GAA0B,UAAC,KAAmB,EAAE,MAAc;IAC9F,MAAM,CAAC,KAAK,CAAC;AACd,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACL6C;AACN;AAE+B;AACR;AACiB;AACR;AACH;AACT;AACH;AACK;AACa;AACK;AACR;AACA;AACnB;AACJ;AACK;AACR;AAoC/C;IAAA;IAA6B,CAAC;IAAjB,aAAa;QAlCzB,+DAAQ,CAAC;YACT,OAAO,EAAE;gBACR,qEAAY;aACZ;YACD,YAAY,EAAE;gBACb,6EAAgB;gBAChB,+FAAsB;gBACtB,oFAAgB;gBAChB,uGAAsB;gBACtB,4EAAa;gBACb,6FAAmB;gBACnB,sGAA4B;aAC5B;YACD,eAAe,EAAE;gBAChB,oFAAgB;gBAChB,uGAAsB;gBACtB,6FAAmB;gBACnB,sGAA4B;aAC5B;YACD,SAAS,EAAE;gBACV,qFAAe;gBACf,wEAAc;gBACd,qEAAY;gBACZ,+EAAc;gBACd,kFAAY;gBACZ,2FAAgB;gBAChB,+FAAkB;gBAClB,kGAAoB;gBACpB,8FAAwB;aACxB;YACD,OAAO,EAAE;gBACR,6EAAgB;aAChB;SACD,CAAC;OACW,aAAa,CAAI;IAAD,oBAAC;CAAA;AAAJ;;;;;;;ACtD1B,sHAAsH,mCAAmC,qB;;;;;;ACAzJ;AACA;;;AAGA;AACA,sCAAuC,kBAAkB,4BAA4B,wBAAwB,oBAAoB,gBAAgB,iBAAiB,EAAE,mCAAmC,kBAAkB,mBAAmB,8DAAqG,+BAA+B,mCAAmC,kCAAkC,EAAE,kDAAkD,gEAAmG,EAAE,WAAW,gBAAgB,iBAAiB,EAAE;;AAE5nB;;;AAGA;AACA,2C;;;;;;ACXA,wF;;;;;;ACAA,sF;;;;;;ACAA,wHAAwH,mCAAmC,yB;;;;;;ACA3J;AACA;;;AAGA;AACA,sCAAuC,kBAAkB,4BAA4B,wBAAwB,oBAAoB,gBAAgB,iBAAiB,EAAE,mCAAmC,kBAAkB,mBAAmB,8DAAiG,+BAA+B,mCAAmC,kCAAkC,EAAE,kDAAkD,gEAA+F,EAAE,WAAW,gBAAgB,iBAAiB,EAAE;;AAEpnB;;;AAGA;AACA,2C;;;;;;ACXA,oF;;;;;;ACAA,kF;;;;;;ACAA,gHAAgH,mCAAmC,qB;;;;;;ACAnJ;AACA;;;AAGA;AACA,mCAAoC,kBAAkB,4BAA4B,wBAAwB,oBAAoB,gBAAgB,iBAAiB,EAAE,6BAA6B,kBAAkB,mBAAmB,8DAAkG,+BAA+B,mCAAmC,kCAAkC,EAAE,4CAA4C,gEAAgG,EAAE,WAAW,gBAAgB,iBAAiB,EAAE;;AAEvmB;;;AAGA;AACA,2C;;;;;;ACXA,qF;;;;;;ACAA,mF;;;;;;ACAA,4HAA4H,mCAAmC,qB;;;;;;ACA/J;AACA;;;AAGA;AACA,yCAA0C,kBAAkB,4BAA4B,wBAAwB,oBAAoB,gBAAgB,iBAAiB,EAAE,yCAAyC,kBAAkB,mBAAmB,8DAAwG,+BAA+B,mCAAmC,mCAAmC,EAAE,wDAAwD,gEAAsG,EAAE,WAAW,gBAAgB,iBAAiB,EAAE;;AAElpB;;;AAGA;AACA,2C;;;;;;ACXA,2F;;;;;;ACAA,yF;;;;;;;;;;;;;;;;;;;;;;;;;ACauB;AAEkD;AACS;AAClB;AACkB;AACtC;AAC4B;AACvB;AAEjD,IAAM,QAAQ;IACb,GAAC,gEAAQ,CAAC,OAAO,IAAG,oFAAgB;IACpC,GAAC,gEAAQ,CAAC,aAAa,IAAG,sGAAsB;IAChD,GAAC,gEAAQ,CAAC,UAAU,IAAG,6FAAmB;IAC1C,GAAC,gEAAQ,CAAC,mBAAmB,IAAG,sGAA4B;OAC5D,CAAC;AAEF,IAAM,gBAAgB,GAAG,UAAC,QAAkB;IAC3C,IAAM,IAAI,GAAG,QAAQ,CAAC,QAAQ,CAAC,CAAC;IAChC,MAAM,CAAC,IAAI,CAAC;AACb,CAAC,CAAC;AAOF;IAQC,gCACS,wBAAkD,EAC1D,cAA8B,EAC9B,QAAmB;QAFX,6BAAwB,GAAxB,wBAAwB,CAA0B;QAG1D,IAAI,CAAC,aAAa,GAAG,QAAQ,CAAC,GAAG,CAAC,cAAc,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;IAC1E,CAAC;IAED,yCAAQ,GAAR;QACC,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YACf,IAAM,aAAa,GAAG,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAClD,IAAM,OAAO,GAAG,IAAI,CAAC,wBAAwB,CAAC,uBAAuB,CAAoB,aAAa,CAAC,CAAC;YACxG,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;YAC3D,IAAI,CAAC,QAAQ,GAAsB,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC;YAC9D,IAAI,CAAC,QAAQ,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;YACrC,IAAI,CAAC,QAAQ,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC;QAClD,CAAC;IACF,CAAC;IAED,0CAAS,GAAT;QACC,IAAI,CAAC,QAAQ,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;IACtC,CAAC;IAED,4CAAW,GAAX;QACC,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;YACvB,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,CAAC;YAC5B,IAAI,CAAC,YAAY,GAAG,SAAS,CAAC;QAC/B,CAAC;IACF,CAAC;IAhCqD;QAArD,gEAAS,CAAC,sEAAa,EAAE,EAAE,IAAI,EAAE,+DAAgB,EAAE,CAAC;sDAAW,+DAAgB,oBAAhB,+DAAgB;4DAAC;IACxE;QAAR,4DAAK,EAAE;sDAAU,kEAAY,oBAAZ,kEAAY;2DAAC;IACtB;QAAR,4DAAK,EAAE;sDAAO,gEAAQ,oBAAR,gEAAQ;wDAAC;IALZ,sBAAsB;QALlC,gEAAS,CAAC;YACV,QAAQ,EAAE,oBAAoB;YAC9B,kCAA8C;YAC9C,kCAA8C;SAC9C,CAAC;6DAUkC,uEAAwB,oBAAxB,uEAAwB,sDAC1C,6DAAc,oBAAd,6DAAc,sDACnB,uDAAQ,oBAAR,uDAAQ;OAXR,sBAAsB,CAoClC;IAAD,6BAAC;;CAAA;AApCkC;;;;;;;;ACxCnC,mDAAmD,mCAAmC,wD;;;;;;ACAtF;AACA;;;AAGA;AACA,gCAAiC,gBAAgB,iBAAiB,kBAAkB,4BAA4B,wBAAwB,wBAAwB,uBAAuB,iBAAiB,2CAA2C,6DAA6D,EAAE,iBAAiB,yDAAyD,wBAAwB,8CAA8C,EAAE,wBAAwB,wEAAwE,uBAAuB,mBAAmB,EAAE;;AAEhlB;;;AAGA;AACA,2C;;;;;;;;;;;;;;;;;;;;;;;;ACX4D;AACC;AAChB;AAEF;AACQ;AAYnD;IAVA;QAWQ,aAAQ,GAAG;YACjB,gEAAQ,CAAC,aAAa;YACtB,gEAAQ,CAAC,mBAAmB;YAC5B,gEAAQ,CAAC,OAAO;YAChB,gEAAQ,CAAC,UAAU;SACnB,CAAC;QAGF,eAAU,GAAG,cAAM,QAAC,SAAS,CAAC,EAAX,CAAW,CAAC;IAChC,CAAC;IAH8B;QAA7B,oEAAM,CAAC,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;sDAAqB,2DAAU,oBAAV,2DAAU;uDAAW;IAP3D,gBAAgB;QAV5B,0EAAY,CAAC;YACb,kBAAkB,EAAE,YAAY;YAChC,YAAY,EAAE,wEAAc;SAC5B,CAAC;QACD,gEAAS,CAAC;YACV,QAAQ,EAAE,aAAa;YACvB,kCAAuC;YACvC,kCAAuC;YACvC,aAAa,EAAE,gEAAiB,CAAC,IAAI;SACrC,CAAC;OACW,gBAAgB,CAU5B;IAAD,uBAAC;;CAAA;AAV4B;;;;;;;ACjB7B,8HAA8H,yDAAyD,kC;;;;;;ACAvL;AACA;;;AAGA;AACA,mCAAoC,oBAAoB,eAAe,YAAY,iBAAiB,0CAA0C,qDAAqD,8BAA8B,kCAAkC,qCAAqC,sBAAsB,oBAAoB,EAAE;;AAEpV;;;AAGA;AACA,2C;;;;;;;;;;;;;;;;ACXA,oEAAoE;AAC3B;AACc;AAEvD,IAAM,MAAM,GAAW,EAKtB,CAAC;AAMF;IAAA;IAAgC,CAAC;IAApB,gBAAgB;QAJ5B,+DAAQ,CAAC;YACR,OAAO,EAAE,CAAC,qEAAY,CAAC,OAAO,CAAC,MAAM,EAAE,EAAC,OAAO,EAAE,IAAI,EAAC,CAAC,CAAC;YACxD,OAAO,EAAE,CAAC,qEAAY,CAAC;SACxB,CAAC;OACW,gBAAgB,CAAI;IAAD,uBAAC;CAAA;AAAJ;;;;;;;;;;;;;;;;;;;;;;;;;ACf7B;AAAA,wEAAwE;AACxE,8FAA8F;AACvF,IAAM,WAAW,GAAG;IACzB,UAAU,EAAE,KAAK;CAClB,CAAC","file":"main.bundle.js","sourcesContent":["import { List } from 'immutable';\nimport { IPosition, Position } from '../canvas.model';\nimport { Drawable, DrawableType, IinitDrawable } from '../drawable/drawable.model';\n\nexport enum AnchorType {\n\tMoveTo = 'M',\n\tLineTo = 'L',\n\tHorizontalLineTo = 'H',\n\tVerticalLineTo = 'V',\n\tCubicBezierCurve = 'C',\n\tSmoothCurveTo = 'S',\n\tQuadraticBezierCurve = 'Q',\n\tSmoothQuadraticBezierCurveTo = 'T',\n\tElipticalArc = 'A',\n\tClosePath = 'Z',\n}\n\nexport abstract class BaseAnchor extends Drawable {\n\tanchorType: AnchorType;\n\n\tconstructor(params: IinitDrawable) {\n\t\tsuper({\n\t\t\t...params,\n\t\t\ttype: DrawableType.Anchor,\n\t\t});\n\t}\n\n\tabstract transformStyle: string;\n\tabstract setRouteParentPath: (path: List<number>) => BaseAnchor;\n\tabstract setPosition: (absPosition: IPosition) => BaseAnchor;\n\tabstract toPath: () => string;\n\tabstract clone: () => BaseAnchor;\n\n\tpublic toObject() {\n\t\treturn <IinitDrawable>({\n\t\t\t...Drawable.prototype.toObject.call(this),\n\t\t\t...(<IinitDrawable>this),\n\t\t});\n\t}\n}\n\nexport interface IHandle { path: string; headTransformStyle: string; }\n\nexport interface AnchorWithHandles extends BaseAnchor {\n\thandlePositions: List<Position>;\n\thandleLines: Array<IHandle>;\n\tupdateHandle: (absPosition: IPosition, which?: string) => AnchorWithHandles;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/canvas/anchor/anchor.model.ts","import { Record } from 'immutable';\nimport { IToolBase, ToolBase } from './tool/tool.model';\n\nexport enum ToolName {\n\tPentool = 'PENTOOL',\n\tSelectiontool = 'SELECTIONTOOL',\n\tCanvastool = 'CANVASTOOL',\n\tDirectSelectiontool = 'DIRECTSELECTIONTOOL',\n}\n\nexport class ToolboxState extends Record({ selected: {} }) {\n\tselected: ToolBase;\n\n\tconstructor(initState: {\n\t\tselected: IToolBase,\n\t}) {\n\t\tsuper(initState);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/toolbox/toolbox.model.ts","import { Injectable } from '@angular/core';\nimport { FluxStandardAction } from 'flux-standard-action';\nimport { ToolBase } from './tool/tool.model';\nimport { ToolName } from './toolbox.model';\n\n/**\n * Using CONSTANT naming convention and holding same value\n * to be able to check if an enum value is in enum keys\n */\nexport enum ToolboxActionType {\n\tTOOLBOX_SELECT_TOOL = 'TOOLBOX_SELECT_TOOL',\n\tTOOLBOX_SET_TOOL_TRAIT = 'TOOLBOX_SET_TOOL_TRAIT',\n}\n\nexport type ISelectToolAction = FluxStandardAction<{\n\ttoolName: ToolName,\n}, undefined>;\n\nexport type ISetToolTraitAction = FluxStandardAction<{\n\ttool: ToolBase,\n}, undefined>;\n\nexport type IToolboxGeneralAction = FluxStandardAction<{ // Need to improve to be more elegant!\n\ttoolName?: ToolName,\n\ttool?: ToolBase,\n}, undefined>;\n\n@Injectable()\nexport class ToolboxActions {\n\t/**\n\t * Note:\n\t *\n\t * Here it does not need any `@dispatch()` decorator as it will only be\n\t * dispatched by view components, not epics\n\t */\n\tselectToolAction = (toolName: ToolName): ISelectToolAction => ({\n\t\ttype: ToolboxActionType.TOOLBOX_SELECT_TOOL,\n\t\tpayload: { toolName },\n\t\tmeta: undefined,\n\t})\n\n\tsetToolTraitAction = (tool: ToolBase): ISetToolTraitAction => ({\n\t\ttype: ToolboxActionType.TOOLBOX_SET_TOOL_TRAIT,\n\t\tpayload: { tool },\n\t\tmeta: undefined,\n\t})\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/toolbox/toolbox.action.ts","import { List, Record } from 'immutable';\nimport { Action } from 'redux';\nimport { Drawable } from './drawable/drawable.model';\n\nexport interface IPosition {\n\tx: number;\n\ty: number;\n\tz?: number;\n}\n\nexport interface IRotation {\n\tx: number;\n\ty: number;\n\tz?: number;\n}\n\nexport class Position extends Record({ x: 0, y: 0 }) {\n\tx: number;\n\ty: number;\n\n\tconstructor(params: IPosition) {\n\t\tsuper(params);\n\t}\n}\n\nexport class Position3D extends Record({ x: 0, y: 0, z: 0 }) {\n\tx: number;\n\ty: number;\n\tz: number;\n\n\tconstructor(params: IPosition) {\n\t\tsuper(params);\n\t}\n}\n\nexport class Quaternion extends Record({ x: 0, y: 0, z: 0 }) {\n\tx: number;\n\ty: number;\n\tz: number;\n\n\tconstructor(params: IRotation) {\n\t\tsuper({\n\t\t\t...params,\n\t\t\tz: params.z ? params.z : 0,\n\t\t});\n\t}\n}\n\nexport interface ISize {\n\twidth: number;\n\theight: number;\n}\n\nexport class Size extends Record({ width: 0, height: 0 }) {\n\twidth: number;\n\theight: number;\n\n\tconstructor(size: ISize) {\n\t\tsuper(size);\n\t}\n}\n\nexport interface IActionFromEventPayload {\n\ttargetIn?: Array<number>;\n\tcurrentTargetIn?: Array<number>;\n\ttriggeringDrawable?: Drawable;\n\tcurrentTriggeringDrawable?: Drawable;\n}\n\nexport type ActionFromEvent = (event: Event, payload?: IActionFromEventPayload) => Action;\n\nexport interface RegisteredListener {\n\tname: string;\n\thandler: ActionFromEvent;\n\ttarget: 'anchor'|'path'|'curveHandle'|'group'|'canvas'|string;\n}\n\nexport interface IBoard {\n\ttopLeft: Position;\n\tscale: number;\n\tmoved: Position;\n\tdimension: Size;\n}\n\n/**\n * IMPORTANT NOTE!\n *\n * DO NOT use 'size' because it is a reserved keyword in immutable (Record)\n * thus changing it to 'dimension'\n */\nconst initBoardAttributes: IBoard = {\n\ttopLeft: new Position({ x: 0, y: 0 }),\n\tscale: 1,\n\tmoved: new Position({ x: 0, y: 0 }),\n\tdimension: new Size({ width: 800, height: 600 }),\n};\n\nexport class Board extends Record(initBoardAttributes) {\n\tconstructor(initBoard: IBoard = initBoardAttributes) {\n\t\tsuper(initBoard);\n\t}\n}\n\nexport interface ICanvasState {\n\troot: List<Drawable>;\n\tboard: Board;\n\t/**\n\t * List of paths from root\n\t */\n\tselected: List<List<number>>;\n\tisolate: List<number>;\n}\n\nconst initCanvasState: ICanvasState = {\n\troot: List<Drawable>([]),\n\tboard: new Board(initBoardAttributes),\n\tselected: List<List<number>>([]),\n\tisolate: List<number>([]),\n};\n\nexport class CanvasState extends Record(initCanvasState) implements ICanvasState {\n\troot: List<Drawable>;\n\tboard: Board;\n\tselected: List<List<number>>;\n\tisolate: List<number>;\n\n\tconstructor(initCanvas: ICanvasState) {\n\t\tsuper(initCanvas);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/canvas/canvas.model.ts","import { List, Record } from 'immutable';\nimport { Position } from '../canvas.model';\n\nexport enum DrawableType {\n\tAnchor = 'DRAWABLE_ANCHOR',\n\tPath = 'DRAWABLE_PATH',\n\tGroup = 'DRAWABLE_GROUP',\n}\n\nexport interface IinitDrawable {\n\tid?: number;\n\tidx: number;\n\tabsPosition: Position;\n\trouteParentPath?: List<number>;\n\ttype?: DrawableType;\n\tchildren?: List<Drawable>;\n\t[other: string]: any;\n}\n\nconst initDrawableAttribute = {\n\tid: 0,\n\tidx: 0,\n\tversion: 0,\n\tabsPosition: new Position({ x: 0, y: 0 }),\n\trouteParentPath: List<number>([]),\n\ttype: '',\n\tchildren: List<Drawable>([]),\n};\n\nexport abstract class Drawable extends Record(initDrawableAttribute) {\n\tprivate static lastId = 1;\n\tprivate static lastVersion = 1;\n\tid: number;\n\tidx: number;\n\tversion: number;\n\tchildren: List<Drawable>;\n\trouteParentPath: List<number>;\n\tabsPosition: Position;\n\ttype: DrawableType;\n\n\tconstructor(init: IinitDrawable) {\n\t\tsuper({\n\t\t\t...init,\n\t\t\tid: init.id || Drawable.genId(),\n\t\t\tversion: Drawable.genVersion(),\n\t\t\trouteParentPath: init.routeParentPath || List<number>([]),\n\t\t\tchildren: init.children || List<Drawable>([]),\n\t\t});\n\t}\n\n\tabstract setRouteParentPath: (parentPath: List<number>) => Drawable;\n\n\t/**\n\t * Converting from Array<number> usually used in `targetIn` to be merged alternately with 'children' string\n\t * Used for accessing immutable data using methods `getIn`, `setIn`, etc.\n\t */\n\tstatic toRoutePath = (targetIn: Array<number>, accessLastChildren: boolean = false): Array<number|'children'> =>\n\t\ttargetIn.reduce<Array<number|'children'>>((acc, target, idx) =>\n\t\t\taccessLastChildren || idx !== targetIn.length - 1 ?\n\t\t\t[...acc, target, 'children'] : [...acc, target],\n\t\t\t[])\n\n\tstatic genId = (): number => {\n\t\treturn Drawable.lastId++;\n\t}\n\n\tstatic genVersion = (): number => {\n\t\treturn Drawable.lastVersion++;\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/canvas/drawable/drawable.model.ts","import { dispatch } from '@angular-redux/store';\nimport { Injectable } from '@angular/core';\nimport { FluxStandardAction } from 'flux-standard-action';\n\nimport { ColorAttribute } from '../../color/rim/rim.model';\nimport { AnchorType } from '../anchor/anchor.model';\nimport { IPosition } from '../canvas.model';\n\n/**\n * Using CONSTANT naming convention and holding same value\n * to be able to check if an enum value is in enum keys\n */\nexport enum PathActionType {\n\tPATH_CREATE_NEW_IN = 'PATH_CREATE_NEW_IN',\n\tPATH_ADD_ANCHOR = 'PATH_ADD_ANCHOR',\n\tPATH_UPDATE_ANCHOR = 'PATH_UPDATE_ANCHOR',\n\tPATH_CHANGE_ANCHOR_TYPE = 'PATH_CHANGE_ANCHOR_TYPE',\n\tPATH_UPDATE_BEZIER_HANDLE = 'PATH_UPDATE_BEZIER_HANDLE',\n\tPATH_REMOVE_ANCHOR = 'PATH_REMOVE_ANCHOR',\n\tPATH_REMOVE_LAST_ANCHOR = 'PATH_REMOVE_LAST_ANCHOR',\n\tPATH_ZIP_PATH = 'PATH_ZIP_PATH',\n\tPATH_CHANGE_COLOR = 'PATH_CHANGE_COLOR',\n}\n\nexport interface ICreateNewInPayload {\n\tparentIn: Array<number>;\n\tanchorPosition: IPosition;\n}\n\nexport interface IAddAnchorPayload {\n\ttargetIn: Array<number>;\n\tanchorPosition: IPosition;\n\tanchorType?: AnchorType;\n}\nexport interface IRemoveAnchorPayload {\n\ttargetIn: Array<number>;\n\tidx: number;\n}\nexport interface IChangeColorPayload {\n\ttargetIn: Array<number>;\n\tattribute: ColorAttribute;\n\tcolor: string;\n}\n\nexport type ICreateNewInAction = FluxStandardAction<ICreateNewInPayload, undefined>;\nexport type IAddAnchorAction = FluxStandardAction<IAddAnchorPayload, undefined>;\nexport type IRemoveAnchorAction = FluxStandardAction<IRemoveAnchorPayload, undefined>;\nexport type IRemoveLastAnchorAction = FluxStandardAction<Array<number>, undefined>;\nexport type IZipPathAction = FluxStandardAction<Array<number>, undefined>;\nexport type IChangeColorAction = FluxStandardAction<IChangeColorPayload, undefined>;\n\n@Injectable()\nexport class PathActions {\n\t/**\n\t * Note:\n\t *\n\t * Don't forget to add `@dispatch()` if you want to achieve continuous dispatch.\n\t * Otherwise, it will be just passing to the next operator, and only the last action is dispatched\n\t */\n\t@dispatch()\n\tcreateNewIn = (parentIn: Array<number>, anchorPosition: IPosition): ICreateNewInAction => {\n\t\treturn {\n\t\t\ttype: PathActionType.PATH_CREATE_NEW_IN,\n\t\t\tpayload: { parentIn, anchorPosition },\n\t\t\tmeta: undefined,\n\t\t};\n\t}\n\n\t@dispatch()\n\taddAnchorAction = (targetIn: Array<number>, anchorPosition: IPosition, anchorType?: AnchorType): IAddAnchorAction => {\n\t\treturn {\n\t\t\ttype: PathActionType.PATH_ADD_ANCHOR,\n\t\t\tpayload: { targetIn, anchorPosition, anchorType },\n\t\t\tmeta: undefined,\n\t\t};\n\t}\n\n\t@dispatch()\n\tremoveAnchorAction = (targetIn: number[], idx: number): IRemoveAnchorAction => {\n\t\treturn {\n\t\t\ttype: PathActionType.PATH_REMOVE_ANCHOR,\n\t\t\tpayload: { targetIn, idx },\n\t\t\tmeta: undefined,\n\t\t};\n\t}\n\n\t@dispatch()\n\tremoveLastAnchorAction = (targetIn: number[]): IRemoveLastAnchorAction => {\n\t\treturn {\n\t\t\ttype: PathActionType.PATH_REMOVE_LAST_ANCHOR,\n\t\t\tpayload: targetIn,\n\t\t\tmeta: undefined,\n\t\t};\n\t}\n\n\t@dispatch()\n\tzipPathAction = (targetIn: Array<number>): IZipPathAction => {\n\t\treturn {\n\t\t\ttype: PathActionType.PATH_ZIP_PATH,\n\t\t\tpayload: targetIn,\n\t\t\tmeta: undefined,\n\t\t};\n\t}\n\n\t@dispatch()\n\tchangeColor = (targetIn: Array<number>, attribute: ColorAttribute, color: string): IChangeColorAction => {\n\t\t// let color = <Color>value;\n\t\t// if (typeof color === 'undefined') { color = new Color(value); }\n\t\treturn {\n\t\t\ttype: PathActionType.PATH_CHANGE_COLOR,\n\t\t\tpayload: { targetIn, attribute, color },\n\t\t\tmeta: undefined,\n\t\t};\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/canvas/path/path.action.ts","import { Record } from 'immutable';\n\nimport { Color } from './rim.color.model';\n\nexport { Color };\n\nexport enum ColorAttribute {\n\tFill = 'fill',\n\tOutline = 'outline',\n}\n\nexport interface IFill {\n\tcolor: Color;\n}\n\nexport interface IOutline {\n\tcolor: Color;\n\twidth: number;\n}\n\nconst initFill: IFill = { color: new Color() };\n\nexport class Fill extends Record(initFill) {\n\tcolor: Color;\n\n\tconstructor(state: IFill = initFill) {\n\t\tsuper(state);\n\t}\n}\n\nconst initOutline: IOutline = { color: new Color(), width: 1 };\n\nexport class Outline extends Record(initOutline) {\n\tcolor: Color;\n\twidth: number;\n\n\tconstructor(state: IOutline = initOutline) {\n\t\tsuper(state);\n\t}\n}\n\nexport interface IRimState {\n\tfill: Fill;\n\toutline: Outline;\n}\n\nconst initRimState: IRimState = { fill: new Fill(), outline: new Outline() };\n\nexport class RimState extends Record(initRimState) {\n\tfill: Fill; // attribute naming must be same with ColorAttribute enum\n\toutline: Outline;\n\n\tconstructor(state: IRimState = initRimState) {\n\t\tsuper(state);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/color/rim/rim.model.ts","import { Injectable } from '@angular/core';\nimport { FluxStandardAction } from 'flux-standard-action';\n\nimport { IRGBObject } from '../rim/rim.color.model';\nimport { Color, ColorAttribute } from '../rim/rim.model';\n\nexport enum SliderActionType {\n\tSLIDER_CHANGE_VALUE_BY_CHANNEL = 'SLIDER_CHANGE_VALUE_BY_CHANNEL',\n\tSLIDER_CHANGE_COLOR = 'SLIDER_CHANGE_COLOR',\n}\n\nexport interface IChangeValueByChannelPayload { attribute: ColorAttribute; channel: 'r'|'g'|'b'; value: number; }\nexport interface IChangeColorPayload { attribute: ColorAttribute; color: Color; }\n\nexport type IChangeValueByChannelAction = FluxStandardAction<IChangeValueByChannelPayload, undefined>;\nexport type IChangeColorAction = FluxStandardAction<IChangeColorPayload, undefined>;\n\n@Injectable()\nexport class SliderActions {\n\t/**\n\t * Note:\n\t *\n\t * Here it does not need any `@dispatch()` decorator as it will only be\n\t * dispatched by view components, not epics. If decorated, it will redundantly\n\t * dispatch twice.\n\t */\n\tchangeValueByChannel = (attribute: ColorAttribute, channel: 'r'|'g'|'b', value: number): IChangeValueByChannelAction => ({\n\t\ttype: SliderActionType.SLIDER_CHANGE_VALUE_BY_CHANNEL,\n\t\tpayload: { attribute, channel, value },\n\t\tmeta: undefined,\n\t})\n\n\tchangeColor = (attribute: ColorAttribute, value: Color|string|IRGBObject): IChangeColorAction => {\n\t\tlet color = <Color>value;\n\t\tif (!(color instanceof Color)) { color = new Color(value); }\n\t\treturn {\n\t\t\ttype: SliderActionType.SLIDER_CHANGE_COLOR,\n\t\t\tpayload: { attribute, color },\n\t\t\tmeta: undefined,\n\t\t};\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/color/slider/slider.action.ts","import { dispatch } from '@angular-redux/store';\nimport { Injectable } from '@angular/core';\nimport { FluxStandardAction } from 'flux-standard-action';\n\nimport { IPosition } from '../../canvas/canvas.model';\n\n/**\n * Using CONSTANT naming convention and holding same value\n * to be able to check if an enum value is in enum keys\n */\nexport enum PentoolActionType {\n\tPENTOOL_MOUSE_DOWN_ON_CANVAS = 'PENTOOL_MOUSE_DOWN_ON_CANVAS',\n\tPENTOOL_MOUSE_UP_ON_CANVAS = 'PENTOOL_MOUSE_UP_ON_CANVAS',\n\tPENTOOL_MOUSE_MOVE_ON_CANVAS = 'PENTOOL_MOUSE_MOVE_ON_CANVAS',\n\tPENTOOL_MOUSE_DOWN_ON_ANCHOR = 'PENTOOL_MOUSE_DOWN_ON_ANCHOR',\n\tPENTOOL_CHANGE_ACTIVE_PATH = 'PENTOOL_CHANGE_ACTIVE_PATH',\n}\n\nexport type IMouseDownOnCanvasPayload = IPosition;\nexport type IMouseUpOnCanvasPayload = IMouseDownOnCanvasPayload;\nexport type IMoveCursorPayload = IMouseDownOnCanvasPayload;\nexport interface IMouseDownOnAnchorPayload { targetIn: Array<number>; idx: number; }\n\nexport type IMouseDownOnCanvasAction = FluxStandardAction<IMouseDownOnCanvasPayload, undefined>;\nexport type IMouseUpOnCanvasAction = FluxStandardAction<IMouseUpOnCanvasPayload, undefined>;\nexport type IMoveCursorOnCanvasAction = FluxStandardAction<IMoveCursorPayload, undefined>;\nexport type IMouseDownOnAnchorAction = FluxStandardAction<IMouseDownOnAnchorPayload, undefined>;\nexport type IChangeActivePathAction = FluxStandardAction<Array<number>, undefined>;\n\n@Injectable()\nexport class PentoolActions {\n\t/**\n\t * Note:\n\t *\n\t * Here it does not need any `@dispatch()` decorator as it will only be\n\t * dispatched by view components, not epics. If decorated, it will redundantly\n\t * dispatch twice.\n\t */\n\tmouseDownOnCanvasAction = (absPoint: IPosition): IMouseDownOnCanvasAction => ({\n\t\ttype: PentoolActionType.PENTOOL_MOUSE_DOWN_ON_CANVAS,\n\t\tpayload: absPoint,\n\t\tmeta: undefined,\n\t})\n\n\tmouseUpOnCanvasAction = (absPoint: IPosition): IMouseUpOnCanvasAction => ({\n\t\ttype: PentoolActionType.PENTOOL_MOUSE_UP_ON_CANVAS,\n\t\tpayload: absPoint,\n\t\tmeta: undefined,\n\t})\n\n\tmoveCursorOnCanvasAction = (absPoint: IPosition): IMoveCursorOnCanvasAction => ({\n\t\ttype: PentoolActionType.PENTOOL_MOUSE_MOVE_ON_CANVAS,\n\t\tpayload: absPoint,\n\t\tmeta: undefined,\n\t})\n\n\tmouseDownOnAnchorAction = (targetIn: Array<number>, idx: number): IMouseDownOnAnchorAction => ({\n\t\ttype: PentoolActionType.PENTOOL_MOUSE_DOWN_ON_ANCHOR,\n\t\tpayload: { targetIn, idx },\n\t\tmeta: undefined,\n\t})\n\n\t@dispatch()\n\tchangeActivePathAction = (targetIn: Array<number>): IChangeActivePathAction => ({\n\t\ttype: PentoolActionType.PENTOOL_CHANGE_ACTIVE_PATH,\n\t\tpayload: targetIn,\n\t\tmeta: undefined,\n\t})\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/toolbox/pentool/pentool.action.ts","import { dispatch } from '@angular-redux/store';\nimport { Injectable } from '@angular/core';\nimport { FluxStandardAction } from 'flux-standard-action';\n\nimport { IPosition } from './canvas.model';\n\n/**\n * Using CONSTANT naming convention and holding same value\n * to be able to check if an enum value is in enum keys\n */\nexport enum CanvasActionType {\n\tCANVAS_UPDATE_TOP_LEFT = 'CANVAS_UPDATE_TOP_LEFT',\n\tCANVAS_UPDATE_SCALE = 'CANVAS_UPDATE_SCALE',\n\tCANVAS_UPDATE_MOVED = 'CANVAS_UPDATE_MOVED',\n}\n\nexport type IUpdateTopLeftAction = FluxStandardAction<IPosition, undefined>;\nexport type IUpdateScaleAction = FluxStandardAction<number, undefined>;\nexport type IUpdateMovedAction = IUpdateTopLeftAction;\n\n@Injectable()\nexport class CanvasActions {\n\t@dispatch()\n\tupdateTopLeft = (position: IPosition): IUpdateTopLeftAction => ({\n\t\ttype: CanvasActionType.CANVAS_UPDATE_TOP_LEFT,\n\t\tpayload: position,\n\t\tmeta: undefined,\n\t})\n\n\t@dispatch()\n\tupdateScale = (scaleBy: number): IUpdateScaleAction => ({\n\t\ttype: CanvasActionType.CANVAS_UPDATE_SCALE,\n\t\tpayload: scaleBy,\n\t\tmeta: undefined,\n\t})\n\n\t@dispatch()\n\tupdateMoved = (position: IPosition): IUpdateMovedAction => ({\n\t\ttype: CanvasActionType.CANVAS_UPDATE_MOVED,\n\t\tpayload: position,\n\t\tmeta: undefined,\n\t})\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/canvas/canvas.action.ts","import { AfterContentChecked, ElementRef, OnInit } from '@angular/core';\nimport { Action } from 'redux';\n\nimport { ToolName } from '../toolbox.model';\n\nexport interface IToolContext {\n\ttoolName: ToolName;\n\tisActive: boolean;\n\t[atts: string]: any;\n}\n\nexport abstract class ToolBaseComponent implements AfterContentChecked, OnInit {\n\tappElementRef: ElementRef;\n\tcontext: IToolContext;\n\tabstract hotKey: string;\n\tprotected abstract selectTool: (...params: Array<any>) => Action;\n\t/**\n\t * Required implementation for handler after hotkey is pressed\n\t * @param { KeyboardEvent } e - Optional argument Event\n\t */\n\tprotected abstract afterHotKeyDown: (e?: KeyboardEvent) => void;\n\n\tngOnInit() {\n\t\twindow.addEventListener('keypress', this.checkKeyDown);\n\t}\n\n\tcheckKeyDown = (e: KeyboardEvent) => {\n\t\tconst key = e.which || e.keyCode;\n\t\tif (key === this.hotKey.charCodeAt(0)) {\n\t\t\tthis.afterHotKeyDown(e);\n\t\t}\n\t}\n\n\tngAfterContentChecked() {\n\t\tif (this.context.isActive) {\n\t\t\tthis.setCursorAfterSelected();\n\t\t}\n\t}\n\n\t/**\n\t * Called during `ngAfterContentChecked` method, is to set cursor based on tooltype accordingly\n\t */\n\tprotected abstract setCursorAfterSelected(): void;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/toolbox/tool/tool.base.component.ts","import { dispatch } from '@angular-redux/store';\nimport { Injectable } from '@angular/core';\nimport { FluxStandardAction } from 'flux-standard-action';\n\nimport { IPosition } from '../../canvas/canvas.model';\nimport { AnchorType } from './anchor.model';\n\nexport enum AnchorActionType {\n\tANCHOR_UPDATE_POSITION = 'ANCHOR_UPDATE_POSITION',\n\tANCHOR_CHANGE_TYPE = 'ANCHOR_CHANGE_TYPE',\n\tANCHOR_UPDATE_BEZIER_HANDLE = 'ANCHOR_UPDATE_BEZIER_HANDLE',\n}\n\nexport interface IUpdatePositionPayload {\n\ttargetIn: Array<number>;\n\tidx: number;\n\tposition: IPosition;\n}\nexport interface IChangeTypePayload {\n\ttargetIn: Array<number>;\n\tidx: number;\n\tanchorType: AnchorType;\n}\nexport interface IUpdateBezierHandlePayload {\n\ttargetIn: Array<number>;\n\tidx: number;\n\tposition: IPosition;\n\twhich?: 'start'|'end'|'both';\n}\n\nexport type IUpdatePositionAction = FluxStandardAction<IUpdatePositionPayload, undefined>;\nexport type IChangeTypeAction = FluxStandardAction<IChangeTypePayload, undefined>;\nexport type IUpdateBezierHandleAction = FluxStandardAction<IUpdateBezierHandlePayload, undefined>;\n\n@Injectable()\nexport class AnchorActions {\n\t/**\n\t * Note:\n\t *\n\t * Don't forget to add `@dispatch()` if you want to achieve continuous dispatch.\n\t * Otherwise, it will be just passing to the next operator, and only the last action is dispatched\n\t */\n\t@dispatch()\n\tupdatePosition = (targetIn: Array<number>, idx: number, position: IPosition): IUpdatePositionAction => {\n\t\treturn {\n\t\t\ttype: AnchorActionType.ANCHOR_UPDATE_POSITION,\n\t\t\tpayload: { targetIn, idx, position },\n\t\t\tmeta: undefined,\n\t\t};\n\t}\n\n\t@dispatch()\n\tchangeType = (targetIn: Array<number>, idx: number, anchorType: AnchorType): IChangeTypeAction => {\n\t\treturn {\n\t\t\ttype: AnchorActionType.ANCHOR_CHANGE_TYPE,\n\t\t\tpayload: { targetIn, idx, anchorType },\n\t\t\tmeta: undefined,\n\t\t};\n\t}\n\n\t@dispatch()\n\tupdateBezierHandle = (targetIn: Array<number>, idx: number, position: IPosition,\n\t\twhich: 'start'|'end'|'both' = 'start'): IUpdateBezierHandleAction => {\n\t\t\treturn {\n\t\t\t\ttype: AnchorActionType.ANCHOR_UPDATE_BEZIER_HANDLE,\n\t\t\t\tpayload: { targetIn, idx, position, which },\n\t\t\t\tmeta: undefined,\n\t\t\t};\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/canvas/anchor/anchor.action.ts","import { dispatch } from '@angular-redux/store';\nimport { Injectable } from '@angular/core';\nimport { FluxStandardAction } from 'flux-standard-action';\n\nexport enum DrawableActionType {\n\tDRAWABLE_SELECT = 'DRAWABLE_SELECT',\n\tDRAWABLE_ADD_SELECT = 'DRAWABLE_ADD_SELECT',\n\tDRAWABLE_DESELECT = 'DRAWABLE_DESELECT',\n\tDRAWABLE_DESELECT_ALL = 'DRAWABLE_DESELECT_ALL',\n}\n\nexport type ISelectPayload = Array<number>;\nexport type IAddSelectPayload = ISelectPayload;\nexport type IDeselectPayload = ISelectPayload;\n\nexport type SelectAction = FluxStandardAction<ISelectPayload, undefined>;\nexport type AddSelectAction = FluxStandardAction<IAddSelectPayload, undefined>;\nexport type DeselectAction = FluxStandardAction<IDeselectPayload, undefined>;\nexport type DeselectAllAction = FluxStandardAction<undefined, undefined>;\n\n@Injectable()\nexport class DrawableActions {\n\t@dispatch()\n\tselectAction = (targetIn: Array<number>): SelectAction => ({\n\t\ttype: DrawableActionType.DRAWABLE_SELECT,\n\t\tpayload: targetIn,\n\t\tmeta: undefined,\n\t})\n\n\t@dispatch()\n\taddSelectAction = (targetIn: Array<number>): AddSelectAction => ({\n\t\ttype: DrawableActionType.DRAWABLE_ADD_SELECT,\n\t\tpayload: targetIn,\n\t\tmeta: undefined,\n\t})\n\n\t@dispatch()\n\tdeselectAction = (targetIn: Array<number>): DeselectAction => ({\n\t\ttype: DrawableActionType.DRAWABLE_DESELECT,\n\t\tpayload: targetIn,\n\t\tmeta: undefined,\n\t})\n\n\t@dispatch()\n\tdeselectAllAction = (): DeselectAllAction => ({\n\t\ttype: DrawableActionType.DRAWABLE_DESELECT_ALL,\n\t\tpayload: undefined,\n\t\tmeta: undefined,\n\t})\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/canvas/drawable/drawable.action.ts","import { Action, Reducer } from 'redux';\n\nimport { ColorPickerState } from './color.model';\nimport { OpacityActionType } from './opacity/opacity.action';\nimport { opacityReducer } from './opacity/opacity.reducer';\nimport { RimActionType } from './rim/rim.action';\nimport { rimReducer } from './rim/rim.reducer';\nimport { SliderActionType } from './slider/slider.action';\nimport { sliderReducer } from './slider/slider.reducer';\nimport { StrokeActionType } from './stroke/stroke.action';\nimport { strokeReducer } from './stroke/stroke.reducer';\n\nexport const colorPickerReducer: Reducer<ColorPickerState> = (\n\tstate: ColorPickerState = new ColorPickerState(), action: Action,\n) => {\n\tswitch (true) {\n\t\tcase action.type in OpacityActionType:\n\t\t\treturn opacityReducer(state, action);\n\t\tcase action.type in RimActionType:\n\t\t\treturn rimReducer(state, action);\n\t\tcase action.type in SliderActionType:\n\t\t\treturn sliderReducer(state, action);\n\t\tcase action.type in StrokeActionType:\n\t\t\treturn strokeReducer(state, action);\n\t}\n\treturn state;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/color/color.reducer.ts","import { Injectable } from '@angular/core';\nimport { FluxStandardAction } from 'flux-standard-action';\n\nimport { ColorAttribute } from './rim.model';\n\nexport enum RimActionType {\n\tRIM_COLOR_ATTRIBUTE_SELECT = 'RIM_COLOR_ATTRIBUTE_SELECT',\n}\n\nexport type IColorAttributeSelectAction = FluxStandardAction<ColorAttribute, undefined>;\n\n@Injectable()\nexport class RimActions {\n\n\tColorAttributeSelect = (attribute: ColorAttribute): IColorAttributeSelectAction => ({\n\t\ttype: RimActionType.RIM_COLOR_ATTRIBUTE_SELECT,\n\t\tpayload: attribute,\n\t\tmeta: undefined,\n\t})\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/color/rim/rim.action.ts","import { List, Map, Record } from 'immutable';\n\nimport { RegisteredListener } from '../../canvas/canvas.model';\nimport { ToolName } from '../toolbox.model';\n\nexport interface IToolBase {\n\tname: ToolName;\n\tlisteners: List<RegisteredListener>;\n\tothers?: Map<string, any>;\n}\n\nexport class ToolBase extends Record({ listeners: List([]), name: '', others: Map({}) }) implements IToolBase {\n\tname: ToolName;\n\tlisteners: List<RegisteredListener>;\n\tothers: Map<string, any>;\n\n\tconstructor(initTool: IToolBase) {\n\t\tsuper(initTool);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/toolbox/tool/tool.model.ts","import { Injectable } from '@angular/core';\nimport { FluxStandardAction } from 'flux-standard-action';\nimport { Action } from 'redux';\n\n/**\n * Using CONSTANT naming convention and holding same value\n * to be able to check if an enum value is in enum keys\n */\nexport enum SelectiontoolActionType {\n\tSELECTIONTOOL_MOUSE_DOWN_ON_DRAWABLE = 'SELECTIONTOOL_MOUSE_DOWN_ON_DRAWABLE',\n\tSELECTIONTOOL_MOUSE_DOWN_ON_CANVAS = 'SELECTIONTOOL_MOUSE_DOWN_ON_CANVAS',\n}\n\nexport type ISelectDrawableAction = FluxStandardAction<Array<number>, undefined>;\n\n@Injectable()\nexport class SelectiontoolActions {\n\t/**\n\t * Note:\n\t *\n\t * Here it does not need any `@dispatch()` decorator as it will only be\n\t * dispatched by view components, not epics\n\t */\n\tmouseDownOnDrawableAction = (targetIn: Array<number>): ISelectDrawableAction => ({\n\t\ttype: SelectiontoolActionType.SELECTIONTOOL_MOUSE_DOWN_ON_DRAWABLE,\n\t\tpayload: targetIn,\n\t\tmeta: undefined,\n\t})\n\n\tmouseDownOnCanvas = (): Action => ({\n\t\ttype: SelectiontoolActionType.SELECTIONTOOL_MOUSE_DOWN_ON_CANVAS,\n\t})\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/toolbox/selectiontool/selectiontool.action.ts","/**\n * This file includes polyfills needed by Angular and is loaded before the app.\n * You can add your own extra polyfills to this file.\n *\n * This file is divided into 2 sections:\n *   1. Browser polyfills. These are applied before loading ZoneJS and are sorted by browsers.\n *   2. Application imports. Files imported after ZoneJS that should be loaded before your main\n *      file.\n *\n * The current setup is for so-called \"evergreen\" browsers; the last versions of browsers that\n * automatically update themselves. This includes Safari >= 10, Chrome >= 55 (including Opera),\n * Edge >= 13 on the desktop, and iOS 10 and Chrome on mobile.\n *\n * Learn more in https://angular.io/docs/ts/latest/guide/browser-support.html\n */\n\n/***************************************************************************************************\n * BROWSER POLYFILLS\n */\n\n/** IE9, IE10 and IE11 requires all of the following polyfills. **/\n// import 'core-js/es6/symbol';\n// import 'core-js/es6/object';\n// import 'core-js/es6/function';\n// import 'core-js/es6/parse-int';\n// import 'core-js/es6/parse-float';\n// import 'core-js/es6/number';\n// import 'core-js/es6/math';\n// import 'core-js/es6/string';\n// import 'core-js/es6/date';\n// import 'core-js/es6/array';\n// import 'core-js/es6/regexp';\n// import 'core-js/es6/map';\n// import 'core-js/es6/set';\n\n/** IE10 and IE11 requires the following for NgClass support on SVG elements */\n// import 'classlist.js';  // Run `npm install --save classlist.js`.\n\n/** IE10 and IE11 requires the following to support `@angular/animation`. */\n// import 'web-animations-js';  // Run `npm install --save web-animations-js`.\n\n\n/** Evergreen browsers require these. **/\nimport 'core-js/es6/reflect';\nimport 'core-js/es7/reflect';\n\n\n/** ALL Firefox browsers require the following to support `@angular/animation`. **/\n// import 'web-animations-js';  // Run `npm install --save web-animations-js`.\n\n\n\n/***************************************************************************************************\n * Zone JS is required by Angular itself.\n */\nimport 'zone.js/dist/zone-mix'; // Included with Angular CLI.\n\n\n/***************************************************************************************************\n * APPLICATION IMPORTS\n */\n\n/**\n * Date, currency, decimal and percent pipes.\n * Needed for: All but Chrome, Firefox, Edge, IE11 and Safari 10\n */\n// import 'intl';  // Run `npm install --save intl`.\n\n\n\n// WEBPACK FOOTER //\n// ./src/polyfills.ts","if(typeof require('events') === 'undefined') {var e = new Error(\"Cannot find module \\\"require('events')\\\"\"); e.code = 'MODULE_NOT_FOUND'; throw e;}\nmodule.exports = require('events');\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"require('events')\"\n// module id = 157\n// module chunks = 0 1","if(typeof require('fs') === 'undefined') {var e = new Error(\"Cannot find module \\\"require('fs')\\\"\"); e.code = 'MODULE_NOT_FOUND'; throw e;}\nmodule.exports = require('fs');\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"require('fs')\"\n// module id = 158\n// module chunks = 0 1","if(typeof require('crypto') === 'undefined') {var e = new Error(\"Cannot find module \\\"require('crypto')\\\"\"); e.code = 'MODULE_NOT_FOUND'; throw e;}\nmodule.exports = require('crypto');\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"require('crypto')\"\n// module id = 161\n// module chunks = 0 1","import { Drawable } from './drawable.model';\n\nexport abstract class DrawableBaseComponent {\n\tdrawable: Drawable;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/canvas/drawable/drawable.base.component.ts","import { BaseAnchor } from './anchor.model';\n\nexport abstract class AnchorBaseComponent {\n\tanchor: BaseAnchor;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/canvas/anchor/anchor.base.component.ts","import { Injectable } from '@angular/core';\nimport { FluxStandardAction } from 'flux-standard-action';\nimport { IPosition } from '../../canvas/canvas.model';\n\n/**\n * Using CONSTANT naming convention and holding same value\n * to be able to check if an enum value is in enum keys\n */\nexport enum CanvastoolActionType {\n\tCANVASTOOL_MOUSE_DOWN_ON_CANVAS = 'CANVASTOOL_MOUSE_DOWN_ON_CANVAS',\n\tCANVASTOOL_MOUSE_MOVE_ON_CANVAS = 'CANVASTOOL_MOUSE_MOVE_ON_CANVAS',\n\tCANVASTOOL_MOUSE_UP_ON_CANVAS = 'CANVASTOOL_MOUSE_UP_ON_CANVAS',\n}\n\nexport type ICanvasMoveAction = FluxStandardAction<IPosition, undefined>;\n\n@Injectable()\nexport class CanvastoolActions {\n\t/**\n\t * Note:\n\t *\n\t * Here it does not need any `@dispatch()` decorator as it will only be\n\t * dispatched by view components, not epics. If decorated, it will redundantly\n\t * dispatch twice.\n\t */\n\tmouseDownOnCanvasAction = (startPosition: IPosition): ICanvasMoveAction => ({\n\t\ttype: CanvastoolActionType.CANVASTOOL_MOUSE_DOWN_ON_CANVAS,\n\t\tpayload: startPosition,\n\t\tmeta: undefined,\n\t})\n\n\tmoveCursorOnCanvasAction = (currentPosition: IPosition): ICanvasMoveAction => ({\n\t\ttype: CanvastoolActionType.CANVASTOOL_MOUSE_MOVE_ON_CANVAS,\n\t\tpayload: currentPosition,\n\t\tmeta: undefined,\n\t})\n\n\tmouseUpOnCanvasAction = (endPosition: IPosition): ICanvasMoveAction => ({\n\t\ttype: CanvastoolActionType.CANVASTOOL_MOUSE_UP_ON_CANVAS,\n\t\tpayload: endPosition,\n\t\tmeta: undefined,\n\t})\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/toolbox/canvastool/canvastool.action.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 179;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/$$_gendir lazy\n// module id = 179\n// module chunks = 0","import { Injectable } from '@angular/core';\n\n// If you import a module but never use any of the imported values other than as TypeScript types,\n// the resulting javascript file will look as if you never imported the module at all.\nimport * as childProcess from 'child_process';\nimport { ipcRenderer } from 'electron';\n\n@Injectable()\nexport class ElectronService {\n\n\tipcRenderer: typeof ipcRenderer;\n\tchildProcess: typeof childProcess;\n\n\tconstructor() {\n\t\t// Conditional imports\n\t\tif (this.isElectron()) {\n\t\t\tthis.ipcRenderer = window.require('electron').ipcRenderer;\n\t\t\tthis.childProcess = window.require('child_process');\n\t\t}\n\t}\n\n\tisElectron = () => {\n\t\treturn window && window.process && window.process.type;\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/providers/electron.service.ts","import {\n\tChangeDetectionStrategy,\n\tComponent,\n\tComponentFactoryResolver,\n\tComponentRef,\n\tInput,\n\tOnChanges,\n\tOnDestroy,\n\tOnInit,\n\tViewChild,\n\tViewContainerRef,\n\tViewEncapsulation,\n} from '@angular/core';\n\nimport { DrawableBaseComponent } from '../drawable/drawable.base.component';\nimport { AnchorBaseComponent } from './anchor.base.component';\nimport { AnchorDirective } from './anchor.directive';\nimport { AnchorType, BaseAnchor } from './anchor.model';\nimport { BasicAnchorComponent } from './basic/basic.component';\nimport { BezierAnchorComponent } from './bezier/bezier.component';\nimport { SmoothAnchorComponent } from './smooth/smooth.component';\n\nconst mappings = {\n\t[AnchorType.MoveTo]: BasicAnchorComponent,\n\t[AnchorType.LineTo]: BasicAnchorComponent,\n\t[AnchorType.SmoothQuadraticBezierCurveTo]: BasicAnchorComponent, // This type is exactly the same with BasicAnchor, except it starts with T\n\t[AnchorType.SmoothCurveTo]: SmoothAnchorComponent,\n\t[AnchorType.QuadraticBezierCurve]: BezierAnchorComponent,\n\t[AnchorType.CubicBezierCurve]: BezierAnchorComponent,\n};\n\nconst getComponentType = (typeName: AnchorType) => {\n\tconst type = mappings[typeName];\n\treturn type;\n};\n\n@Component({\n\tselector: 'app-anchor',\n\ttemplateUrl: './anchor.component.html',\n\tstyleUrls: ['./anchor.component.scss'],\n\tencapsulation: ViewEncapsulation.None,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class AnchorComponent extends DrawableBaseComponent implements OnInit, OnDestroy, OnChanges {\n\tcomponentRef: ComponentRef<AnchorBaseComponent>;\n\tinstance: AnchorBaseComponent;\n\t@ViewChild(AnchorDirective, { read: ViewContainerRef }) anchorHost: ViewContainerRef;\n\t@Input() drawable: BaseAnchor;\n\n\tconstructor(private componentFactoryResolver: ComponentFactoryResolver) { super(); }\n\n\tngOnInit() {\n\t\tif (this.drawable.anchorType) {\n\t\t\tconst anchorType = getComponentType(this.drawable.anchorType);\n\t\t\tconst factory = this.componentFactoryResolver.resolveComponentFactory<AnchorBaseComponent>(anchorType);\n\t\t\tthis.componentRef = this.anchorHost.createComponent(factory);\n\t\t\tthis.instance = this.componentRef.instance;\n\t\t\tthis.instance.anchor = this.drawable;\n\t\t}\n\t}\n\n\tngOnChanges() {\n\t\tif (this.instance) { this.instance.anchor = this.drawable; }\n\t}\n\n\tngOnDestroy() {\n\t\tif (this.componentRef) {\n\t\t\tthis.componentRef.destroy();\n\t\t\tthis.componentRef = undefined;\n\t\t}\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/canvas/anchor/anchor.container.component.ts","import { Directive, ViewContainerRef } from '@angular/core';\n\n@Directive({\n\tselector: '[appAnchorHost]',\n})\nexport class AnchorDirective {\n\tconstructor(public viewContainerRef: ViewContainerRef) { }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/canvas/anchor/anchor.directive.ts","import { dispatch, select$ } from '@angular-redux/store';\nimport {\n\tChangeDetectionStrategy,\n\tChangeDetectorRef,\n\tComponent,\n\tDoCheck,\n\tElementRef,\n\tInput,\n\tOnInit,\n\tRenderer2,\n\tViewChild,\n\tViewEncapsulation,\n} from '@angular/core';\nimport { List } from 'immutable';\nimport 'rxjs/add/operator/filter';\nimport { Observable } from 'rxjs/Observable';\n\nimport { BaseAnchor } from '../../anchor/anchor.model';\nimport { ActionFromEvent, RegisteredListener } from '../../canvas.model';\nimport { Drawable } from '../../drawable/drawable.model';\nimport { AnchorBaseComponent } from '../anchor.base.component';\n\nconst filterListener = (listeners$: Observable<List<RegisteredListener>>) =>\n\tlisteners$.map(listeners => <List<RegisteredListener>>listeners\n\t\t.filter(listener => listener.target === 'anchor'));\n\n@Component({\n\tselector: 'app-anchor-basic',\n\ttemplateUrl: './basic.component.html',\n\tstyleUrls: ['./basic.component.scss'],\n\tencapsulation: ViewEncapsulation.None,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class BasicAnchorComponent extends AnchorBaseComponent implements OnInit, DoCheck {\n\tlisteners: Array<Function> = [];\n\t@ViewChild('anchor') anchorRef: ElementRef;\n\t@Input() anchor: BaseAnchor;\n\t@select$(['toolbox', 'selected', 'listeners'], filterListener)\treadonly listeners$: Observable<List<RegisteredListener>>;\n\tprivate old: BaseAnchor;\n\n\tconstructor(\n\t\tprivate rd: Renderer2,\n\t\tprivate cdRef: ChangeDetectorRef) { super(); }\n\n\tget style() {\n\t\treturn {\n\t\t\ttransform: this.anchor.transformStyle,\n\t\t\t'pointer-events': this.anchor.idx === 0 ? 'auto' : 'none', // Test only for stopping cursor following\n\t\t};\n\t}\n\n\tngOnInit() {\n\t\t// Attach listeners as dictated by toolbox\n\t\tthis.listeners$.subscribe(listeners => {\n\t\t\t// clear listener from pevious tool\n\t\t\tthis.listeners.forEach((listenerToDestroy: Function) => listenerToDestroy());\n\t\t\tlisteners.forEach(listener => {\n\t\t\t\tthis.listeners.push(this.rd.listen(this.anchorRef.nativeElement, listener.name,\n\t\t\t\t\t(e: MouseEvent) => { this.dispatchRegisteredAction(listener.handler, e, this.anchor); },\n\t\t\t\t));\n\t\t\t});\n\t\t});\n\t\tthis.old = this.anchor;\n\t}\n\n\tngDoCheck() {\n\t\tif (this.old !== this.anchor) { this.cdRef.markForCheck(); }\n\t\tthis.old = this.anchor;\n\t}\n\n\t/**\n\t * Need to pass `drawableRef` because calling `this` in the function\n\t * will refer the drawable from the currentTarget (last anchor)\n\t */\n\t@dispatch() dispatchRegisteredAction = (handler: ActionFromEvent, e: MouseEvent, drawableRef: Drawable) => {\n\t\treturn handler(e, { triggeringDrawable: drawableRef, currentTriggeringDrawable: this.anchor });\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/canvas/anchor/basic/basic.component.ts","import { dispatch, select$ } from '@angular-redux/store';\nimport {\n\tChangeDetectionStrategy,\n\tChangeDetectorRef,\n\tComponent,\n\tDoCheck,\n\tElementRef,\n\tInput,\n\tOnInit,\n\tRenderer2,\n\tViewChild,\n\tViewEncapsulation,\n} from '@angular/core';\nimport { List } from 'immutable';\nimport 'rxjs/add/operator/filter';\nimport { Observable } from 'rxjs/Observable';\n\nimport { BaseAnchor, IHandle } from '../../anchor/anchor.model';\nimport { ActionFromEvent, RegisteredListener } from '../../canvas.model';\nimport { Drawable } from '../../drawable/drawable.model';\nimport { AnchorBaseComponent } from '../anchor.base.component';\nimport { CubicBezierAnchor } from './bezier.model';\n\nconst filterListener = (listeners$: Observable<List<RegisteredListener>>) =>\nlisteners$.map(listeners => <List<RegisteredListener>>listeners\n\t.filter(listener => listener.target === 'anchor'));\n\n@Component({\n\tselector: 'app-anchor-bezier',\n\ttemplateUrl: './bezier.component.html',\n\tstyleUrls: ['./bezier.component.scss'],\n\tencapsulation: ViewEncapsulation.None,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class BezierAnchorComponent extends AnchorBaseComponent implements OnInit, DoCheck {\n\tlisteners: Array<Function> = [];\n\t@ViewChild('anchor') anchorRef: ElementRef;\n\t@Input() anchor: BaseAnchor;\n\t@select$(['toolbox', 'selected', 'listeners'], filterListener)\treadonly listeners$: Observable<List<RegisteredListener>>;\n\tprivate old: BaseAnchor;\n\n\tconstructor(\n\t\tprivate rd: Renderer2,\n\t\tprivate cdRef: ChangeDetectorRef) { super(); }\n\n\tget style() {\n\t\treturn {\n\t\t\ttransform: this.anchor.transformStyle,\n\t\t};\n\t}\n\n\tget handleStyles() {\n\t\treturn this.handles.map(value => ({ transform: value.headTransformStyle }));\n\t}\n\n\tget handles(): Array<IHandle> {\n\t\treturn (<CubicBezierAnchor>this.anchor).handleLines;\n\t}\n\n\tngOnInit() {\n\t\t// Attach listeners as dictated by toolbox\n\t\tthis.listeners$.subscribe(listeners => {\n\t\t\t// clear listener from pevious tool\n\t\t\tthis.listeners.forEach((listenerToDestroy: Function) => listenerToDestroy());\n\t\t\tlisteners.forEach(listener => {\n\t\t\t\tthis.listeners.push(this.rd.listen(this.anchorRef.nativeElement, listener.name,\n\t\t\t\t\t(e: MouseEvent) => { this.dispatchRegisteredAction(listener.handler, e, this.anchor); },\n\t\t\t\t));\n\t\t\t});\n\t\t});\n\t\tthis.old = this.anchor;\n\t}\n\n\tngDoCheck() {\n\t\tif (this.old !== this.anchor) { this.cdRef.markForCheck(); }\n\t\tthis.old = this.anchor;\n\t}\n\n\t/**\n\t * Need to pass `drawableRef` because calling `this` in the function\n\t * will refer the drawable from the currentTarget (last anchor)\n\t */\n\t@dispatch() dispatchRegisteredAction = (handler: ActionFromEvent, e: MouseEvent, drawableRef: Drawable) => {\n\t\treturn handler(e, { triggeringDrawable: drawableRef, currentTriggeringDrawable: this.anchor });\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/canvas/anchor/bezier/bezier.component.ts","import { dispatch, select$ } from '@angular-redux/store';\nimport {\n\tChangeDetectionStrategy,\n\tChangeDetectorRef,\n\tComponent,\n\tDoCheck,\n\tElementRef,\n\tInput,\n\tOnInit,\n\tRenderer2,\n\tViewChild,\n\tViewEncapsulation,\n} from '@angular/core';\nimport { List } from 'immutable';\nimport 'rxjs/add/operator/filter';\nimport { Observable } from 'rxjs/Observable';\n\nimport { BaseAnchor, IHandle } from '../../anchor/anchor.model';\nimport { ActionFromEvent, RegisteredListener } from '../../canvas.model';\nimport { Drawable } from '../../drawable/drawable.model';\nimport { AnchorBaseComponent } from '../anchor.base.component';\nimport { SmoothAnchor } from './smooth.model';\n\nconst filterListener = (listeners$: Observable<List<RegisteredListener>>) =>\nlisteners$.map(listeners => <List<RegisteredListener>>listeners\n\t.filter(listener => listener.target === 'anchor'));\n\n@Component({\n\tselector: 'app-anchor-smooth',\n\ttemplateUrl: './smooth.component.html',\n\tstyleUrls: ['./smooth.component.scss'],\n\tencapsulation: ViewEncapsulation.None,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class SmoothAnchorComponent extends AnchorBaseComponent implements OnInit, DoCheck {\n\tlisteners: Array<Function> = [];\n\t@ViewChild('anchor') anchorRef: ElementRef;\n\t@Input() anchor: BaseAnchor;\n\t@select$(['toolbox', 'selected', 'listeners'], filterListener)\treadonly listeners$: Observable<List<RegisteredListener>>;\n\tprivate old: BaseAnchor;\n\n\tconstructor(\n\t\tprivate rd: Renderer2,\n\t\tprivate cdRef: ChangeDetectorRef) { super(); }\n\n\tget style() {\n\t\treturn {\n\t\t\ttransform: this.anchor.transformStyle,\n\t\t\t'pointer-events': this.anchor.idx === 0 ? 'auto' : 'none', // Test only for stopping cursor following\n\t\t};\n\t}\n\n\tget handleStyles() {\n\t\treturn this.handles.map(value => ({ transform: value.headTransformStyle }));\n\t}\n\n\tget handles(): Array<IHandle> {\n\t\treturn (<SmoothAnchor>this.anchor).handleLines;\n\t}\n\n\tngOnInit() {\n\t\t// Attach listeners as dictated by toolbox\n\t\tthis.listeners$.subscribe(listeners => {\n\t\t\t// clear listener from pevious tool\n\t\t\tthis.listeners.forEach((listenerToDestroy: Function) => listenerToDestroy());\n\t\t\tlisteners.forEach(listener => {\n\t\t\t\tthis.listeners.push(this.rd.listen(this.anchorRef.nativeElement, listener.name,\n\t\t\t\t\t(e: MouseEvent) => { this.dispatchRegisteredAction(listener.handler, e, this.anchor); },\n\t\t\t\t));\n\t\t\t});\n\t\t});\n\t\tthis.old = this.anchor;\n\t}\n\n\tngDoCheck() {\n\t\tif (this.old !== this.anchor) { this.cdRef.markForCheck(); }\n\t\tthis.old = this.anchor;\n\t}\n\n\t/**\n\t * Need to pass `drawableRef` because calling `this` in the function\n\t * will refer the drawable from the currentTarget (last anchor)\n\t */\n\t@dispatch() dispatchRegisteredAction = (handler: ActionFromEvent, e: MouseEvent, drawableRef: Drawable) => {\n\t\treturn handler(e, { triggeringDrawable: drawableRef, currentTriggeringDrawable: this.anchor });\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/canvas/anchor/smooth/smooth.component.ts","import { List } from 'immutable';\nimport { Action, Reducer } from 'redux';\n\nimport { AnchorActionType } from './anchor/anchor.action';\nimport { anchorReducer } from './anchor/anchor.reducer';\nimport {\n\tCanvasActionType,\n\tIUpdateMovedAction,\n\tIUpdateScaleAction,\n\tIUpdateTopLeftAction,\n} from './canvas.action';\nimport * as canvasCore from './canvas.core';\nimport { Board, CanvasState } from './canvas.model';\nimport { DrawableActionType } from './drawable/drawable.action';\nimport { drawableReducer } from './drawable/drawable.reducer';\nimport { PathActionType } from './path/path.action';\nimport { pathReducer } from './path/path.reducer';\n\nexport const canvasReducer: Reducer<CanvasState> = (\n\tstate = new CanvasState({\n\t\troot: List([]),\n\t\tboard: new Board(),\n\t\tselected: List<List<number>>([]),\n\t\tisolate: List<number>([]),\n\t}),\n\taction: Action) => {\n\t\tswitch (true) {\n\t\t\tcase action.type in DrawableActionType:\n\t\t\t\treturn drawableReducer(state, action);\n\t\t\tcase action.type in PathActionType:\n\t\t\t\treturn pathReducer(state, action);\n\t\t\tcase action.type in AnchorActionType:\n\t\t\t\treturn anchorReducer(state, action);\n\t\t}\n\t\tswitch (action.type) {\n\t\t\tcase CanvasActionType.CANVAS_UPDATE_TOP_LEFT:\n\t\t\t\treturn canvasCore.updateTopLeft(state, (<IUpdateTopLeftAction>action).payload);\n\t\t\tcase CanvasActionType.CANVAS_UPDATE_SCALE:\n\t\t\t\treturn canvasCore.updateScale(state, (<IUpdateScaleAction>action).payload);\n\t\t\tcase CanvasActionType.CANVAS_UPDATE_MOVED:\n\t\t\t\treturn canvasCore.updateMoved(state, (<IUpdateMovedAction>action).payload);\n\t\t}\n\t\treturn state;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/canvas/canvas.reducer.ts","import { IinitDrawable } from '../drawable/drawable.model';\nimport { AnchorType, BaseAnchor } from './anchor.model';\nimport { BasicAnchor } from './basic/basic.model';\nimport { CubicBezierAnchor, QuadraticBezierAnchor } from './bezier/bezier.model';\nimport { SmoothAnchor, SmoothQuadraticAnchor } from './smooth/smooth.model';\n\nexport class AnchorFactory {\n\tstatic createAnchor = (type: AnchorType, params: IinitDrawable): BaseAnchor => {\n\t\tswitch (type) {\n\t\t\tcase AnchorType.LineTo:\n\t\t\t\treturn new BasicAnchor(params);\n\t\t\tcase AnchorType.SmoothCurveTo:\n\t\t\t\treturn new SmoothAnchor(params);\n\t\t\tcase AnchorType.QuadraticBezierCurve:\n\t\t\t\treturn new QuadraticBezierAnchor(params);\n\t\t\tcase AnchorType.CubicBezierCurve:\n\t\t\t\treturn new CubicBezierAnchor(params);\n\t\t\tcase AnchorType.SmoothQuadraticBezierCurveTo:\n\t\t\t\treturn new SmoothQuadraticAnchor(params);\n\t\t\tdefault:\n\t\t\t\tconsole.error('Invalid anchor type passed to AnchorFactory');\n\t\t}\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/canvas/anchor/anchor.factory.ts","import { List } from 'immutable';\n\nimport { IPosition, Position } from '../../canvas.model';\nimport { IinitDrawable } from '../../drawable/drawable.model';\nimport { AnchorType, BaseAnchor } from '../anchor.model';\n\n/**\n * It might be better to use composition rather than inheritance\n * However, it will be more difficult to make use of Immutable methods\n */\nexport class BasicAnchor extends BaseAnchor {\n\tconstructor(params: IinitDrawable) {\n\t\tsuper(params);\n\t\tthis.anchorType = this.idx === 0 ? this.anchorType = AnchorType.MoveTo : AnchorType.LineTo;\n\t}\n\n\tsetRouteParentPath = (path: List<number>): BasicAnchor => {\n\t\treturn new BasicAnchor({\n\t\t\t...this.toObject(),\n\t\t\trouteParentPath: path,\n\t\t});\n\t}\n\n\tsetPosition = (absPosition: IPosition): BasicAnchor => {\n\t\treturn new BasicAnchor({\n\t\t\t...this.toObject(),\n\t\t\tabsPosition: new Position(absPosition),\n\t\t});\n\t}\n\n\tclone = () => new BasicAnchor(this.toObject());\n\n\tget transformStyle(): string {\n\t\treturn `translate(${this.absPosition.get('x')}px, ${this.absPosition.get('y')}px)`;\n\t}\n\n\ttoPath = (): string =>\n\t\t`${this.anchorType} ${this.absPosition.get('x')}, ${this.absPosition.get('y')}`\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/canvas/anchor/basic/basic.model.ts","import { List } from 'immutable';\n\nimport { ColorAttribute } from '../../color/rim/rim.model';\nimport { AnchorFactory } from '../anchor/anchor.factory';\nimport { AnchorType, BaseAnchor } from '../anchor/anchor.model';\nimport { IPosition, Position } from '../canvas.model';\nimport { Drawable, DrawableType, IinitDrawable } from '../drawable/drawable.model';\n\nexport interface IinitPath extends IinitDrawable {\n\tisZipped?: boolean;\n\tchildren?: List<BaseAnchor>;\n\tfill?: string;\n\toutline?: string;\n}\n\nexport class Path extends Drawable {\n\tchildren: List<BaseAnchor>;\n\tidx: number;\n\tisZipped: boolean;\n\tfill: string;\n\toutline: string;\n\n\tconstructor(params: IinitPath) {\n\t\tsuper({\n\t\t\t...params,\n\t\t\ttype: DrawableType.Path,\n\t\t});\n\t\tthis.isZipped = !!params.isZipped;\n\t\tthis.fill = params.fill || '#000';\n\t\tthis.outline = params.outline || '#000';\n\t}\n\n\tpublic setRouteParentPath = (path: List<number>): Path => {\n\t\treturn new Path({\n\t\t\t...(<IinitPath>this.toObject()),\n\t\t\tchildren: <List<BaseAnchor>>this.children.map(child => child.setRouteParentPath(path.push(this.idx))),\n\t\t\trouteParentPath: path,\n\t\t});\n\t}\n\n\tpublic toPath = (): string =>\n\t\tthis.children.reduce((acc, anchor) => `${acc} ${anchor.toPath()}`, '').concat(this.isZipped ? ' z' : '')\n\n\tpublic toColorStyle = (): { [key: string]: string } => ({\n\t\tfill: this.fill, // Later change to toRGBAString when Opacity finished\n\t\tstroke: this.outline,\n\t})\n\n\t/**\n\t * Problem with immutable by adding methods which returns its own type\n\t * since Immutable (Record) return type is a <K,V> pairs and cannot hold method\n\t * defined in the subclasses\n\t *\n\t * Push an anchor and return NEW Path (old path is not mutated)\n\t * @param { Position } absPosition - object containing x, y, and optional z\n\t */\n\tpublic addAnchor = (absPosition: Position|IPosition, anchorType: AnchorType = AnchorType.LineTo): Path => {\n\t\tlet position = absPosition;\n\t\tif (!(absPosition instanceof Position)) {\n\t\t\tposition = new Position(absPosition);\n\t\t}\n\t\treturn new Path({\n\t\t\t...(<IinitPath>this.toObject()),\n\t\t\tchildren: this.children.push(AnchorFactory.createAnchor(\n\t\t\t\tanchorType,\n\t\t\t\t{\n\t\t\t\t\tabsPosition: <Position>position,\n\t\t\t\t\trouteParentPath: this.routeParentPath.push(this.idx),\n\t\t\t\t\tidx: this.children.size,\n\t\t\t\t},\n\t\t\t)),\n\t\t});\n\t}\n\n\tpublic replaceAnchor = (idx: number, newAnchor: BaseAnchor): Path => {\n\t\tconst children = this.children.set(\n\t\t\tidx, newAnchor.setRouteParentPath(this.routeParentPath.push(idx)),\n\t\t);\n\t\treturn new Path({\n\t\t\t...(<IinitPath>this.toObject()),\n\t\t\tchildren,\n\t\t});\n\t}\n\n\tpublic updateAnchor = (idx: number, newPosition: IPosition): Path => {\n\t\tconst children = this.children.updateIn([idx], (child: BaseAnchor) => child.setPosition(newPosition));\n\t\treturn new Path({\n\t\t\t...(<IinitPath>this.toObject()),\n\t\t\tchildren,\n\t\t});\n\t}\n\n\tpublic removeAnchor = (idx: number): Path => {\n\t\tconst children = this.children.remove(idx);\n\t\treturn new Path({\n\t\t\t...(<IinitPath>this.toObject()),\n\t\t\tchildren,\n\t\t});\n\t}\n\n\tpublic removeLastAnchor = (): Path => {\n\t\treturn this.removeAnchor(this.children.size - 1);\n\t}\n\n\tpublic zip = (): Path => {\n\t\treturn new Path({\n\t\t\t...(<IinitPath>this.toObject()),\n\t\t\tisZipped: true,\n\t\t});\n\t}\n\n\tpublic setColor = (attribute: ColorAttribute, color: string): Path =>\n\t\tnew Path({\n\t\t\t...(<IinitPath>this.toObject()),\n\t\t\t[attribute]: color,\n\t\t})\n\n\tpublic toObject() {\n\t\treturn <IinitPath>({\n\t\t\t...Drawable.prototype.toObject.call(this),\n\t\t\t...(<IinitPath>this),\n\t\t});\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/canvas/path/path.model.ts","import { Injectable } from '@angular/core';\nimport { FluxStandardAction } from 'flux-standard-action';\nimport { createEpicMiddleware, Epic } from 'redux-observable';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/mapTo';\n\nimport { IAppState } from '../store/model';\nimport { CanvasActions, CanvasActionType } from './canvas.action';\nimport { IPosition } from './canvas.model';\n\nconst doneAction = { type: 'DONE', payload: undefined, meta: undefined };\n\n@Injectable()\nexport class CanvasEpics {\n\tconstructor(private canvasActions: CanvasActions) { }\n\n\tpublic createEpics = () => {\n\t\treturn [\n\t\t\tcreateEpicMiddleware(this.updateTopLeftAfterMoved()),\n\t\t];\n\t}\n\n\tprivate updateTopLeftAfterMoved = (): Epic<FluxStandardAction<any, undefined>, IAppState> => {\n\t\tlet lastMoved = { x: 0, y: 0 };\n\t\treturn (action$, store) => action$ // Maybe can use `reduce` instead\n\t\t\t.ofType(CanvasActionType.CANVAS_UPDATE_MOVED)\n\t\t\t.map(action => {\n\t\t\t\tconst topLeft = <IPosition>store.getState().canvas.getIn(['board', 'topLeft']);\n\t\t\t\tconst newPosition = {\n\t\t\t\t\tx: topLeft.x + (action.payload.x - lastMoved.x),\n\t\t\t\t\ty: topLeft.y + (action.payload.y - lastMoved.y),\n\t\t\t\t};\n\t\t\t\tlastMoved = action.payload;\n\t\t\t\treturn this.canvasActions.updateTopLeft(newPosition);\n\t\t\t})\n\t\t\t.mapTo(doneAction);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/canvas/canvas.epics.ts","import { AfterViewInit, ChangeDetectionStrategy, Component, ViewEncapsulation } from '@angular/core';\nimport { DrawableBaseComponent } from '../drawable/drawable.base.component';\nimport { Group } from '../group/group.model';\nimport { Path } from '../path/path.model';\n\n@Component({\n\tselector: 'app-group',\n\ttemplateUrl: './group.component.html',\n\tstyleUrls: ['./group.component.scss'],\n\tencapsulation: ViewEncapsulation.Emulated,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class GroupComponent extends DrawableBaseComponent implements AfterViewInit {\n\tdrawable: Group|Path;\n\n\tngAfterViewInit() {\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/canvas/group/group.component.ts","import { dispatch, select$ } from '@angular-redux/store';\nimport {\n\tChangeDetectionStrategy,\n\tChangeDetectorRef,\n\tComponent,\n\tDoCheck,\n\tElementRef,\n\tInput,\n\tOnInit,\n\tRenderer2,\n\tViewChild,\n\tViewEncapsulation,\n} from '@angular/core';\nimport { List } from 'immutable';\nimport { Observable } from 'rxjs/Observable';\n\nimport { ActionFromEvent, RegisteredListener } from '../canvas.model';\nimport { DrawableBaseComponent } from '../drawable/drawable.base.component';\nimport { Drawable } from '../drawable/drawable.model';\nimport { Path } from './path.model';\n\nconst filterListener = (listeners$: Observable<List<RegisteredListener>>) =>\nlisteners$.map(listeners => <List<RegisteredListener>>listeners\n\t.filter(listener => listener.target === 'path'));\n\n@Component({\n\tselector: 'app-path',\n\ttemplateUrl: './path.component.html',\n\tstyleUrls: ['./path.component.scss'],\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None, // default\n\t// about encapsulation: angular-2-training-book.rangle.io/handout/advanced-components/view_encapsulation.html\n})\nexport class PathComponent extends DrawableBaseComponent implements OnInit, DoCheck {\n\tlisteners: Array<Function> = [];\n\t@ViewChild('path') pathRef: ElementRef;\n\t@Input() drawable: Path;\n\t@select$(['toolbox', 'selected', 'listeners'], filterListener)\treadonly listeners$: Observable<List<RegisteredListener>>;\n\tprivate old: Path;\n\n\tconstructor(\n\t\tprivate rd: Renderer2,\n\t\tprivate cdRef: ChangeDetectorRef) { super(); }\n\n\tngOnInit() {\n\t\t// console.log(this.drawable.toPath());\n\t\t// Attach listeners as dictated by toolbox\n\t\tthis.listeners$.subscribe(listeners => {\n\t\t\t// clear listener from pevious tool\n\t\t\tthis.listeners.forEach((listenerToDestroy: Function) => listenerToDestroy());\n\t\t\tlisteners.forEach(listener => {\n\t\t\t\tthis.listeners.push(this.rd.listen(this.pathRef.nativeElement, listener.name,\n\t\t\t\t\t(e: MouseEvent) => { this.dispatchRegisteredAction(listener.handler, e, this.drawable); },\n\t\t\t\t));\n\t\t\t});\n\t\t});\n\t\tthis.old = this.drawable;\n\t}\n\n\tngDoCheck() {\n\t\tif (this.drawable !== this.old) { this.cdRef.markForCheck(); }\n\t\tthis.old = this.drawable;\n\t}\n\n\t/**\n\t * Need to pass `drawableRef` because calling `this` in the function\n\t * will refer the drawable from the currentTarget (last drawable)\n\t */\n\t@dispatch() dispatchRegisteredAction = (handler: ActionFromEvent, e: MouseEvent, drawableRef: Drawable) => {\n\t\treturn handler(e, { triggeringDrawable: drawableRef, currentTriggeringDrawable: this.drawable });\n\t}\n\n\ttrackById(idx: number, drawable: Drawable): number {\n\t\treturn drawable.id;\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/canvas/path/path.component.ts","import { Directive, ViewContainerRef } from '@angular/core';\n\n@Directive({\n\tselector: '[appDrawableHost]',\n})\nexport class DrawableDirective {\n\tconstructor(public viewContainerRef: ViewContainerRef) { }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/canvas/drawable/drawable.directive.ts","import parseColor from 'parse-color';\n\nexport const inColorRange = (value: number): boolean => value >= 0 && value < 256;\n\nexport const validateColorHex = (hex: string): boolean => {\n\tconst re = /\\^#(?:[0-9a-fA-F]{3}){1,2}$/;\n\treturn re.test(hex);\n};\n\nexport const componentToHex = (c: number): string => {\n\tconst hex = c.toString(16);\n\treturn hex.length === 1 ? '0' + hex : hex;\n};\n\nexport const rgbToHex = (r: number, g: number, b: number) => `#${componentToHex(r)}${componentToHex(g)}${componentToHex(b)}`;\n\n/**\n * Create clamp between min and max, inclusive\n * @param { number } min - Minimum (for color supposedly integer 0)\n * @param { number } max - Maximum (for color supposedly integer 255)\n */\nexport const createClamp = (min: number, max: number): (value: number) => number =>\n\tnum => Math.round(num <= min ? min : num >= max ? max : num);\n\nexport interface IRGBObject { r: number; g: number; b: number; opacity?: number; }\n\n/**\n * Color is a class to easily manipulate color attribute and convert it to\n * string css style, or an object.\n *\n * This class works like an immutable data structure, which always yield new object\n * on mutation\n */\nexport class Color {\n\tprotected _r: number;\n\tprotected _g: number;\n\tprotected _b: number;\n\tprotected _opacity: number;\n\tget r() { return this._r; }\n\tget g() { return this._g; }\n\tget b() { return this._b; }\n\tget opacity() { return this._opacity; }\n\n\t/**\n\t * @param { string | IRGBOBject } color - parameter can be plain css string,\n\t * or an object with key r, g, b, and optional opacity\n\t */\n\tconstructor(color: string|IRGBObject = '#000') {\n\t\tif (typeof color === 'string') {\n\t\t\tconst result: Array<number> = parseColor(color).rgba;\n\t\t\tif (!!result) {\n\t\t\t\tthis._r = result[0];\n\t\t\t\tthis._g = result[1];\n\t\t\t\tthis._b = result[2];\n\t\t\t\tthis._opacity = result[3];\n\t\t\t} else {\n\t\t\t\tconsole.error('Invalid color string input:', color, ', after parsed: ', result);\n\t\t\t}\n\t\t} else if (<IRGBObject>color !== undefined) {\n\t\t\tconst clampOpacity = createClamp(0, 1);\n\t\t\tthis._opacity = clampOpacity(color.opacity || 1);\n\t\t\tif ( inColorRange(color.r)\n\t\t\t\t&& inColorRange(color.g)\n\t\t\t\t&& inColorRange(color.b)\n\t\t\t) {\n\t\t\t\tthis._r = Math.round(color.r);\n\t\t\t\tthis._g = Math.round(color.g);\n\t\t\t\tthis._b = Math.round(color.b);\n\t\t\t} else {\n\t\t\t\tconst clampColor = createClamp(0, 255);\n\t\t\t\tthis._r = clampColor(color.r);\n\t\t\t\tthis._g = clampColor(color.g);\n\t\t\t\tthis._b = clampColor(color.b);\n\t\t\t\tconsole.error('Valid color rgb must be integer between 0 and 255 each, found: ', color);\n\t\t\t}\n\t\t}\n\t}\n\n\tset = (channel: 'r'|'g'|'b'|'opacity', value: number): Color => {\n\t\tchannel === 'opacity' ?\n\t\t\tconsole.assert(value <= 1 && value >= 0, 'Opacity should be between 0 and 1 inclusive, found:', value) :\n\t\t\tconsole.assert(inColorRange(value), 'Invalid color value, should be between 0 and 255 inclusive, found:', value);\n\t\treturn new Color({ ...this.toObject(), [channel]: value });\n\t}\n\n\tupdate = (channel: 'r'|'g'|'b'|'opacity', mutation: (val: number) => number): Color => {\n\t\tconst newValue = mutation(this[channel]);\n\t\tchannel === 'opacity' ?\n\t\t\tconsole.assert(newValue <= 1 && newValue >= 0, 'Opacity should be between 0 and 1 inclusive, found:', newValue) :\n\t\t\tconsole.assert(inColorRange(newValue), 'Invalid color value, should be between 0 and 255 inclusive, found:', newValue);\n\t\treturn new Color({ ...this.toObject(), [channel]: newValue });\n\t}\n\n\ttoRGBString = () => `rgb(${this._r}, ${this._g}, ${this._b})`;\n\ttoRGBAString = (alpha: number = this._opacity) => `rgba(${this._r}, ${this._g}, ${this._b}, ${alpha})`;\n\ttoHexString = () => rgbToHex(this._r, this._g, this._b);\n\ttoObject = (): IRGBObject => ({ r: this._r, g: this._g, b: this._b, opacity: this._opacity });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/color/rim/rim.color.model.ts","import { Injectable } from '@angular/core';\n\nimport { SliderEpics } from './slider/slider.epics';\n\n@Injectable()\nexport class ColorPickerEpics {\n\tconstructor(\n\t\tprivate sliderEpics: SliderEpics) { }\n\n\tpublic createEpics() {\n\t\treturn [\n\t\t\t...this.sliderEpics.createEpics(),\n\t\t];\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/color/color.epics.ts","import { Injectable } from '@angular/core';\nimport { FluxStandardAction } from 'flux-standard-action';\nimport { createEpicMiddleware, Epic } from 'redux-observable';\n\nimport { PathActions } from '../../canvas/path/path.action';\nimport { IAppState } from '../../store/model';\nimport { Color } from '../rim/rim.color.model';\nimport { SliderActionType } from './slider.action';\n\nconst doneAction = { type: 'DONE', payload: undefined, meta: undefined };\n\n@Injectable()\nexport class SliderEpics {\n\tconstructor(\n\t\tprivate pathActions: PathActions) { }\n\n\tpublic createEpics = () => {\n\t\treturn [\n\t\t\tcreateEpicMiddleware(this.changeSelectedColorOnChange()),\n\t\t];\n\t}\n\n\tprivate changeSelectedColorOnChange = (): Epic<FluxStandardAction<any, undefined>, IAppState> => {\n\t\treturn (action$, store) => action$\n\t\t\t.ofType(SliderActionType.SLIDER_CHANGE_VALUE_BY_CHANNEL)\n\t\t\t.do(action => { // Works, but not really testable\n\t\t\t\tconst colorState = store.getState().color;\n\t\t\t\tconst attribute = colorState.selected;\n\t\t\t\tconst color = <Color>colorState.rim.getIn([attribute, 'color']);\n\t\t\t\tstore.getState().canvas.selected.toArray().forEach(targetIn =>\n\t\t\t\t\tthis.pathActions.changeColor(targetIn.toArray(), attribute, color.toRGBString()));\n\t\t\t})\n\t\t\t.mapTo(doneAction);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/color/slider/slider.epics.ts","import { Injectable } from '@angular/core';\n\nimport { CanvastoolEpics } from './canvastool/canvastool.epics';\nimport { DirectSelectiontoolEpics } from './directtool/directtool.epics';\nimport { PentoolEpics } from './pentool/epics/pentool.epics';\nimport { SelectiontoolEpics } from './selectiontool/selectiontool.epics';\n\n@Injectable()\nexport class ToolboxEpics {\n\tconstructor(\n\t\tprivate pentoolEpics: PentoolEpics,\n\t\tprivate selectiontoolEpics: SelectiontoolEpics,\n\t\tprivate canvastoolEpics: CanvastoolEpics,\n\t\tprivate directSelectiontoolEpics: DirectSelectiontoolEpics) { }\n\n\tpublic createEpics() {\n\t\treturn [\n\t\t\t...this.pentoolEpics.createEpics(),\n\t\t\t...this.selectiontoolEpics.createEpics(),\n\t\t\t...this.canvastoolEpics.createEpics(),\n\t\t\t...this.directSelectiontoolEpics.createEpics(),\n\t\t];\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/toolbox/toolbox.epics.ts","import { Injectable } from '@angular/core';\nimport { FluxStandardAction } from 'flux-standard-action';\nimport { createEpicMiddleware, Epic } from 'redux-observable';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/mapTo';\nimport 'rxjs/add/operator/switchMap';\nimport 'rxjs/add/operator/takeUntil';\n\nimport { CanvasActions } from '../../canvas/canvas.action';\nimport { IBoard, IPosition } from '../../canvas/canvas.model';\nimport { IAppState } from '../../store/model';\nimport { IToolboxGeneralAction, ToolboxActions, ToolboxActionType } from '../toolbox.action';\nimport { ToolName } from '../toolbox.model';\nimport { CanvastoolActionType } from './canvastool.action';\nimport { createCanvastool } from './canvastool.model';\n\nconst doneAction = { type: 'DONE', payload: undefined, meta: undefined };\n\nconst calcCanvasPosition = (input: IPosition, start: IPosition, lastMoved: IPosition): IPosition => {\n\treturn {\n\t\tx: (input.x - start.x) + lastMoved.x,\n\t\ty: (input.y - start.y) + lastMoved.y,\n\t};\n};\n\n@Injectable()\nexport class CanvastoolEpics {\n\tconstructor(\n\t\tprivate toolboxActions: ToolboxActions,\n\t\tprivate canvasActions: CanvasActions) { }\n\n\tpublic createEpics = () => {\n\t\treturn [\n\t\t\tcreateEpicMiddleware(this.setCanvastoolTraitOnSelected()),\n\t\t\tcreateEpicMiddleware(this.moveCanvasOnMouseCycle()),\n\t\t];\n\t}\n\n\tprivate setCanvastoolTraitOnSelected = (): Epic<IToolboxGeneralAction, IAppState> => {\n\t\treturn (action$, store) => action$\n\t\t\t.ofType(ToolboxActionType.TOOLBOX_SELECT_TOOL)\n\t\t\t.filter(action => action.payload.toolName === ToolName.Canvastool)\n\t\t\t.map(action => this.toolboxActions.setToolTraitAction(createCanvastool()));\n\t}\n\n\tprivate moveCanvasOnMouseCycle = (): Epic<FluxStandardAction<any, undefined>, IAppState> => {\n\t\treturn (action$, store) => action$\n\t\t\t.ofType(CanvastoolActionType.CANVASTOOL_MOUSE_DOWN_ON_CANVAS)\n\t\t\t.switchMap(startAction => {\n\t\t\t\tconst { moved } = <IBoard>store.getState().canvas.get('board').toJS();\n\t\t\t\treturn action$\n\t\t\t\t\t.ofType(CanvastoolActionType.CANVASTOOL_MOUSE_MOVE_ON_CANVAS)\n\t\t\t\t\t.map(moveAction => {\n\t\t\t\t\t\tconst newPosition = calcCanvasPosition(moveAction.payload, startAction.payload, moved);\n\t\t\t\t\t\treturn this.canvasActions.updateMoved(newPosition);\n\t\t\t\t\t})\n\t\t\t\t\t.takeUntil(action$\n\t\t\t\t\t\t.ofType(CanvastoolActionType.CANVASTOOL_MOUSE_UP_ON_CANVAS),\n\t\t\t\t\t)\n\t\t\t\t\t.mapTo(doneAction); // To prevent `updateMoved` dispatched twice\n\t\t\t\t},\n\t\t\t);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/toolbox/canvastool/canvastool.epics.ts","import { Injectable } from '@angular/core';\nimport { createEpicMiddleware, Epic } from 'redux-observable';\n\nimport { IAppState } from '../../store/model';\nimport { IToolboxGeneralAction, ToolboxActions, ToolboxActionType } from '../toolbox.action';\nimport { ToolName } from '../toolbox.model';\nimport { createDirectSelectiontool } from './directtool.model';\n\n@Injectable()\nexport class DirectSelectiontoolEpics {\n\tconstructor(\n\t\tprivate toolboxActions: ToolboxActions) { }\n\n\tpublic createEpics = () => {\n\t\treturn [\n\t\t\tcreateEpicMiddleware(this.setDirecttoolTraitOnSelected()),\n\t\t];\n\t}\n\n\tprivate setDirecttoolTraitOnSelected = (): Epic<IToolboxGeneralAction, IAppState> => {\n\t\treturn (action$, store) => action$\n\t\t\t.ofType(ToolboxActionType.TOOLBOX_SELECT_TOOL)\n\t\t\t.filter(action => action.payload.toolName === ToolName.DirectSelectiontool)\n\t\t\t.map(action => this.toolboxActions.setToolTraitAction(createDirectSelectiontool()));\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/toolbox/directtool/directtool.epics.ts","import { Injectable } from '@angular/core';\nimport { FluxStandardAction } from 'flux-standard-action';\nimport { createEpicMiddleware, Epic } from 'redux-observable';\nimport 'rxjs/add/operator/filter';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/mapTo';\n\nimport { PathActions } from '../../../canvas/path/path.action';\nimport { IAppState } from '../../../store/model';\nimport { IToolboxGeneralAction, ToolboxActions, ToolboxActionType } from '../../toolbox.action';\nimport { ToolName } from '../../toolbox.model';\nimport { PentoolActionType } from '../pentool.action';\nimport { createPentool } from '../pentool.model';\nimport { PentoolDrawEpics } from './pentool.draw.epics';\n\nconst doneAction = { type: 'DONE', payload: undefined, meta: undefined };\n\n@Injectable()\nexport class PentoolEpics {\n\tconstructor(\n\t\tprivate toolboxActions: ToolboxActions,\n\t\tprivate pathActions: PathActions,\n\t\tprivate drawEpics: PentoolDrawEpics) { }\n\n\tpublic createEpics = () => {\n\t\treturn [\n\t\t\tcreateEpicMiddleware(this.setPentoolTraitOnSelected()),\n\t\t\tcreateEpicMiddleware(this.zipIfHeadAnchorClicked()),\n\t\t\t...this.drawEpics.createEpics(),\n\t\t];\n\t}\n\n\tprivate setPentoolTraitOnSelected = (): Epic<IToolboxGeneralAction, IAppState> => {\n\t\treturn (action$, store) => action$\n\t\t\t.ofType(ToolboxActionType.TOOLBOX_SELECT_TOOL)\n\t\t\t.filter(action => action.payload.toolName === ToolName.Pentool)\n\t\t\t.map(action => this.toolboxActions.setToolTraitAction(createPentool()));\n\t}\n\n\tprivate zipIfHeadAnchorClicked = (): Epic<FluxStandardAction<any, undefined>, IAppState> => {\n\t\treturn (action$, store) => action$\n\t\t\t.filter(action =>\n\t\t\t\taction.type === PentoolActionType.PENTOOL_MOUSE_DOWN_ON_ANCHOR\n\t\t\t\t&& action.payload.idx === 0)\n\t\t\t.map(action => this.pathActions.zipPathAction(action.payload.targetIn))\n\t\t\t.mapTo(doneAction); // Preventing double dispatch\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/toolbox/pentool/epics/pentool.epics.ts","/**\n * NEED SOME MORE REFINEMENTS!\n */\nimport { Injectable } from '@angular/core';\nimport { FluxStandardAction } from 'flux-standard-action';\nimport { MiddlewareAPI } from 'redux';\nimport { createEpicMiddleware, Epic } from 'redux-observable';\nimport 'rxjs/add/operator/do';\nimport 'rxjs/add/operator/filter';\nimport 'rxjs/add/operator/last';\nimport 'rxjs/add/operator/mapTo';\nimport 'rxjs/add/operator/mergeMap';\nimport 'rxjs/add/operator/switchMap';\nimport 'rxjs/add/operator/take';\nimport 'rxjs/add/operator/takeUntil';\nimport 'rxjs/add/operator/throttle';\nimport { raceStatic } from 'rxjs/operator/race';\n\nimport { AnchorActions } from '../../../canvas/anchor/anchor.action';\nimport { AnchorType } from '../../../canvas/anchor/anchor.model';\nimport { IBoard, IPosition } from '../../../canvas/canvas.model';\nimport { PathActions, PathActionType } from '../../../canvas/path/path.action';\nimport { Path } from '../../../canvas/path/path.model';\nimport { ColorAttribute } from '../../../color/rim/rim.model';\nimport { IAppState } from '../../../store/model';\nimport { PentoolActions, PentoolActionType } from '../pentool.action';\n\nconst doneAction = { type: 'DONE', payload: undefined, meta: undefined };\n\nconst calcPositionOnCanvas = (input: IPosition, boardState: IBoard): IPosition => {\n\tconst { scale, topLeft } = boardState;\n\treturn {\n\t\tx: (input.x - topLeft.x) / scale,\n\t\ty: (input.y - topLeft.y) / scale,\n\t};\n};\n\n@Injectable()\nexport class PentoolDrawEpics {\n\tconstructor(\n\t\tprivate pentoolActions: PentoolActions,\n\t\tprivate anchorActions: AnchorActions,\n\t\tprivate pathActions: PathActions) { }\n\n\t\tpublic createEpics = () => {\n\t\t\treturn [\n\t\t\t\tcreateEpicMiddleware(this.addThenListenUpdateUntilAnchorPlaced()),\n\t\t\t];\n\t\t}\n\n\tprivate addThenListenUpdateUntilAnchorPlaced = (): Epic<FluxStandardAction<any, undefined>, IAppState> => {\n\n\t\tconst addAnchorWithStore = (store: MiddlewareAPI<IAppState>, positionKey: string, shouldAdjust: boolean, anchorType?: AnchorType) =>\n\t\t(action: FluxStandardAction<any, undefined>) => {\n\t\t\tlet position = <IPosition>action.payload[positionKey];\n\t\t\tconst targetIn = <Array<number>>store.getState().toolbox.selected.others.get('activePathIn').toJS();\n\t\t\tif (shouldAdjust) {\n\t\t\t\tconst boardState = <IBoard>store.getState().canvas.board.toJS();\n\t\t\t\tposition = calcPositionOnCanvas(<IPosition>action.payload, boardState); }\n\t\t\treturn this.pathActions.addAnchorAction(targetIn, position, anchorType);\n\t\t};\n\n\t\tconst updateAnchorPosWithStore = (store: MiddlewareAPI<IAppState>, positionKey: string, shouldAdjust: boolean) =>\n\t\t(action: FluxStandardAction<any, undefined>) => {\n\t\t\tlet position = <IPosition>action.payload[positionKey];\n\t\t\tconst targetIn = <Array<number>>store.getState().toolbox.selected.others.get('activePathIn').toJS();\n\t\t\tconst idx = (<Path>store.getState().canvas.getIn(['root', ...targetIn])).children.size - 1;\n\t\t\tif (shouldAdjust) {\n\t\t\t\tconst boardState = <IBoard>store.getState().canvas.board.toJS();\n\t\t\t\tposition = calcPositionOnCanvas(<IPosition>action.payload, boardState); }\n\t\t\treturn this.anchorActions.updatePosition(targetIn, idx, position);\n\t\t};\n\n\t\tlet lastAnchorType: AnchorType;\n\n\t\treturn (action$, store) => action$\n\t\t\t.ofType(PentoolActionType.PENTOOL_MOUSE_DOWN_ON_CANVAS)\n\t\t\t.throttle(() => action$\n\t\t\t\t.ofType(PathActionType.PATH_ZIP_PATH)\n\t\t\t\t.switchMap(() => action$.ofType(PentoolActionType.PENTOOL_MOUSE_DOWN_ON_CANVAS)), // Skip one right after zip\n\t\t\t)\n\t\t\t.map(action => this.pathActions.createNewIn(\n\t\t\t\tstore.getState().canvas.isolate.toArray(),\n\t\t\t\tcalcPositionOnCanvas(action.payload, <IBoard>store.getState().canvas.board.toJS())),\n\t\t\t)\n\t\t\t.map(action => this.pentoolActions.changeActivePathAction([...action.payload.parentIn, -1]))\n\t\t\t.map(action => this.pathActions.changeColor(action.payload, ColorAttribute.Fill, store.getState().color.rim.fill.color.toRGBString()))\n\t\t\t.map(action => this.pathActions.changeColor(\n\t\t\t\taction.payload.targetIn, ColorAttribute.Outline, store.getState().color.rim.outline.color.toRGBString()))\n\t\t\t.switchMap(() => // First create anchor, wait either drag or release, creating curve or line\n\t\t\t\traceStatic<FluxStandardAction<any, undefined>>(\n\t\t\t\t\taction$.ofType(PentoolActionType.PENTOOL_MOUSE_UP_ON_CANVAS).take(1)\n\t\t\t\t\t\t.map(addAnchorWithStore(store, 'absPoint', true))\n\t\t\t\t\t\t.do(() => lastAnchorType = AnchorType.LineTo),\n\t\t\t\t\taction$.ofType(PentoolActionType.PENTOOL_MOUSE_MOVE_ON_CANVAS).take(1) // Take only the first and place an anchor\n\t\t\t\t\t\t.map(addAnchorWithStore(store, 'absPoint', true, AnchorType.CubicBezierCurve))\n\t\t\t\t\t\t.do(() => lastAnchorType = AnchorType.CubicBezierCurve)\n\t\t\t\t\t\t.switchMap(() => action$ // Update anchor position each move\n\t\t\t\t\t\t\t.ofType(PentoolActionType.PENTOOL_MOUSE_MOVE_ON_CANVAS)\n\t\t\t\t\t\t\t.map(updateAnchorPosWithStore(store, 'absPoint', true))\n\t\t\t\t\t\t\t.map(action => this.anchorActions.updateBezierHandle(action.payload.targetIn, action.payload.idx, action.payload.position, 'both')),\n\t\t\t\t\t\t)\n\t\t\t\t\t\t.takeUntil(action$.ofType(PentoolActionType.PENTOOL_MOUSE_UP_ON_CANVAS)),\n\t\t\t\t)\n\t\t\t\t.last()\n\t\t\t\t.switchMap(() => action$ // For next movements\n\t\t\t\t\t.ofType(PentoolActionType.PENTOOL_MOUSE_MOVE_ON_CANVAS)\n\t\t\t\t\t.throttle(() => action$ // Do this after the `switchMap()` below and skip that while this executing (dragging)\n\t\t\t\t\t\t.ofType(PentoolActionType.PENTOOL_MOUSE_DOWN_ON_CANVAS)\n\t\t\t\t\t\t.mergeMap(downAction => raceStatic<FluxStandardAction<any, undefined>>(\n\t\t\t\t\t\t\taction$.ofType(PentoolActionType.PENTOOL_MOUSE_UP_ON_CANVAS).take(1)\n\t\t\t\t\t\t\t\t.map(addAnchorWithStore(store, 'absPoint', true))\n\t\t\t\t\t\t\t\t.do(() => lastAnchorType = AnchorType.LineTo),\n\t\t\t\t\t\t\taction$.ofType(PentoolActionType.PENTOOL_MOUSE_MOVE_ON_CANVAS).take(1)\n\t\t\t\t\t\t\t\t.map(addAnchorWithStore(store, 'absPoint', true, AnchorType.SmoothCurveTo))\n\t\t\t\t\t\t\t\t.map(action => {\n\t\t\t\t\t\t\t\t\tif (lastAnchorType === AnchorType.LineTo) {\n\t\t\t\t\t\t\t\t\t\tconst targetIn = <Array<number>>store.getState().toolbox.selected.others.get('activePathIn').toJS();\n\t\t\t\t\t\t\t\t\t\tconst idx = (<Path>store.getState().canvas.getIn(['root', ...targetIn])).children.size - 1;\n\t\t\t\t\t\t\t\t\t\treturn this.anchorActions.changeType(action.payload.targetIn, idx - 1, AnchorType.SmoothCurveTo);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn action;\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.switchMap(() => action$\n\t\t\t\t\t\t\t\t\t.ofType(PentoolActionType.PENTOOL_MOUSE_MOVE_ON_CANVAS)\n\t\t\t\t\t\t\t\t\t.map(updateAnchorPosWithStore(store, 'absPoint', true))\n\t\t\t\t\t\t\t\t\t.map(action => this.anchorActions.updateBezierHandle(action.payload.targetIn, action.payload.idx, action.payload.position))\n\t\t\t\t\t\t\t\t\t.map(action => {\n\t\t\t\t\t\t\t\t\t\tconst boardState = <IBoard>store.getState().canvas.board.toJS();\n\t\t\t\t\t\t\t\t\t\tconst downOnCanvas = calcPositionOnCanvas(downAction.payload, boardState);\n\t\t\t\t\t\t\t\t\t\tconst position: IPosition = { // Reverse handle for the previous anchor\n\t\t\t\t\t\t\t\t\t\t\tx: (downOnCanvas.x * 2) - action.payload.position.x,\n\t\t\t\t\t\t\t\t\t\t\ty: (downOnCanvas.y * 2) - action.payload.position.y,\n\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\treturn this.anchorActions.updateBezierHandle(action.payload.targetIn, action.payload.idx - 1, position, 'end');\n\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t.do(() => lastAnchorType = AnchorType.SmoothCurveTo)\n\t\t\t\t\t\t\t\t.takeUntil(action$.ofType(PentoolActionType.PENTOOL_MOUSE_UP_ON_CANVAS)),\n\t\t\t\t\t\t).last()),\n\t\t\t\t\t)\n\t\t\t\t\t.switchMap(() => { // Track movement when mouse is not down\n\t\t\t\t\t\tlet anchorIdx: number;\n\t\t\t\t\t\treturn action$\n\t\t\t\t\t\t.ofType(PentoolActionType.PENTOOL_MOUSE_MOVE_ON_CANVAS)\n\t\t\t\t\t\t.map(updateAnchorPosWithStore(store, 'absPoint', true))\n\t\t\t\t\t\t.do(action => anchorIdx = action.payload.idx)\n\t\t\t\t\t\t.filter(() =>\n\t\t\t\t\t\t\tlastAnchorType === AnchorType.CubicBezierCurve\n\t\t\t\t\t\t\t|| lastAnchorType === AnchorType.SmoothCurveTo)\n\t\t\t\t\t\t.map(action => this.anchorActions.updateBezierHandle(action.payload.targetIn, anchorIdx, action.payload.position, 'end'))\n\t\t\t\t\t\t.takeUntil(action$.ofType(PentoolActionType.PENTOOL_MOUSE_DOWN_ON_CANVAS));\n\t\t\t\t\t}),\n\t\t\t\t)\n\t\t\t\t.takeUntil(action$.ofType(PathActionType.PATH_ZIP_PATH)),\n\t\t\t)\n\t\t\t.mapTo(doneAction);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/toolbox/pentool/epics/pentool.draw.epics.ts","import { Injectable } from '@angular/core';\nimport { FluxStandardAction } from 'flux-standard-action';\nimport { createEpicMiddleware, Epic } from 'redux-observable';\n\nimport { DrawableActions } from '../../canvas/drawable/drawable.action';\nimport { Drawable } from '../../canvas/drawable/drawable.model';\nimport { Path } from '../../canvas/path/path.model';\nimport { ColorAttribute } from '../../color/rim/rim.model';\nimport { SliderActions } from '../../color/slider/slider.action';\nimport { IAppState } from '../../store/model';\nimport { IToolboxGeneralAction, ToolboxActions, ToolboxActionType } from '../toolbox.action';\nimport { ToolName } from '../toolbox.model';\nimport { SelectiontoolActionType } from './selectiontool.action';\nimport { createSelectiontool } from './selectiontool.model';\n\nconst doneAction = { type: 'DONE', payload: undefined, meta: undefined };\n\n@Injectable()\nexport class SelectiontoolEpics {\n\tconstructor(\n\t\tprivate toolboxActions: ToolboxActions,\n\t\tprivate drawableActions: DrawableActions,\n\t\tprivate sliderActions: SliderActions) { }\n\n\tpublic createEpics = () => {\n\t\treturn [\n\t\t\tcreateEpicMiddleware(this.setSelectiontoolTraitOnSelected()),\n\t\t\tcreateEpicMiddleware(this.selectDrawableOnClick()),\n\t\t\tcreateEpicMiddleware(this.deselectOnClickAway()),\n\t\t\tcreateEpicMiddleware(this.changeColorPickerOnSelect(ColorAttribute.Fill)),\n\t\t\tcreateEpicMiddleware(this.changeColorPickerOnSelect(ColorAttribute.Outline)),\n\t\t];\n\t}\n\n\tprivate setSelectiontoolTraitOnSelected = (): Epic<IToolboxGeneralAction, IAppState> => {\n\t\treturn (action$, store) => action$\n\t\t\t.ofType(ToolboxActionType.TOOLBOX_SELECT_TOOL)\n\t\t\t.filter(action => action.payload.toolName === ToolName.Selectiontool)\n\t\t\t.map(action => this.toolboxActions.setToolTraitAction(createSelectiontool()));\n\t}\n\n\tprivate selectDrawableOnClick = (): Epic<FluxStandardAction<any, undefined>, IAppState> => {\n\t\treturn (action$, store) => action$\n\t\t\t.ofType(SelectiontoolActionType.SELECTIONTOOL_MOUSE_DOWN_ON_DRAWABLE)\n\t\t\t.map(action => this.drawableActions.selectAction(action.payload))\n\t\t\t.mapTo(doneAction); // Preventing double dispatch\n\t}\n\n\tprivate deselectOnClickAway = (): Epic<FluxStandardAction<any, undefined>, IAppState> => {\n\t\treturn (action$, store) => action$\n\t\t\t.ofType(SelectiontoolActionType.SELECTIONTOOL_MOUSE_DOWN_ON_CANVAS)\n\t\t\t.map(action => this.drawableActions.deselectAllAction())\n\t\t\t.mapTo(doneAction); // Preventing double dispatch\n\t}\n\n\tprivate changeColorPickerOnSelect = (attribute: ColorAttribute): Epic<FluxStandardAction<any, undefined>, IAppState> => {\n\t\treturn (action$, store) => action$\n\t\t\t.ofType(SelectiontoolActionType.SELECTIONTOOL_MOUSE_DOWN_ON_DRAWABLE)\n\t\t\t.map(action => {\n\t\t\t\tconst path = <Path>store.getState().canvas.root.getIn(Drawable.toRoutePath(action.payload));\n\t\t\t\tif (typeof path !== 'undefined') {\n\t\t\t\t\treturn this.sliderActions.changeColor(attribute, path[attribute]);\n\t\t\t\t}\n\t\t\t\treturn doneAction;\n\t\t\t});\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/toolbox/selectiontool/selectiontool.epics.ts","import { List } from 'immutable';\n\nimport { ActionFromEvent, RegisteredListener } from '../../canvas/canvas.model';\nimport { ToolBase } from '../tool/tool.model';\nimport { ToolName } from '../toolbox.model';\nimport { SelectiontoolActions } from './selectiontool.action';\n\nexport const createSelectiontool = (): ToolBase => {\n\tconst actions = new SelectiontoolActions();\n\n\tconst mouseDownOnDrawable: ActionFromEvent = (e: MouseEvent, { triggeringDrawable }) => {\n\t\te.stopPropagation();\n\t\tconst pathFromRoot = [...triggeringDrawable.routeParentPath.toArray(), triggeringDrawable.idx];\n\t\treturn actions.mouseDownOnDrawableAction(pathFromRoot);\n\t};\n\n\tconst mouseDownOnCanvas: ActionFromEvent = (e: MouseEvent) => {\n\t\treturn actions.mouseDownOnCanvas();\n\t};\n\n\treturn new ToolBase({\n\t\tname: ToolName.Selectiontool,\n\t\tlisteners: List<RegisteredListener>([\n\t\t\t{ name: 'mousedown', handler: mouseDownOnDrawable, target: 'path' },\n\t\t\t{ name: 'mousedown', handler: mouseDownOnDrawable, target: 'group' },\n\t\t\t{ name: 'mousedown', handler: mouseDownOnCanvas, target: 'canvas' },\n\t\t]),\n\t});\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/toolbox/selectiontool/selectiontool.model.ts","import { Action, Reducer } from 'redux';\n\nimport { CanvastoolActionType } from './canvastool/canvastool.action';\nimport { canvastoolReducer } from './canvastool/canvastool.reducer';\nimport { PentoolActionType } from './pentool/pentool.action';\nimport { pentoolReducer } from './pentool/pentool.reducer';\nimport { SelectiontoolActionType } from './selectiontool/selectiontool.action';\nimport { createSelectiontool } from './selectiontool/selectiontool.model';\nimport { selectiontoolReducer } from './selectiontool/selectiontool.reducer';\nimport { ISetToolTraitAction, ToolboxActionType } from './toolbox.action';\nimport { ToolboxState } from './toolbox.model';\n\nexport const toolboxReducer: Reducer<ToolboxState> = (\n\tstate: ToolboxState = new ToolboxState({ selected: createSelectiontool() }),\n\taction: Action,\n) => {\n\tswitch (true) {\n\t\tcase action.type in PentoolActionType:\n\t\t\treturn pentoolReducer(state, action);\n\t\tcase action.type in SelectiontoolActionType:\n\t\t\treturn selectiontoolReducer(state, action);\n\t\tcase action.type in CanvastoolActionType:\n\t\t\treturn canvastoolReducer(state, action);\n\t}\n\tswitch (action.type) {\n\t\tcase ToolboxActionType.TOOLBOX_SELECT_TOOL:\n\t\t\treturn state; // Let be handled by each tool epic, will dispatch below action\n\t\tcase ToolboxActionType.TOOLBOX_SET_TOOL_TRAIT:\n\t\t\treturn new ToolboxState({ selected: (<ISetToolTraitAction>action).payload.tool }); // Need some way to utilise Immutablility!\n\t}\n\treturn state;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/toolbox/toolbox.reducer.ts","import { dispatch } from '@angular-redux/store';\nimport {\n\tChangeDetectionStrategy,\n\tComponent,\n\tViewEncapsulation,\n} from '@angular/core';\n\nimport { ToolBaseComponent } from '../tool/tool.base.component';\nimport { ToolboxActions } from '../toolbox.action';\n\n@Component({\n\tselector: 'app-canvastool',\n\ttemplateUrl: './canvastool.component.html',\n\tstyleUrls: ['./canvastool.component.scss'],\n\tencapsulation: ViewEncapsulation.Emulated,\n\tchangeDetection: ChangeDetectionStrategy.Default,\n})\nexport class CanvastoolComponent extends ToolBaseComponent {\n\thotKey = 'h';\n\n\tconstructor(\n\t\tprivate toolboxActions: ToolboxActions) { super(); }\n\n\tsetCursorAfterSelected() {\n\t\tthis.appElementRef.nativeElement.style.cursor = '-webkit-grab';\n\t\tthis.appElementRef.nativeElement.style.cursor = 'grab';\n\t}\n\n\tafterHotKeyDown = () => { this.selectTool(); };\n\n\t@dispatch() selectTool = () => this.toolboxActions.selectToolAction(this.context.toolName);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/toolbox/canvastool/canvastool.component.ts","import { dispatch } from '@angular-redux/store';\nimport {\n\tAfterContentChecked,\n\tChangeDetectionStrategy,\n\tComponent,\n\tViewEncapsulation,\n} from '@angular/core';\n\nimport { ToolBaseComponent } from '../tool/tool.base.component';\nimport { ToolboxActions } from '../toolbox.action';\n\n@Component({\n\tselector: 'app-directtool',\n\ttemplateUrl: './directtool.component.html',\n\tstyleUrls: ['./directtool.component.scss'],\n\tencapsulation: ViewEncapsulation.Emulated,\n\tchangeDetection: ChangeDetectionStrategy.Default,\n})\nexport class DirectSelectiontoolComponent extends ToolBaseComponent implements AfterContentChecked {\n\thotKey = 'a';\n\n\tconstructor(\n\t\tprivate toolboxActions: ToolboxActions) { super(); }\n\n\tsetCursorAfterSelected() {\n\t\tthis.appElementRef.nativeElement.style.cursor = 'url(assets/img/cursor/direct_cursor.svg) 10 9, default';\n\t}\n\n\tafterHotKeyDown = () => { this.selectTool(); };\n\n\t@dispatch() selectTool = () => this.toolboxActions.selectToolAction(this.context.toolName);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/toolbox/directtool/directtool.component.ts","import { dispatch } from '@angular-redux/store';\nimport {\n\tChangeDetectionStrategy,\n\tComponent,\n\tViewEncapsulation,\n} from '@angular/core';\n\nimport { ToolBaseComponent } from '../tool/tool.base.component';\nimport { ToolboxActions } from '../toolbox.action';\n\n@Component({\n\tselector: 'app-pentool',\n\ttemplateUrl: './pentool.component.html',\n\tstyleUrls: ['./pentool.component.scss'],\n\tencapsulation: ViewEncapsulation.Emulated,\n\tchangeDetection: ChangeDetectionStrategy.Default,\n})\nexport class PentoolComponent extends ToolBaseComponent {\n\thotKey = 'p';\n\n\tconstructor(\n\t\tprivate toolboxActions: ToolboxActions) { super(); }\n\n\tsetCursorAfterSelected() {\n\t\tthis.appElementRef.nativeElement.style.cursor = 'url(assets/img/cursor/pentool_cursor.svg) 10 5, pointer';\n\t}\n\n\tafterHotKeyDown = () => { this.selectTool(); };\n\n\t@dispatch() selectTool = () => this.toolboxActions.selectToolAction(this.context.toolName);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/toolbox/pentool/pentool.component.ts","import { dispatch } from '@angular-redux/store';\nimport {\n\tChangeDetectionStrategy,\n\tComponent,\n\tViewEncapsulation,\n} from '@angular/core';\n\nimport { ToolBaseComponent } from '../tool/tool.base.component';\nimport { ToolboxActions } from '../toolbox.action';\n\n@Component({\n\tselector: 'app-selectiontool',\n\ttemplateUrl: './selectiontool.component.html',\n\tstyleUrls: ['./selectiontool.component.scss'],\n\tencapsulation: ViewEncapsulation.Emulated,\n\tchangeDetection: ChangeDetectionStrategy.Default,\n})\nexport class SelectiontoolComponent extends ToolBaseComponent {\n\thotKey = 'v';\n\n\tconstructor(\n\t\tprivate toolboxActions: ToolboxActions) { super(); }\n\n\tsetCursorAfterSelected() {\n\t\tthis.appElementRef.nativeElement.style.cursor = 'url(assets/img/cursor/selectiontool_cursor.svg) 10 9, default';\n\t}\n\n\tafterHotKeyDown = () => { this.selectTool(); };\n\n\t@dispatch() selectTool = () => this.toolboxActions.selectToolAction(this.context.toolName);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/toolbox/selectiontool/selectiontool.component.ts","import { Directive, ViewContainerRef } from '@angular/core';\n\n@Directive({\n\tselector: '[appToolHost]',\n})\nexport class ToolDirective {\n\tconstructor(public viewContainerRef: ViewContainerRef) { }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/toolbox/tool/tool.directive.ts","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from 'environments';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts","import { NgReduxModule } from '@angular-redux/store';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { HttpModule } from '@angular/http';\nimport { BrowserModule } from '@angular/platform-browser';\nimport 'polyfills';\nimport 'reflect-metadata';\nimport 'zone.js/dist/zone-mix';\n\nimport { AppComponent } from './app.component';\nimport { CanvasModule } from './canvas/canvas.module';\nimport { ColorModule } from './color/color.module';\nimport { StoreModule } from './store/store.module';\nimport { ToolboxModule } from './toolbox/toolbox.module';\n\nimport { AppRoutingModule } from './app-routing.module';\n\nimport { ElectronService } from './providers/electron.service';\n\n@NgModule({\n\tdeclarations: [\n\t\tAppComponent,\n\t],\n\timports: [\n\t\tBrowserModule,\n\t\tFormsModule,\n\t\tHttpModule,\n\t\tAppRoutingModule,\n\t\tNgReduxModule,\n\t\tCanvasModule,\n\t\tStoreModule,\n\t\tToolboxModule,\n\t\tColorModule,\n\t],\n\tproviders: [ElectronService],\n\tbootstrap: [AppComponent],\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component, ElementRef, ViewChild } from '@angular/core';\nimport { ElectronService } from './providers/electron.service';\n\n@Component({\n\tselector: 'app-root',\n\ttemplateUrl: './app.component.html',\n\tstyleUrls: ['./app.component.scss'],\n})\nexport class AppComponent {\n\t@ViewChild('root') root: ElementRef;\n\tconstructor(public electronService: ElectronService) {\n\n\t\tif (electronService.isElectron()) {\n\t\t\tconsole.log('Mode electron');\n\t\t\t// Check if electron is correctly injected (see externals in webpack.config.js)\n\t\t\tconsole.log('c', electronService.ipcRenderer);\n\t\t\t// Check if nodeJs childProcess is correctly injected (see externals in webpack.config.js)\n\t\t\tconsole.log('c', electronService.childProcess);\n\t\t} else {\n\t\t\tconsole.log('Mode web');\n\t\t}\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","module.exports = \"<router-outlet></router-outlet>\\n<div #root class=\\\"app\\\">\\n  <app-draw-canvas></app-draw-canvas>\\n  <app-toolbox></app-toolbox>\\n  <div class=\\\"app__rightSide\\\">\\n    <app-color-picker></app-color-picker>\\n  </div>\\n</div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.html\n// module id = 284\n// module chunks = 0","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".app {\\n  background: linear-gradient(10deg, #EBEBF0, #F2F2F6);\\n  width: 100vw;\\n  height: 100vh;\\n  position: fixed;\\n  overflow: hidden;\\n  top: 0;\\n  left: 0;\\n  z-index: -100; }\\n  .app .app__rightSide {\\n    position: fixed;\\n    top: 80px;\\n    right: 0;\\n    height: calc(100vh - 80px);\\n    width: 300px;\\n    padding: 10px;\\n    box-shadow: 0 10px 40px -10px rgba(0, 0, 0, 0.2);\\n    border: 1px solid white;\\n    background: rgba(250, 250, 252, 0.9);\\n    cursor: default; }\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.scss\n// module id = 285\n// module chunks = 0","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { AnchorModule } from './anchor/anchor.module';\nimport { BoundingBoxComponent } from './boundingbox/boundingbox.component';\nimport { CanvasActions } from './canvas.action';\nimport { CanvasComponent } from './canvas.component';\nimport { CanvasEpics } from './canvas.epics';\nimport { DrawableActions } from './drawable/drawable.action';\nimport { DrawableComponent } from './drawable/drawable.component';\nimport { DrawableDirective } from './drawable/drawable.directive';\nimport { GroupComponent } from './group/group.component';\nimport { PathActions } from './path/path.action';\nimport { PathComponent } from './path/path.component';\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tAnchorModule,\n\t],\n\tdeclarations: [\n\t\tPathComponent,\n\t\tGroupComponent,\n\t\tCanvasComponent,\n\t\tDrawableComponent,\n\t\tDrawableDirective,\n\t\tBoundingBoxComponent,\n\t],\n\tentryComponents: [\n\t\tGroupComponent,\n\t\tPathComponent,\n\t],\n\tproviders: [\n\t\tPathActions,\n\t\tCanvasActions,\n\t\tCanvasEpics,\n\t\tDrawableActions,\n\t],\n\texports: [\n\t\tCanvasComponent,\n\t],\n})\nexport class CanvasModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/canvas/canvas.module.ts","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { AnchorActions } from './anchor.action';\nimport { AnchorComponent } from './anchor.container.component';\nimport { AnchorDirective } from './anchor.directive';\nimport { BasicAnchorComponent } from './basic/basic.component';\nimport { BezierAnchorComponent } from './bezier/bezier.component';\nimport { SmoothAnchorComponent } from './smooth/smooth.component';\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t],\n\tdeclarations: [\n\t\tBezierAnchorComponent,\n\t\tBasicAnchorComponent,\n\t\tAnchorComponent,\n\t\tAnchorDirective,\n\t\tSmoothAnchorComponent,\n\t],\n\tentryComponents: [\n\t\tBezierAnchorComponent,\n\t\tBasicAnchorComponent,\n\t\tSmoothAnchorComponent,\n\t],\n\tproviders: [\n\t\tAnchorActions,\n\t],\n\texports: [\n\t\tAnchorComponent,\n\t],\n})\nexport class AnchorModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/canvas/anchor/anchor.module.ts","module.exports = \"<div #anchor class=\\\"anchor\\\" [ngStyle]=\\\"style\\\"></div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/canvas/anchor/basic/basic.component.html\n// module id = 288\n// module chunks = 0","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".anchor {\\n  position: absolute;\\n  top: -5px;\\n  left: -5px;\\n  width: 5px;\\n  height: 5px;\\n  border: 2px solid rgba(255, 0, 68, 0.5);\\n  transition: border .15s ease;\\n  border-radius: 2px; }\\n  .anchor:hover {\\n    border: 2px solid #ff0044;\\n    transition: border .05s ease; }\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/canvas/anchor/basic/basic.component.scss\n// module id = 289\n// module chunks = 0","module.exports = \"<div #anchor class=\\\"anchor\\\" [ngStyle]=\\\"style\\\"></div>\\n<div #handleAnchor class=\\\"handle-anchor\\\" [ngStyle]=\\\"handleStyle\\\" *ngFor=\\\"let handleStyle of handleStyles\\\"></div>\\n<svg class=\\\"handleLines\\\">\\n\\t<svg:path *ngFor=\\\"let handle of handles\\\" [attr.d]=\\\"handle.path\\\" class=\\\"handleLines__line\\\"></svg:path>\\n</svg>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/canvas/anchor/bezier/bezier.component.html\n// module id = 290\n// module chunks = 0","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".anchor {\\n  position: absolute;\\n  top: -3px;\\n  left: -3px;\\n  width: 5px;\\n  height: 5px;\\n  border: 1px solid rgba(255, 0, 68, 0.5);\\n  transition: border .15s ease;\\n  border-radius: 2px; }\\n  .anchor:hover {\\n    border: 1px solid #ff0044;\\n    transition: border .1s ease; }\\n\\n.handleLines {\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  width: 100%;\\n  height: 100%;\\n  pointer-events: none; }\\n  .handleLines .handleLines__line {\\n    fill: none;\\n    stroke: rgba(255, 128, 128, 0.5);\\n    stroke-width: 1px; }\\n\\n.handle-anchor {\\n  border: 1px solid #5856d6;\\n  position: absolute;\\n  top: -3px;\\n  left: -3px;\\n  width: 5px;\\n  height: 5px;\\n  border-radius: 50%; }\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/canvas/anchor/bezier/bezier.component.scss\n// module id = 291\n// module chunks = 0","module.exports = \"<div #anchor class=\\\"anchor\\\" [ngStyle]=\\\"style\\\"></div>\\n<div #handleAnchor class=\\\"handle-anchor\\\" [ngStyle]=\\\"handleStyle\\\" *ngFor=\\\"let handleStyle of handleStyles\\\"></div>\\n<svg class=\\\"handle-lines\\\">\\n\\t<svg:path *ngFor=\\\"let handle of handles\\\" [attr.d]=\\\"handle.path\\\" class=\\\"handle-lines__line\\\"></svg:path>\\n</svg>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/canvas/anchor/smooth/smooth.component.html\n// module id = 292\n// module chunks = 0","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".anchor {\\n  position: absolute;\\n  top: -3px;\\n  left: -3px;\\n  width: 5px;\\n  height: 5px;\\n  border: 1px solid rgba(255, 0, 68, 0.5);\\n  transition: border .15s ease;\\n  border-radius: 2px; }\\n  .anchor:hover {\\n    border: 1px solid #ff0044;\\n    transition: border .1s ease; }\\n\\n.handle-lines {\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  width: 100%;\\n  height: 100%; }\\n  .handle-lines .handle-lines__line {\\n    fill: none;\\n    stroke: rgba(255, 128, 128, 0.5);\\n    stroke-width: 1px; }\\n\\n.handle-anchor {\\n  border: 1px solid #5856d6;\\n  position: absolute;\\n  top: -3px;\\n  left: -3px;\\n  width: 5px;\\n  height: 5px;\\n  border-radius: 50%; }\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/canvas/anchor/smooth/smooth.component.scss\n// module id = 293\n// module chunks = 0","module.exports = \"<ng-template appAnchorHost></ng-template>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/canvas/anchor/anchor.component.html\n// module id = 294\n// module chunks = 0","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/canvas/anchor/anchor.component.scss\n// module id = 295\n// module chunks = 0","import { select, WithSubStore } from '@angular-redux/store';\nimport { Component, OnInit } from '@angular/core';\nimport { List } from 'immutable';\nimport 'rxjs/add/operator/mergeMap';\nimport { Observable } from 'rxjs/Observable';\n\nimport { Size } from '../canvas.model';\nimport { canvasReducer } from '../canvas.reducer';\nimport { Drawable, DrawableType } from '../drawable/drawable.model';\nimport { Path } from '../path/path.model';\n\nexport interface IBoundingBox {\n\ttop: number;\n\tbottom: number;\n\tleft: number;\n\tright: number;\n}\n\nconst initBoundingBox = { top: Infinity, bottom: -Infinity, left: Infinity, right: -Infinity };\n\nconst calculatePathBound = (path: Path): IBoundingBox =>\n\tpath.children.reduce<IBoundingBox>((accBound, anchor) => ({\n\t\ttop: Math.min(anchor.absPosition.y, accBound.top),\n\t\tbottom: Math.max(anchor.absPosition.y, accBound.bottom),\n\t\tright: Math.max(anchor.absPosition.x, accBound.right),\n\t\tleft: Math.min(anchor.absPosition.x, accBound.left),\n\t}), initBoundingBox);\n\n@WithSubStore({\n\tbasePathMethodName: 'getBasePath',\n\tlocalReducer: canvasReducer,\n})\n@Component({\n\tselector: 'app-bounding-box',\n\ttemplateUrl: './boundingbox.component.html',\n\tstyleUrls: ['./boundingbox.component.scss'],\n})\nexport class BoundingBoxComponent implements OnInit {\n\t@select('selected') \t\t\t\t\t\t\treadonly selected$: Observable<List<List<number>>>;\n\t@select('root') \t\t\t\t\t\t\t\t\treadonly root$: Observable<List<Drawable>>;\n\t@select(['board', 'dimension'])\t\treadonly boardSize$: Observable<Size>;\n\tshow: boolean;\n\tinitWithCanvas: IBoundingBox;\n\n\tget boundingBox$(): Observable<IBoundingBox> {\n\t\treturn this.selected$\n\t\t\t.mergeMap(selected =>\n\t\t\t\tthis.root$.map(root => {\n\t\t\t\t\tthis.show = false;\n\t\t\t\t\treturn selected.reduce<IBoundingBox>((accBound, pathFromRoot) => {\n\t\t\t\t\t\tconst drawable = <Drawable>root.getIn(pathFromRoot.toJS());\n\t\t\t\t\t\tthis.show = true;\n\t\t\t\t\t\tif (typeof drawable !== 'undefined') {\n\t\t\t\t\t\t\tswitch (drawable.type) {\n\t\t\t\t\t\t\t\tcase DrawableType.Anchor:\n\t\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t\ttop: Math.min(drawable.absPosition.y, accBound.top),\n\t\t\t\t\t\t\t\t\t\tbottom: Math.max(drawable.absPosition.y, accBound.bottom),\n\t\t\t\t\t\t\t\t\t\tright: Math.max(drawable.absPosition.x, accBound.right),\n\t\t\t\t\t\t\t\t\t\tleft: Math.min(drawable.absPosition.x, accBound.left),\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tcase DrawableType.Path:\n\t\t\t\t\t\t\t\t\tconst pathBound = calculatePathBound(<Path>drawable);\n\t\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t\ttop: Math.min(pathBound.top, accBound.top),\n\t\t\t\t\t\t\t\t\t\tbottom: Math.max(pathBound.bottom, accBound.bottom),\n\t\t\t\t\t\t\t\t\t\tright: Math.max(pathBound.right, accBound.right),\n\t\t\t\t\t\t\t\t\t\tleft: Math.min(pathBound.left, accBound.left),\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn accBound;\n\t\t\t\t\t}, this.initWithCanvas);\n\t\t\t\t}),\n\t\t\t);\n\t}\n\n\tget width$(): Observable<number> { return this.boundingBox$.map(bb => Math.abs(bb.right - bb.left)); }\n\tget height$(): Observable<number> { return this.boundingBox$.map(bb => Math.abs(bb.bottom - bb.top)); }\n\tget top$(): Observable<number> { return this.boundingBox$.map(bb => bb.top); }\n\tget left$(): Observable<number> { return this.boundingBox$.map(bb => bb.left); }\n\n\tconstructor() {\n\t\tthis.boardSize$.subscribe(size => this.initWithCanvas = {\n\t\t\ttop: size.height, bottom: 0,\n\t\t\tleft: size.width, right: 0,\n\t\t});\n\t}\n\n\tgetBasePath = () => ['canvas'];\n\n\tngOnInit() {\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/canvas/boundingbox/boundingbox.component.ts","import { Action, Reducer } from 'redux';\n\nimport { CanvasState } from '../canvas.model';\nimport {\n\tAnchorActionType,\n\tIChangeTypeAction,\n\tIUpdateBezierHandleAction,\n\tIUpdatePositionAction,\n} from './anchor.action';\nimport * as anchorCore from './anchor.core';\n\nexport const anchorReducer: Reducer<CanvasState> = (state: CanvasState, action: Action) => {\n\tswitch (action.type) {\n\t\tcase AnchorActionType.ANCHOR_UPDATE_POSITION:\n\t\t\tconst updatePositionAction = <IUpdatePositionAction>action;\n\t\t\treturn <CanvasState>anchorCore.updatePosition(\n\t\t\t\tstate,\n\t\t\t\tupdatePositionAction.payload.targetIn,\n\t\t\t\tupdatePositionAction.payload.idx,\n\t\t\t\tupdatePositionAction.payload.position,\n\t\t\t);\n\t\tcase AnchorActionType.ANCHOR_CHANGE_TYPE:\n\t\t\tconst changeTypeAction = <IChangeTypeAction>action;\n\t\t\treturn <CanvasState>anchorCore.changeType(\n\t\t\t\tstate,\n\t\t\t\tchangeTypeAction.payload.targetIn,\n\t\t\t\tchangeTypeAction.payload.idx,\n\t\t\t\tchangeTypeAction.payload.anchorType,\n\t\t\t);\n\t\tcase AnchorActionType.ANCHOR_UPDATE_BEZIER_HANDLE:\n\t\t\tconst updateBezierAction = <IUpdateBezierHandleAction>action;\n\t\t\treturn <CanvasState>anchorCore.updateBezierHandle(\n\t\t\t\tstate,\n\t\t\t\tupdateBezierAction.payload.targetIn,\n\t\t\t\tupdateBezierAction.payload.idx,\n\t\t\t\tupdateBezierAction.payload.position,\n\t\t\t\tupdateBezierAction.payload.which, // Should be ignored if Quadratic Bezier\n\t\t\t);\n\t}\n\treturn state;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/canvas/anchor/anchor.reducer.ts","import { CanvasState, IPosition } from '../canvas.model';\nimport { Drawable, IinitDrawable } from '../drawable/drawable.model';\nimport { Path } from '../path/path.model';\nimport { AnchorFactory } from './anchor.factory';\nimport { AnchorType, BaseAnchor } from './anchor.model';\nimport { CubicBezierAnchor, QuadraticBezierAnchor } from './bezier/bezier.model';\n\nexport const updatePosition = (state: CanvasState, targetIn: Array<number>, idx: number, newPosition: IPosition) => {\n\treturn state.updateIn(['root', ...Drawable.toRoutePath(targetIn)], (accessedPath: Path): Path => {\n\t\treturn accessedPath.updateAnchor(idx, newPosition);\n\t});\n};\n\nexport const changeType = (state: CanvasState, targetIn: Array<number>, idx: number, anchorType: AnchorType) => {\n\treturn state.updateIn(['root', ...Drawable.toRoutePath(targetIn)], (accessedPath: Path): Path => {\n\t\tconst anchor = AnchorFactory.createAnchor(anchorType, <IinitDrawable>accessedPath.children.get(idx).toObject());\n\t\treturn accessedPath.replaceAnchor(idx, anchor);\n\t});\n};\n\nexport const updateBezierHandle = (state: CanvasState, targetIn: Array<number>, idx: number,\n\tnewPosition: IPosition, which: 'start'|'end'|'both' = 'start') => {\n\treturn state.updateIn(['root', ...Drawable.toRoutePath(targetIn)], (accessedPath: Path): Path => {\n\t\tconst anchor = (<BaseAnchor>accessedPath.children.get(idx));\n\t\tswitch (anchor.anchorType) {\n\t\t\tcase AnchorType.QuadraticBezierCurve:\n\t\t\t\treturn accessedPath.replaceAnchor(idx, (<QuadraticBezierAnchor>anchor).updateHandle(newPosition));\n\t\t\tcase AnchorType.CubicBezierCurve:\n\t\t\t\treturn accessedPath.replaceAnchor(idx, (<CubicBezierAnchor>anchor).updateHandle(newPosition, which));\n\t\t\tcase AnchorType.SmoothCurveTo:\n\t\t\t\treturn accessedPath.replaceAnchor(idx, (<QuadraticBezierAnchor>anchor).updateHandle(newPosition));\n\t\t\tdefault:\n\t\t\t\tconsole.error(`Anchor accessed by ${targetIn} with index ${idx} is not a Bezier Anchor`);\n\t\t}\n\t});\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/canvas/anchor/anchor.core.ts","import { List } from 'immutable';\n\nimport { IPosition, Position } from '../../canvas.model';\nimport { IinitDrawable } from '../../drawable/drawable.model';\nimport { AnchorType, AnchorWithHandles, BaseAnchor } from '../anchor.model';\n\n/**\n * It might be better to use composition rather than inheritance\n * However, it will be more difficult to make use of Immutable methods\n */\nexport class QuadraticBezierAnchor extends BaseAnchor implements AnchorWithHandles {\n\tanchorType: AnchorType;\n\thandlePositions: List<Position>;\n\n\tconstructor(params: IinitDrawable) {\n\t\tsuper(params);\n\t\tthis.anchorType = AnchorType.QuadraticBezierCurve;\n\t\tthis.handlePositions = params.handlePositions || List([this.absPosition]);\n\t}\n\n\tsetRouteParentPath = (path: List<number>): QuadraticBezierAnchor => {\n\t\treturn new QuadraticBezierAnchor({\n\t\t\t...(this.toObject()),\n\t\t\trouteParentPath: path,\n\t\t});\n\t}\n\n\tsetPosition = (absPosition: IPosition): QuadraticBezierAnchor => {\n\t\treturn new QuadraticBezierAnchor({\n\t\t\t...(this.toObject()),\n\t\t\tabsPosition: new Position(absPosition),\n\t\t});\n\t}\n\n\tupdateHandle = (absPosition: IPosition) => {\n\t\treturn new QuadraticBezierAnchor({\n\t\t\t...(this.toObject()),\n\t\t\thandlePositions: List([new Position(absPosition)]),\n\t\t});\n\t}\n\n\tclone = () => new QuadraticBezierAnchor(this.toObject());\n\n\ttoObject() {\n\t\treturn ({\n\t\t\t...BaseAnchor.prototype.toObject.call(this),\n\t\t\thandlePositions: this.handlePositions,\n\t\t});\n\t}\n\n\tget transformStyle(): string {\n\t\treturn`translate(${this.absPosition.x}px, ${this.absPosition.y}px)`;\n\t}\n\n\tget handleLines() {\n\t\treturn [];\n\t}\n\n\ttoPath = (): string =>\n\t\t`\n\t\t${this.anchorType}\n\t\t${this.handlePositions.get(0).x}, ${this.handlePositions.get(0).y}\n\t\t${this.absPosition.x}, ${this.absPosition.y}\n\t\t`\n}\n\n/**\n * It might be better to use composition rather than inheritance\n * However, it will be more difficult to make use of Immutable methods\n */\nexport class CubicBezierAnchor extends BaseAnchor implements AnchorWithHandles {\n\tanchorType: AnchorType;\n\thandlePositions: List<Position>;\n\n\tconstructor(params: IinitDrawable) {\n\t\tsuper(params);\n\t\tthis.anchorType = AnchorType.CubicBezierCurve;\n\t\tthis.handlePositions = params.handlePositions || List([this.absPosition, this.absPosition]);\n\t}\n\n\tsetRouteParentPath = (path: List<number>): CubicBezierAnchor => {\n\t\treturn new CubicBezierAnchor({\n\t\t\t...this.toObject(),\n\t\t\trouteParentPath: path,\n\t\t});\n\t}\n\n\tsetPosition = (absPosition: IPosition): CubicBezierAnchor => {\n\t\treturn new CubicBezierAnchor({\n\t\t\t...this.toObject(),\n\t\t\tabsPosition: new Position(absPosition),\n\t\t});\n\t}\n\n\tupdateHandle = (absPosition: IPosition, which: 'start'|'end'|'both' = 'start') => {\n\t\tconst position = new Position(absPosition);\n\t\tconst whichIdx = ({ start: 0, end: 1, both: 2 })[which];\n\t\treturn new CubicBezierAnchor({\n\t\t\t...this.toObject(),\n\t\t\thandlePositions: this.handlePositions\n\t\t\t\t.set(whichIdx === 2 ? 0 : whichIdx, position)\n\t\t\t\t.set(whichIdx === 2 ? 1 : whichIdx, position),\n\t\t});\n\t}\n\n\tclone = () => new CubicBezierAnchor(this.toObject());\n\n\tget transformStyle() {\n\t\treturn `translate(${this.absPosition.x}px, ${this.absPosition.y}px)`;\n\t}\n\n\tget handleLines() {\n\t\treturn [\n\t\t\t{\n\t\t\t\tpath: `\n\t\t\t\tM${this.absPosition.x}, ${this.absPosition.y}\n\t\t\t\tL${this.handlePositions.get(1).x}, ${this.handlePositions.get(1).y}\n\t\t\t\t`,\n\t\t\t\theadTransformStyle: `\n\t\t\t\ttranslate(${this.handlePositions.get(1).x}px, ${this.handlePositions.get(1).y}px)`,\n\t\t\t},\n\t\t\t{\n\t\t\t\tpath: `\n\t\t\t\tM${this.absPosition.x}, ${this.absPosition.y}\n\t\t\t\tL${(this.absPosition.x * 2) - this.handlePositions.get(1).x}, ${(this.absPosition.y * 2) - this.handlePositions.get(1).y}\n\t\t\t\t`,\n\t\t\t\theadTransformStyle: `\n\t\t\t\ttranslate(\n\t\t\t\t${(this.absPosition.x * 2) - this.handlePositions.get(1).x}px,\n\t\t\t\t${(this.absPosition.y * 2) - this.handlePositions.get(1).y}px)`,\n\t\t\t},\n\t\t];\n\t}\n\n\ttoPath = (): string =>\n\t\t`\n\t\t${this.anchorType}\n\t\t${this.handlePositions.get(0).x}, ${this.handlePositions.get(0).y}\n\t\t${this.handlePositions.get(1).x}, ${this.handlePositions.get(1).y}\n\t\t${this.absPosition.x}, ${this.absPosition.y}\n\t\t`\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/canvas/anchor/bezier/bezier.model.ts","import { List } from 'immutable';\n\nimport { IPosition, Position } from '../../canvas.model';\nimport { IinitDrawable } from '../../drawable/drawable.model';\nimport { AnchorType, AnchorWithHandles, BaseAnchor } from '../anchor.model';\nimport { BasicAnchor } from '../basic/basic.model';\n\n/**\n * It might be better to use composition rather than inheritance\n * However, it will be more difficult to make use of Immutable methods\n */\nexport class SmoothAnchor extends BaseAnchor implements AnchorWithHandles {\n\tanchorType: AnchorType;\n\thandlePositions: List<Position>;\n\n\tconstructor(params: IinitDrawable) {\n\t\tsuper(params);\n\t\tthis.anchorType = AnchorType.SmoothCurveTo;\n\t\tthis.handlePositions = params.handlePositions || List([this.absPosition]);\n\t}\n\n\tsetRouteParentPath = (path: List<number>): SmoothAnchor => {\n\t\treturn new SmoothAnchor({\n\t\t\t...this.toObject(),\n\t\t\trouteParentPath: path,\n\t\t});\n\t}\n\n\tsetPosition = (absPosition: IPosition): SmoothAnchor => {\n\t\treturn new SmoothAnchor({\n\t\t\t...this.toObject(),\n\t\t\tabsPosition: new Position(absPosition),\n\t\t});\n\t}\n\n\tupdateHandle = (absPosition: IPosition) => {\n\t\treturn new SmoothAnchor({\n\t\t\t...this.toObject(),\n\t\t\thandlePositions: List([new Position(absPosition)]),\n\t\t});\n\t}\n\n\tclone = () => new SmoothAnchor(this.toObject());\n\n\tget transformStyle() {\n\t\treturn `translate(${this.absPosition.x}px, ${this.absPosition.y}px)`;\n\t}\n\n\tget handleLines() {\n\t\treturn [\n\t\t\t{\n\t\t\t\tpath: `M${this.absPosition.x}, ${this.absPosition.y} L${this.handlePositions.get(0).x}, ${this.handlePositions.get(0).y}`,\n\t\t\t\theadTransformStyle: `translate(${this.handlePositions.get(0).x}px, ${this.handlePositions.get(0).y}px)`,\n\t\t\t},\n\t\t\t{\n\t\t\t\tpath: `\n\t\t\t\tM${this.absPosition.x}, ${this.absPosition.y}\n\t\t\t\tL${(this.absPosition.x * 2) - this.handlePositions.get(0).x}, ${(this.absPosition.y * 2) - this.handlePositions.get(0).y}`,\n\t\t\t\theadTransformStyle: `\n\t\t\t\ttranslate(${(this.absPosition.x * 2) - this.handlePositions.get(0).x}px, ${(this.absPosition.y * 2) - this.handlePositions.get(0).y}px)\n\t\t\t\t`,\n\t\t\t},\n\t\t];\n\t}\n\n\ttoPath = (): string =>\n\t\t`\n\t\t${this.anchorType}\n\t\t${this.handlePositions.get(0).x}, ${this.handlePositions.get(0).y}\n\t\t${this.absPosition.x}, ${this.absPosition.y}\n\t\t`\n}\n\nexport class SmoothQuadraticAnchor extends BasicAnchor { // Component still more representable with basic\n\tconstructor(params: IinitDrawable) {\n\t\tsuper({\n\t\t\t...params,\n\t\t\tanchorType: AnchorType.SmoothQuadraticBezierCurveTo,\n\t\t});\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/canvas/anchor/smooth/smooth.model.ts","import { CanvasState, IPosition, Position } from './canvas.model';\n\nconst MIN_CANVAS_SCALE = 0.2;\nconst MAX_CANVAS_SCALE = 2;\n\nexport const updateTopLeft = (state: CanvasState, position: IPosition): CanvasState => {\n\treturn <CanvasState>state.setIn(['board', 'topLeft'], new Position(position));\n};\n\nexport const updateScale = (state: CanvasState, change: number): CanvasState => {\n\treturn <CanvasState>state.updateIn(\n\t\t['board', 'scale'],\n\t\t(scale: number) => (\n\t\t\tMath.min(Math.max(\n\t\t\t\tscale + change, MIN_CANVAS_SCALE),\n\t\t\t\tMAX_CANVAS_SCALE)),\n\t\t);\n};\n\nexport const updateMoved = (state: CanvasState, position: IPosition): CanvasState => {\n\treturn <CanvasState>state.setIn(['board', 'moved'], new Position(position));\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/canvas/canvas.core.ts","import { Action, Reducer } from 'redux';\n\nimport { CanvasState } from '../canvas.model';\nimport {\n\tAddSelectAction,\n\tDeselectAction,\n\tDrawableActionType,\n\tSelectAction,\n} from './drawable.action';\nimport * as drawableCore from './drawable.core';\n\nexport const drawableReducer: Reducer<CanvasState> = (state: CanvasState, action: Action) => {\n\tswitch (action.type) {\n\t\tcase DrawableActionType.DRAWABLE_SELECT:\n\t\t\tconst selectAction = <SelectAction>action;\n\t\t\treturn <CanvasState>drawableCore.selectDrawable(state, selectAction.payload);\n\t\tcase DrawableActionType.DRAWABLE_ADD_SELECT:\n\t\t\tconst addSelectAction = <AddSelectAction>action;\n\t\t\treturn <CanvasState>drawableCore.addSelectDrawable(state, addSelectAction.payload);\n\t\tcase DrawableActionType.DRAWABLE_DESELECT:\n\t\t\tconst deselectAction = <DeselectAction>action;\n\t\t\treturn <CanvasState>drawableCore.deselectDrawable(state, deselectAction.payload);\n\t\tcase DrawableActionType.DRAWABLE_DESELECT_ALL:\n\t\t\treturn <CanvasState>drawableCore.deselectAllDrawable(state);\n\t}\n\treturn state;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/canvas/drawable/drawable.reducer.ts","import { List } from 'immutable';\n\nimport { CanvasState } from '../canvas.model';\n\nexport const selectDrawable = (state: CanvasState, targetIn: Array<number>) => {\n\treturn state.set('selected', List([ List(targetIn) ]));\n};\n\nexport const addSelectDrawable = (state: CanvasState, targetIn: Array<number>) => {\n\treturn state.update('selected', (selected: List<List<number>>) => selected.push(List(targetIn)));\n};\n\nexport const deselectDrawable = (state: CanvasState, targetIn: Array<number>) => {\n\treturn state;\n};\n\nexport const deselectAllDrawable = (state: CanvasState) => {\n\treturn state.set('selected', List<List<number>>([]));\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/canvas/drawable/drawable.core.ts","import { Action, Reducer } from 'redux';\n\nimport { CanvasState } from '../canvas.model';\nimport {\n\tIAddAnchorAction,\n\tIChangeColorAction,\n\tICreateNewInAction,\n\tIRemoveAnchorAction,\n\tIRemoveLastAnchorAction,\n\tIZipPathAction,\n\tPathActionType,\n} from './path.action';\nimport * as pathCore from './path.core';\n\nexport const pathReducer: Reducer<CanvasState> = (state: CanvasState, action: Action) => {\n\tswitch (action.type) {\n\t\tcase PathActionType.PATH_CREATE_NEW_IN:\n\t\t\tconst createAction = <ICreateNewInAction>action;\n\t\t\treturn <CanvasState>pathCore.createNewIn(state, createAction.payload.parentIn, createAction.payload.anchorPosition);\n\t\tcase PathActionType.PATH_ADD_ANCHOR:\n\t\t\tconst addAction = <IAddAnchorAction>action;\n\t\t\treturn <CanvasState>pathCore.addAnchor(\n\t\t\t\tstate, addAction.payload.targetIn, addAction.payload.anchorPosition, addAction.payload.anchorType);\n\t\tcase PathActionType.PATH_REMOVE_ANCHOR:\n\t\t\tconst removeAction = <IRemoveAnchorAction>action;\n\t\t\treturn <CanvasState>pathCore.removeAnchor(state, removeAction.payload.targetIn, removeAction.payload.idx);\n\t\tcase PathActionType.PATH_REMOVE_LAST_ANCHOR:\n\t\t\tconst removeLastAction = <IRemoveLastAnchorAction>action;\n\t\t\treturn <CanvasState>pathCore.removeLastAnhcor(state, removeLastAction.payload);\n\t\tcase PathActionType.PATH_ZIP_PATH:\n\t\t\tconst zipAction = <IZipPathAction>action;\n\t\t\treturn <CanvasState>pathCore.zipPath(state, zipAction.payload);\n\t\tcase PathActionType.PATH_CHANGE_COLOR:\n\t\t\tconst changeColorAction = <IChangeColorAction>action;\n\t\t\treturn <CanvasState>pathCore.changeColor(\n\t\t\t\tstate,\n\t\t\t\tchangeColorAction.payload.targetIn,\n\t\t\t\tchangeColorAction.payload.attribute,\n\t\t\t\tchangeColorAction.payload.color);\n\t}\n\treturn state;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/canvas/path/path.reducer.ts","import { List } from 'immutable';\n\nimport { ColorAttribute } from '../../color/rim/rim.model';\nimport { AnchorType } from '../anchor/anchor.model';\nimport { CanvasState, IPosition, Position } from '../canvas.model';\nimport { Drawable } from '../drawable/drawable.model';\nimport { Path } from './path.model';\n\nexport const createNewIn = (state: CanvasState, parentIn: Array<number>, startPosition: IPosition) => {\n\treturn state.updateIn(['root', ...Drawable.toRoutePath(parentIn, true)], (children: List<Drawable>) => {\n\t\treturn children.push(new Path({\n\t\t\trouteParentPath: List(parentIn),\n\t\t\tidx: children.size,\n\t\t\tabsPosition: new Position({ x: 0, y: 0 }),\n\t\t}).addAnchor(startPosition));\n\t});\n};\n\nexport const addAnchor = (state: CanvasState, targetIn: Array<number>, anchorPosition: IPosition, anchorType?: AnchorType) => {\n\treturn state.updateIn(['root', ...Drawable.toRoutePath(targetIn)], (accessedPath: Path): Path => {\n\t\treturn accessedPath.addAnchor(anchorPosition, anchorType);\n\t});\n};\n\nexport const removeAnchor = (state: CanvasState, targetIn: Array<number>, idx: number) => {\n\treturn state.updateIn(['root', ...Drawable.toRoutePath(targetIn)], (accessedPath: Path): Path => {\n\t\treturn accessedPath.removeAnchor(idx);\n\t});\n};\n\nexport const removeLastAnhcor = (state: CanvasState, targetIn: Array<number>) => {\n\treturn state.updateIn(['root', ...Drawable.toRoutePath(targetIn)], (accessedPath: Path): Path => {\n\t\treturn accessedPath.removeLastAnchor();\n\t});\n};\n\nexport const zipPath = (state: CanvasState, targetIn: Array<number>) => {\n\treturn state.updateIn(['root', ...Drawable.toRoutePath(targetIn)], (accessedPath: Path): Path => {\n\t\treturn accessedPath.zip();\n\t});\n};\n\nexport const changeColor = (state: CanvasState, targetIn: Array<number>, attribute: ColorAttribute, color: string) => {\n\treturn state.updateIn(['root', ...Drawable.toRoutePath(targetIn)], (accessedPath: Path): Path => {\n\t\treturn accessedPath.setColor(attribute, color);\n\t});\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/canvas/path/path.core.ts","module.exports = \"<svg class=\\\"boundingBox\\\" [ngClass]=\\\"{ display: show ? 'unset' : 'none' }\\\">\\n  <svg:rect\\n    class=\\\"boundingBox__rect\\\"\\n    [attr.width]=\\\"width$ | async\\\"\\n    [attr.height]=\\\"height$ | async\\\"\\n    [attr.y]=\\\"top$ | async\\\"\\n    [attr.x]=\\\"left$ | async\\\"></svg:rect>\\n</svg>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/canvas/boundingbox/boundingbox.component.html\n// module id = 306\n// module chunks = 0","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".boundingBox {\\n  position: absolute;\\n  width: 100%;\\n  height: 100%;\\n  top: 0;\\n  left: 0;\\n  pointer-events: none; }\\n  .boundingBox__rect {\\n    fill: none;\\n    stroke: rgba(255, 204, 0, 0.5);\\n    stroke-width: 1px; }\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/canvas/boundingbox/boundingbox.component.scss\n// module id = 307\n// module chunks = 0","import { dispatch, select, select$ } from '@angular-redux/store';\nimport {\n\tChangeDetectionStrategy,\n\tComponent,\n\tElementRef,\n\tOnInit,\n\tRenderer2,\n\tViewChild,\n\tViewEncapsulation,\n} from '@angular/core';\nimport { List } from 'immutable';\nimport 'rxjs/add/observable/combineLatest';\nimport 'rxjs/add/operator/filter';\nimport { Observable } from 'rxjs/Observable';\n\nimport { CanvasActions } from './canvas.action';\nimport { ActionFromEvent, IPosition, RegisteredListener } from './canvas.model';\nimport { Drawable } from './drawable/drawable.model';\n\nconst DAMP_SCROLL = 200;\nconst DEBOUNCE_TIME = 20;\n\nconst filterListener = (listeners$: Observable<List<RegisteredListener>>) =>\n\tlisteners$.map(listeners => <List<RegisteredListener>>listeners\n\t\t.filter(listener => listener.target === 'canvas'));\n\n@Component({\n\tselector: 'app-draw-canvas',\n\ttemplateUrl: './canvas.component.html',\n\tstyleUrls: ['./canvas.component.scss'],\n\tencapsulation: ViewEncapsulation.Emulated,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class CanvasComponent implements OnInit {\n\tlisteners: Array<Function> = [];\n\t@ViewChild('canvas') canvasRef: ElementRef;\n\t@select(['canvas', 'root'])\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treadonly root$: Observable<List<Drawable>>;\n\t@select(['canvas', 'board', 'scale'])\t\t\t\t\t\t\t\t\t\t\t\t\t\treadonly scale$: Observable<number>;\n\t@select(['canvas', 'board', 'moved'])\t\t\t\t\t\t\t\t\t\t\t\t\t\treadonly moved$: Observable<IPosition>;\n\t@select$(['toolbox', 'selected', 'listeners'], filterListener)\treadonly listeners$: Observable<List<RegisteredListener>>;\n\tprivate timeoutId: number;\n\n\tconstructor(\n\t\tprivate rd: Renderer2,\n\t\tprivate canvasActions: CanvasActions) { }\n\n\tget canvasStyle$(): Observable<Object> {\n\t\tconst style$ = Observable.combineLatest(\n\t\t\tthis.scale$,\n\t\t\tthis.moved$,\n\t\t);\n\t\treturn style$.map(styles => ({\n\t\t\ttransform: `\n\t\t\ttranslate(${styles[1].x}px, ${styles[1].y}px)\n\t\t\tscale(${styles[0]})\n\t\t\t`,\n\t\t}));\n\t}\n\n\tngOnInit() {\n\t\t// Update canvas board state position; listen on change window size\n\t\tthis.updateCanvasPosition();\n\t\tthis.rd.listen('window', 'resize', (_e) => { this.updateCanvasPosition(); });\n\n\t\t// Update canvas board state scale (and position too after delay)\n\t\tthis.rd.listen('window', 'wheel', (e: WheelEvent) => e.preventDefault());\n\t\tthis.rd.listen(this.canvasRef.nativeElement, 'wheel', (e: WheelEvent) => {\n\t\t\tthis.updateCanvasScale(e);\n\t\t\twindow.clearTimeout(this.timeoutId);\n\t\t\tthis.timeoutId = window.setTimeout(() => {\n\t\t\t\tthis.updateCanvasPosition();\n\t\t\t}, DEBOUNCE_TIME);\n\t\t});\n\n\t\t// Attach listeners as dictated by toolbox\n\t\tthis.listeners$.subscribe(listeners => {\n\t\t\t// clear listener from pevious tool\n\t\t\tthis.listeners.forEach((listenerToDestroy: Function) => listenerToDestroy());\n\t\t\tlisteners.forEach(listener => {\n\t\t\t\tthis.listeners.push(this.rd.listen(this.canvasRef.nativeElement, listener.name,\n\t\t\t\t\t(e: MouseEvent) => { this.dispatchRegisteredAction(listener.handler, e); },\n\t\t\t\t));\n\t\t\t});\n\t\t});\n\t}\n\n\t@dispatch() dispatchRegisteredAction = (handler: ActionFromEvent, e: MouseEvent) => {\n\t\treturn handler(e);\n\t}\n\n\t@dispatch() updateCanvasPosition = () => {\n\t\treturn this.canvasActions.updateTopLeft({\n\t\t\tx: this.canvasRef.nativeElement.getBoundingClientRect().left,\n\t\t\ty: this.canvasRef.nativeElement.getBoundingClientRect().top,\n\t\t});\n\t}\n\n\t@dispatch() updateCanvasScale = (e: WheelEvent) => {\n\t\te.preventDefault();\n\t\treturn this.canvasActions.updateScale(e.deltaY / DAMP_SCROLL);\n\t}\n\n\ttrackById(idx: number, drawable: Drawable): number {\n\t\treturn drawable.id;\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/canvas/canvas.component.ts","module.exports = \"<div #canvas class=\\\"draw-canvas\\\" [ngStyle]=\\\"canvasStyle$ | async\\\">\\n\\t<app-drawable [drawable]=\\\"drawable\\\" *ngFor=\\\"let drawable of (root$ | async); trackBy: trackById\\\"></app-drawable>\\n\\t<app-bounding-box></app-bounding-box>\\n</div>\\n\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/canvas/canvas.component.html\n// module id = 312\n// module chunks = 0","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".draw-canvas {\\n  position: relative;\\n  width: 800px;\\n  height: 600px;\\n  background: white;\\n  box-shadow: 0 0 1px rgba(0, 0, 0, 0.1);\\n  border-radius: 2px;\\n  margin-left: calc(50% - 500px);\\n  margin-right: calc(50% - 300px);\\n  margin-top: calc(50vh - 300px);\\n  user-select: none; }\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/canvas/canvas.component.scss\n// module id = 313\n// module chunks = 0","import {\n\tChangeDetectionStrategy,\n\tComponent,\n\tComponentFactoryResolver,\n\tComponentRef,\n\tInput,\n\tOnChanges,\n\tOnDestroy,\n\tOnInit,\n\tViewChild,\n\tViewContainerRef,\n\tViewEncapsulation,\n} from '@angular/core';\n\nimport { AnchorComponent } from '../anchor/anchor.container.component';\nimport { GroupComponent } from '../group/group.component';\nimport { PathComponent } from '../path/path.component';\nimport { DrawableBaseComponent } from './drawable.base.component';\nimport { DrawableDirective } from './drawable.directive';\nimport { Drawable, DrawableType } from './drawable.model';\n\nconst mappings = {\n\t[DrawableType.Path]: PathComponent,\n\t[DrawableType.Anchor]: AnchorComponent,\n\t[DrawableType.Group]: GroupComponent,\n};\n\nconst getComponentType = (typeName: DrawableType) => {\n\tconst type = mappings[typeName];\n\treturn type;\n};\n\n@Component({\n\tselector: 'app-drawable',\n\ttemplateUrl: './drawable.component.html',\n\tstyleUrls: ['./drawable.component.scss'],\n\tencapsulation: ViewEncapsulation.None,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class DrawableComponent implements OnInit, OnDestroy, OnChanges {\n\tcomponentRef: ComponentRef<DrawableBaseComponent>;\n\tinstance: DrawableBaseComponent;\n\t@ViewChild(DrawableDirective, { read: ViewContainerRef }) drawableHost: ViewContainerRef;\n\t@Input() drawable: Drawable;\n\n\tconstructor(private componentFactoryResolver: ComponentFactoryResolver) { }\n\n\tngOnInit() { // Using ngOnInit (instead of ngViewAfterInit) fix the templating issue\n\t\tif (this.drawable.type) {\n\t\t\tconst drawableType = getComponentType(this.drawable.type);\n\t\t\tconst factory = this.componentFactoryResolver.resolveComponentFactory<DrawableBaseComponent>(drawableType);\n\t\t\tthis.componentRef = this.drawableHost.createComponent(factory);\n\t\t\tthis.instance = this.componentRef.instance;\n\t\t\tthis.instance.drawable = this.drawable;\n\t\t}\n\t}\n\n\tngOnChanges() {\n\t\tif (!!this.instance) { this.instance.drawable = this.drawable; }\n\t}\n\n\tngOnDestroy() {\n\t\tif (this.componentRef) {\n\t\t\tthis.componentRef.destroy();\n\t\t\tthis.componentRef = undefined;\n\t\t}\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/canvas/drawable/drawable.component.ts","module.exports = \"<div class=\\\"group\\\">\\n  <app-drawable [drawable]=\\\"child\\\" *ngFor=\\\"let child of drawable.children\\\"></app-drawable>\\n</div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/canvas/group/group.component.html\n// module id = 324\n// module chunks = 0","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".group {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%; }\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/canvas/group/group.component.scss\n// module id = 325\n// module chunks = 0","module.exports = \"<div class=\\\"path\\\">\\n  <svg class=\\\"path__container\\\">\\n    <svg:path #path [attr.d]=\\\"drawable.toPath()\\\" class=\\\"path__line\\\" [ngStyle]=\\\"drawable.toColorStyle()\\\"></svg:path>\\n  </svg>\\n  <div class=\\\"path__anchorGroup\\\">\\n    <app-anchor *ngFor=\\\"let anchor of drawable.children; trackBy: trackById\\\" [drawable]=\\\"anchor\\\"></app-anchor>\\n  </div>\\n</div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/canvas/path/path.component.html\n// module id = 326\n// module chunks = 0","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".path {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  pointer-events: none; }\\n  .path .path__container {\\n    width: 100%;\\n    height: 100%; }\\n    .path .path__container .path__line {\\n      stroke-width: 1px;\\n      pointer-events: all; }\\n  .path .path__anchorGroup {\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    width: 100%;\\n    height: 100%;\\n    pointer-events: none; }\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/canvas/path/path.component.scss\n// module id = 327\n// module chunks = 0","module.exports = \"<ng-template appDrawableHost></ng-template>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/canvas/drawable/drawable.component.html\n// module id = 328\n// module chunks = 0","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/canvas/drawable/drawable.component.scss\n// module id = 329\n// module chunks = 0","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { ColorPickerComponent } from './color.component';\nimport { ColorPickerEpics } from './color.epics';\nimport { OpacityComponent } from './opacity/opacity.component';\nimport { RimActions } from './rim/rim.action';\nimport { RimComponent } from './rim/rim.component';\nimport { SliderActions } from './slider/slider.action';\nimport { SliderComponent } from './slider/slider.component';\nimport { SliderEpics } from './slider/slider.epics';\nimport { StrokeComponent } from './stroke/stroke.component';\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t],\n\tdeclarations: [\n\t\tRimComponent,\n\t\tSliderComponent,\n\t\tColorPickerComponent,\n\t\tOpacityComponent,\n\t\tStrokeComponent,\n\t],\n\tproviders: [\n\t\tColorPickerEpics,\n\t\tSliderActions,\n\t\tSliderEpics,\n\t\tRimActions,\n\t],\n\texports: [\n\t\tColorPickerComponent,\n\t],\n})\nexport class ColorModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/color/color.module.ts","import { select, WithSubStore } from '@angular-redux/store';\nimport { Component, OnInit } from '@angular/core';\nimport { Observable } from 'rxjs/Observable';\n\nimport { colorPickerReducer } from './color.reducer';\nimport { ColorAttribute } from './rim/rim.model';\n\n@WithSubStore({\n\tbasePathMethodName: 'getBasePath',\n\tlocalReducer: colorPickerReducer,\n})\n@Component({\n\tselector: 'app-color-picker',\n\ttemplateUrl: './color.component.html',\n\tstyleUrls: ['./color.component.scss'],\n})\nexport class ColorPickerComponent implements OnInit {\n\t@select('selected')\t\treadonly selected$: Observable<ColorAttribute>;\n\n\tconstructor() { }\n\n\tgetBasePath = () => ['color'];\n\n\tngOnInit() {\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/color/color.component.ts","import { Record } from 'immutable';\n\nimport { ColorAttribute, RimState } from './rim/rim.model';\n\nexport interface IColorPickerState {\n\tselected: ColorAttribute;\n\trim: RimState;\n}\n\nconst initColorPickerState = { selected: ColorAttribute.Fill, rim: new RimState() };\n\nexport class ColorPickerState extends Record(initColorPickerState) {\n\tselected: ColorAttribute;\n\trim: RimState;\n\n\tconstructor(state: IColorPickerState = initColorPickerState) {\n\t\tsuper(state);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/color/color.model.ts","export enum OpacityActionType {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/color/opacity/opacity.action.ts","import { Action, Reducer } from 'redux';\n\nimport { ColorPickerState } from '../color.model';\n\nexport const opacityReducer: Reducer<ColorPickerState> = (state: ColorPickerState, action: Action) => {\n\treturn state;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/color/opacity/opacity.reducer.ts","import { Action, Reducer } from 'redux';\n\nimport { ColorPickerState } from '../color.model';\nimport { IColorAttributeSelectAction, RimActionType } from './rim.action';\n\nexport const rimReducer: Reducer<ColorPickerState> = (state: ColorPickerState, action: Action) => {\n\tswitch (action.type) {\n\t\tcase RimActionType.RIM_COLOR_ATTRIBUTE_SELECT:\n\t\t\tconst selectAction = <IColorAttributeSelectAction>action;\n\t\t\treturn <ColorPickerState>state.set('selected', selectAction.payload);\n\t}\n\treturn state;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/color/rim/rim.reducer.ts","import { Action, Reducer } from 'redux';\n\nimport { ColorPickerState } from '../color.model';\nimport { Color } from '../rim/rim.model';\nimport {\n\tIChangeColorAction,\n\tIChangeValueByChannelAction,\n\tSliderActionType,\n} from './slider.action';\n\nexport const sliderReducer: Reducer<ColorPickerState> = (state: ColorPickerState, action: Action) => {\n\tswitch (action.type) {\n\t\tcase SliderActionType.SLIDER_CHANGE_VALUE_BY_CHANNEL:\n\t\t\tconst changeByChannel = <IChangeValueByChannelAction>action;\n\t\t\treturn <ColorPickerState>state.updateIn(\n\t\t\t\t['rim', changeByChannel.payload.attribute, 'color'],\n\t\t\t\t(color: Color) => color.set(changeByChannel.payload.channel, changeByChannel.payload.value));\n\t\tcase SliderActionType.SLIDER_CHANGE_COLOR:\n\t\t\tconst changeColor = <IChangeColorAction>action;\n\t\t\tconsole.log(changeColor.payload.color);\n\t\t\treturn <ColorPickerState>state.setIn(\n\t\t\t\t['rim', changeColor.payload.attribute, 'color'], changeColor.payload.color);\n\t}\n\treturn state;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/color/slider/slider.reducer.ts","export enum StrokeActionType {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/color/stroke/stroke.action.ts","import { Action, Reducer } from 'redux';\n\nimport { ColorPickerState } from '../color.model';\n\nexport const strokeReducer: Reducer<ColorPickerState> = (state: ColorPickerState, action: Action) => {\n\treturn state;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/color/stroke/stroke.reducer.ts","module.exports = \"<div class=\\\"colorPicker\\\">\\n  <app-rim-color [selected]=\\\"selected$ | async\\\"></app-rim-color>\\n  <div class=\\\"picker__sliderGroup\\\">\\n    <app-slider-color *ngFor=\\\"let channel of ['r', 'g', 'b']\\\" [channel]=\\\"channel\\\" [selected]=\\\"selected$ | async\\\"></app-slider-color>\\n  </div>\\n</div>\\n<app-slider-opacity></app-slider-opacity>\\n<app-stroke-width-slider></app-stroke-width-slider>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/color/color.component.html\n// module id = 342\n// module chunks = 0","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".colorPicker {\\n  width: calc(100% - 10px);\\n  height: 200px;\\n  background: white;\\n  border-radius: 10px;\\n  box-shadow: 0 10px 50px -15px rgba(0, 0, 0, 0.4);\\n  margin: 5px;\\n  margin-bottom: 10px;\\n  overflow: hidden;\\n  display: flex;\\n  justify-content: space-around;\\n  flex-wrap: nowrap; }\\n  .colorPicker .picker__sliderGroup {\\n    max-width: 80%;\\n    width: 80%;\\n    display: flex;\\n    flex-flow: column;\\n    justify-content: space-around;\\n    align-items: center;\\n    background: rgba(250, 250, 252, 0.85);\\n    padding: 50px 0; }\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/color/color.component.scss\n// module id = 343\n// module chunks = 0","import { Component, OnInit } from '@angular/core';\n\n@Component({\n\tselector: 'app-slider-opacity',\n\ttemplateUrl: './opacity.component.html',\n\tstyleUrls: ['./opacity.component.scss'],\n})\nexport class OpacityComponent implements OnInit {\n\n\tconstructor() { }\n\n\tngOnInit() {\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/color/opacity/opacity.component.ts","module.exports = \"\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/color/opacity/opacity.component.html\n// module id = 345\n// module chunks = 0","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/color/opacity/opacity.component.scss\n// module id = 346\n// module chunks = 0","import { dispatch, select, WithSubStore } from '@angular-redux/store';\nimport { Component, Input, OnInit } from '@angular/core';\nimport { Observable } from 'rxjs/Observable';\n\nimport { colorPickerReducer } from '../color.reducer';\nimport { ColorAttribute, RimState } from '../rim/rim.model';\nimport { RimActions } from './rim.action';\n\n@WithSubStore({\n\tbasePathMethodName: 'getBasePath',\n\tlocalReducer: colorPickerReducer,\n})\n@Component({\n\tselector: 'app-rim-color',\n\ttemplateUrl: './rim.component.html',\n\tstyleUrls: ['./rim.component.scss'],\n})\nexport class RimComponent implements OnInit {\n\t@Input() selected: ColorAttribute;\n\t@select('rim')\treadonly rim$: Observable<RimState>;\n\n\tconstructor(private rimActions: RimActions) { }\n\n\tget fillColor$() {\n\t\treturn this.rim$.map(rim => rim.fill.color.toRGBString());\n\t}\n\n\tget outlineColor$() {\n\t\treturn this.rim$.map(rim => rim.outline.color.toRGBString());\n\t}\n\n\tget separatorStyle$() {\n\t\tconst outlineActive = this.selected === ColorAttribute.Outline;\n\t\tconst cb = (val: number) => Math.max(val - 50, 0);\n\n\t\treturn this.rim$.map(rim => ({\n\t\t\t'box-shadow': `\n\t\t\t${outlineActive ? '5px 5px 25px -5px' : '0 5px 10px -5px'}\n\t\t\t${rim.outline.color\n\t\t\t\t.update('r', cb).update('g', cb).update('b', cb)\n\t\t\t\t.toRGBAString(outlineActive ? 0.75 : 0.25)}\n\t\t\tinset`,\n\t\t}));\n\t}\n\n\tgetShadowStyle$(attribute: ColorAttribute) {\n\t\tconst isSelected = this.selected === attribute;\n\t\tconst cb = (val: number) => Math.max(val - 50, 0);\n\n\t\treturn this.rim$.map(rim => ({\n\t\t\t'box-shadow': `\n\t\t\t${isSelected ? '5px 5px 25px -5px' : '0 5px 15px -5px'}\n\t\t\t${rim[attribute].color\n\t\t\t\t.update('r', cb).update('g', cb).update('b', cb)\n\t\t\t\t.toRGBAString(isSelected ? 0.75 : 0.25)}`,\n\t\t}));\n\t}\n\n\t/**\n\t * An alternative is ['color', 'rim']\n\t *\n\t * But, since it will create problem with sub reducer (state get by getBasePath is passed to the reducer)\n\t * it create complication in the reducer, and does not adhere to existing implementations\n\t */\n\tgetBasePath = () => ['color'];\n\n\tngOnInit() { }\n\n\t@dispatch() selectAttribute = (e: MouseEvent, attribute: ColorAttribute) => {\n\t\te.stopPropagation();\n\t\treturn this.rimActions.ColorAttributeSelect(attribute);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/color/rim/rim.component.ts","module.exports = \"<div class=\\\"rim__wrapper\\\">\\n\\t<div\\n\\t\\tclass=\\\"rim__outline\\\"\\n\\t\\t[style.background]=\\\"outlineColor$ | async\\\"\\n\\t\\t(mousedown)=\\\"selectAttribute($event, 'outline')\\\"\\n\\t\\t[ngStyle]=\\\"getShadowStyle$('outline') | async\\\">\\n\\t\\t<div\\n\\t\\t\\tclass=\\\"rim__separator\\\"\\n\\t\\t\\t[ngStyle]=\\\"separatorStyle$ | async\\\">\\n\\t\\t\\t<div class=\\\"rim__fill\\\"\\n\\t\\t\\t\\t[style.background]=\\\"fillColor$ | async\\\"\\n\\t\\t\\t\\t(mousedown)=\\\"selectAttribute($event, 'fill')\\\"\\n\\t\\t\\t\\t[ngStyle]=\\\"getShadowStyle$('fill') | async\\\">\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t</div>\\n</div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/color/rim/rim.component.html\n// module id = 348\n// module chunks = 0","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".rim__wrapper {\\n  width: 200%;\\n  height: 100%;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center; }\\n  .rim__wrapper .rim__outline {\\n    width: 150px;\\n    height: 150px;\\n    border-radius: 50%;\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n    cursor: pointer;\\n    transition: box-shadow .2s ease; }\\n  .rim__wrapper .rim__separator {\\n    border-radius: 50%;\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    width: 120px;\\n    height: 120px;\\n    transition: box-shadow .2s ease;\\n    background: white;\\n    cursor: default; }\\n  .rim__wrapper .rim__fill {\\n    width: 80%;\\n    height: 80%;\\n    border-radius: 50%;\\n    transition: box-shadow .2s ease;\\n    cursor: pointer; }\\n\\n:host {\\n  height: 100%;\\n  width: 35%;\\n  direction: rtl; }\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/color/rim/rim.component.scss\n// module id = 349\n// module chunks = 0","import { dispatch, select, WithSubStore } from '@angular-redux/store';\nimport {\n\tChangeDetectionStrategy,\n\tComponent,\n\tElementRef,\n\tInput,\n\tOnInit,\n\tRenderer2,\n\tViewChild,\n} from '@angular/core';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/mergeMap';\nimport { Observable } from 'rxjs/Observable';\n\nimport { colorPickerReducer } from '../color.reducer';\nimport { createClamp } from '../rim/rim.color.model';\nimport { Color, ColorAttribute, RimState } from '../rim/rim.model';\nimport { SliderActions } from './slider.action';\n\nconst clampColor = createClamp(0, 255);\n\n@WithSubStore({\n\tbasePathMethodName: 'getBasePath',\n\tlocalReducer: colorPickerReducer,\n})\n@Component({\n\tselector: 'app-slider-color',\n\ttemplateUrl: './slider.component.html',\n\tstyleUrls: ['./slider.component.scss'],\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class SliderComponent implements OnInit {\n\t@ViewChild('bar')\tbarEl: ElementRef;\n\t@Input() selected: ColorAttribute;\n\t@Input() channel: 'r'|'g'|'b';\n\t@select('rim')\t\t\treadonly rim$: Observable<RimState>;\n\tstartPos: number;\n\tdragging: boolean;\n\tonDragListener: Function;\n\tendDragListener: Function;\n\n\tconstructor(\n\t\tprivate sliderActions: SliderActions,\n\t\tprivate rd: Renderer2) { }\n\n\tget color$(): Observable<Color> {\n\t\treturn this.rim$.map(rim => rim[this.selected].color);\n\t}\n\n\tget barStyle$(): Observable<Object> {\n\t\treturn this.color$\n\t\t\t.map(color => ({\n\t\t\t\tbackground: `\n\t\t\t\tlinear-gradient(to right,\n\t\t\t\t${color.set(this.channel, 0).toRGBAString()},\n\t\t\t\t${color.set(this.channel, 255).toRGBAString()})\n\t\t\t\t`,\n\t\t\t}));\n\t}\n\n\tget handleStyle$() {\n\t\treturn this.color$\n\t\t\t.map(color => {\n\t\t\t\tconst { width } = this.barEl.nativeElement.getBoundingClientRect();\n\t\t\t\treturn {\n\t\t\t\t\ttransform: `translateX(${(color[this.channel] / 255) * width}px)`,\n\t\t\t\t};\n\t\t\t});\n\t}\n\n\t/**\n\t * An alternative is ['color', 'rim', this.selected]\n\t *\n\t * But, since it will create problem with sub reducer (state get by getBasePath is passed to the reducer)\n\t * it create complication in the reducer, and does not adhere to existing implementations\n\t */\n\tgetBasePath = () => ['color'];\n\n\tngOnInit() { }\n\n\tstartDrag = (e: MouseEvent) => {\n\t\tthis.startPos = e.clientX;\n\t\tthis.dragging = true;\n\t\tthis.onDragListener = this.rd.listen('document', 'mousemove', this.onDrag);\n\t\tthis.endDragListener = this.rd.listen('document', 'mouseup', this.endDrag);\n\t}\n\n\tonDrag = (e: MouseEvent) => {\n\t\tif (this.dragging) {\n\t\t\tconst rect = this.barEl.nativeElement.getBoundingClientRect();\n\t\t\tconst newValue = clampColor(255 * ((e.clientX - rect.left) / rect.width));\n\t\t\tthis.changeValue(newValue, this.channel); // parameter channel is required to bind with calling component\n\t\t}\n\t}\n\n\tendDrag = (e: MouseEvent) => {\n\t\tthis.dragging = false;\n\t\tthis.onDragListener();\n\t\tthis.endDragListener();\n\t}\n\n\t@dispatch()\n\tchangeValue = (newValue: number, channel: 'r'|'g'|'b') =>\n\t\tthis.sliderActions.changeValueByChannel(this.selected, channel, newValue)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/color/slider/slider.component.ts","module.exports = \"<div #bar class=\\\"colorSlider\\\" [ngStyle]=\\\"barStyle$ | async\\\">\\n\\t<div class=\\\"colorSlider__handle\\\"\\n\\t\\t(mousedown)=\\\"startDrag($event)\\\"\\n\\t\\t[ngStyle]=\\\"handleStyle$ | async\\\"></div>\\n</div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/color/slider/slider.component.html\n// module id = 351\n// module chunks = 0","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".colorSlider {\\n  position: relative;\\n  width: 128px;\\n  height: 10px;\\n  border-radius: 5px;\\n  margin: 10px;\\n  box-shadow: 0 2.5px 20px -2.5px rgba(0, 0, 0, 0.1) inset; }\\n  .colorSlider .colorSlider__handle {\\n    width: 20px;\\n    height: 20px;\\n    position: absolute;\\n    left: -10px;\\n    top: -5px;\\n    background: white;\\n    box-shadow: 2.5px 2.5px 20px -2.5px rgba(0, 0, 0, 0.4);\\n    border-radius: 50%; }\\n    .colorSlider .colorSlider__handle:hover {\\n      cursor: -webkit-grab;\\n      cursor: grab; }\\n    .colorSlider .colorSlider__handle:active {\\n      cursor: -webkit-grabbing;\\n      cursor: grabbing; }\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/color/slider/slider.component.scss\n// module id = 352\n// module chunks = 0","import { Component, OnInit } from '@angular/core';\n\n@Component({\n\tselector: 'app-stroke-width-slider',\n\ttemplateUrl: './stroke.component.html',\n\tstyleUrls: ['./stroke.component.scss'],\n})\nexport class StrokeComponent implements OnInit {\n\n\tconstructor() { }\n\n\tngOnInit() {\n\t}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/color/stroke/stroke.component.ts","module.exports = \"\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/color/stroke/stroke.component.html\n// module id = 354\n// module chunks = 0","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/color/stroke/stroke.component.scss\n// module id = 355\n// module chunks = 0","import { DevToolsExtension, NgRedux, NgReduxModule } from '@angular-redux/store';\nimport { NgModule } from '@angular/core';\n\nimport { RootEpics } from './epics';\nimport { IAppState } from './model';\nimport { rootReducer } from './reducer';\n\n@NgModule({\n\timports: [\n\t\tNgReduxModule,\n\t],\n\tdeclarations: [],\n\tproviders: [RootEpics],\n})\nexport class StoreModule {\n\tconstructor(\n\t\tpublic store: NgRedux<IAppState>,\n\t\tdevTools: DevToolsExtension,\n\t\tprivate rootEpics: RootEpics,\n\t) {\n\t\tstore.configureStore(\n\t\t\trootReducer,\n\t\t\t{},\n\t\t\t[ ...this.rootEpics.createEpics() ],\n\t\t\tdevTools.isEnabled() ? [ devTools.enhancer() ] : []);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/store/store.module.ts","import { Injectable } from '@angular/core';\n\nimport { CanvasEpics } from '../canvas/canvas.epics';\nimport { ColorPickerEpics } from '../color/color.epics';\nimport { ToolboxEpics } from '../toolbox/toolbox.epics';\n\n@Injectable()\nexport class RootEpics {\n\tconstructor(\n\t\tprivate toolboxEpics: ToolboxEpics,\n\t\tprivate canvasEpics: CanvasEpics,\n\t\tprivate colorPickerEpics: ColorPickerEpics) { }\n\n\tpublic createEpics() {\n\t\treturn [\n\t\t\t...this.toolboxEpics.createEpics(),\n\t\t\t...this.canvasEpics.createEpics(),\n\t\t\t...this.colorPickerEpics.createEpics(),\n\t\t];\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/store/epics.ts","import { List } from 'immutable';\n\nimport { ActionFromEvent, RegisteredListener } from '../../canvas/canvas.model';\nimport { ToolBase } from '../tool/tool.model';\nimport { ToolName } from '../toolbox.model';\nimport { CanvastoolActions } from './canvastool.action';\n\nexport const createCanvastool = (): ToolBase => {\n\tconst actions = new CanvastoolActions();\n\n\tconst mouseDownOnCanvas: ActionFromEvent = (e: MouseEvent) => {\n\t\treturn actions.mouseDownOnCanvasAction({ x: e.clientX, y: e.clientY });\n\t};\n\n\tconst mouseMoveOnCanvas: ActionFromEvent = (e: MouseEvent) => {\n\t\treturn actions.moveCursorOnCanvasAction({ x: e.clientX, y: e.clientY });\n\t};\n\n\tconst mouseUpOnCanvas: ActionFromEvent = (e: MouseEvent) => {\n\t\treturn actions.mouseUpOnCanvasAction({ x: e.clientX, y: e.clientY });\n\t};\n\n\treturn new ToolBase({\n\t\tname: ToolName.Canvastool,\n\t\tlisteners: List<RegisteredListener>([\n\t\t\t{ name: 'mousedown', handler: mouseDownOnCanvas, target: 'canvas' },\n\t\t\t{ name: 'mousemove', handler: mouseMoveOnCanvas, target: 'canvas' },\n\t\t\t{ name: 'mouseup', handler: mouseUpOnCanvas, target: 'canvas' },\n\t\t]),\n\t});\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/toolbox/canvastool/canvastool.model.ts","import { List } from 'immutable';\n\nimport { RegisteredListener } from '../../canvas/canvas.model';\nimport { ToolBase } from '../tool/tool.model';\nimport { ToolName } from '../toolbox.model';\n\nexport const createDirectSelectiontool = (): ToolBase => {\n\treturn new ToolBase({\n\t\tname: ToolName.DirectSelectiontool,\n\t\tlisteners: List<RegisteredListener>([]),\n\t});\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/toolbox/directtool/directtool.model.ts","import { List, Map } from 'immutable';\n\nimport { ActionFromEvent, RegisteredListener } from '../../canvas/canvas.model';\nimport { ToolBase } from '../tool/tool.model';\nimport { ToolName } from '../toolbox.model';\nimport { PentoolActions } from './pentool.action';\n\nexport const createPentool = (): ToolBase => {\n\tconst actions = new PentoolActions();\n\n\tconst mouseDownOnCanvas: ActionFromEvent = (e: MouseEvent) =>\n\t\tactions.mouseDownOnCanvasAction({ x: e.clientX, y: e.clientY });\n\n\tconst mouseUpOnCanvas: ActionFromEvent = (e: MouseEvent) =>\n\t\tactions.mouseUpOnCanvasAction({ x: e.clientX, y: e.clientY });\n\n\tconst mouseMoveOnCanvas: ActionFromEvent = (e: MouseEvent) =>\n\t\tactions.moveCursorOnCanvasAction({ x: e.clientX, y: e.clientY });\n\n\tconst mouseDownOnHeadAnchor: ActionFromEvent = (e: MouseEvent, { triggeringDrawable }) => {\n\t\t// e.stopPropagation();\n\t\tconst pathFromRoot = triggeringDrawable.routeParentPath.toArray();\n\t\treturn actions.mouseDownOnAnchorAction(pathFromRoot, triggeringDrawable.idx);\n\t};\n\n\treturn new ToolBase({\n\t\tname: ToolName.Pentool,\n\t\tlisteners: List<RegisteredListener>([\n\t\t\t{ name: 'mousedown', handler: mouseDownOnCanvas, target: 'canvas' },\n\t\t\t{ name: 'mouseup', handler: mouseUpOnCanvas, target: 'canvas' },\n\t\t\t{ name: 'mousemove', handler: mouseMoveOnCanvas, target: 'canvas' },\n\t\t\t{ name: 'mousedown', handler: mouseDownOnHeadAnchor, target: 'anchor' },\n\t\t]),\n\t\tothers: Map({ activePathIn: List([]) }),\n\t});\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/toolbox/pentool/pentool.model.ts","import { combineReducers } from 'redux';\nimport { canvasReducer } from '../canvas/canvas.reducer';\nimport { colorPickerReducer } from '../color/color.reducer';\nimport { toolboxReducer } from '../toolbox/toolbox.reducer';\n\nexport const rootReducer = combineReducers({\n\tcanvas: canvasReducer,\n\ttoolbox: toolboxReducer,\n\tcolor: colorPickerReducer,\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/store/reducer.ts","import { Action, Reducer } from 'redux';\nimport { ToolboxState } from '../toolbox.model';\n\nexport const canvastoolReducer: Reducer<ToolboxState> = (state: ToolboxState, action: Action) => {\n\treturn state;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/toolbox/canvastool/canvastool.reducer.ts","import { List } from 'immutable';\nimport { Action, Reducer } from 'redux';\n\nimport { ToolboxState } from '../toolbox.model';\nimport { IChangeActivePathAction, PentoolActionType } from './pentool.action';\n\nexport const pentoolReducer: Reducer<ToolboxState> = (state: ToolboxState, action: Action) => {\n\tswitch (action.type) {\n\t\tcase PentoolActionType.PENTOOL_CHANGE_ACTIVE_PATH:\n\t\t\tconst changeActiveAction = <IChangeActivePathAction>action;\n\t\t\treturn <ToolboxState>state.setIn(['selected', 'others', 'activePathIn'], List(changeActiveAction.payload));\n\t}\n\treturn state;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/toolbox/pentool/pentool.reducer.ts","import { Action, Reducer } from 'redux';\nimport { ToolboxState } from '../toolbox.model';\n\nexport const selectiontoolReducer: Reducer<ToolboxState> = (state: ToolboxState, action: Action) => {\n\treturn state;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/toolbox/selectiontool/selectiontool.reducer.ts","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { CanvastoolComponent } from './canvastool/canvastool.component';\nimport { CanvastoolEpics } from './canvastool/canvastool.epics';\nimport { DirectSelectiontoolComponent } from './directtool/directtool.component';\nimport { DirectSelectiontoolEpics } from './directtool/directtool.epics';\nimport { PentoolDrawEpics } from './pentool/epics/pentool.draw.epics';\nimport { PentoolEpics } from './pentool/epics/pentool.epics';\nimport { PentoolActions } from './pentool/pentool.action';\nimport { PentoolComponent } from './pentool/pentool.component';\nimport { SelectiontoolActions } from './selectiontool/selectiontool.action';\nimport { SelectiontoolComponent } from './selectiontool/selectiontool.component';\nimport { SelectiontoolEpics } from './selectiontool/selectiontool.epics';\nimport { ToolContainerComponent } from './tool/tool.container.component';\nimport { ToolDirective } from './tool/tool.directive';\nimport { ToolboxActions } from './toolbox.action';\nimport { ToolboxComponent } from './toolbox.component';\nimport { ToolboxEpics } from './toolbox.epics';\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t],\n\tdeclarations: [\n\t\tToolboxComponent,\n\t\tToolContainerComponent,\n\t\tPentoolComponent,\n\t\tSelectiontoolComponent,\n\t\tToolDirective,\n\t\tCanvastoolComponent,\n\t\tDirectSelectiontoolComponent,\n\t],\n\tentryComponents: [\n\t\tPentoolComponent,\n\t\tSelectiontoolComponent,\n\t\tCanvastoolComponent,\n\t\tDirectSelectiontoolComponent,\n\t],\n\tproviders: [\n\t\tCanvastoolEpics,\n\t\tToolboxActions,\n\t\tToolboxEpics,\n\t\tPentoolActions,\n\t\tPentoolEpics,\n\t\tPentoolDrawEpics,\n\t\tSelectiontoolEpics,\n\t\tSelectiontoolActions,\n\t\tDirectSelectiontoolEpics,\n\t],\n\texports: [\n\t\tToolboxComponent,\n\t],\n})\nexport class ToolboxModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/toolbox/toolbox.module.ts","module.exports = \"<div class=\\\"canvastool\\\" (click)=\\\"selectTool()\\\">\\n\\t<div class=\\\"canvastool__icon\\\" [ngClass]=\\\"{ 'icon--active': context.isActive }\\\"></div>\\n</div>\\n\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/toolbox/canvastool/canvastool.component.html\n// module id = 381\n// module chunks = 0","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".canvastool {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  cursor: pointer;\\n  width: 100%;\\n  height: 100%; }\\n  .canvastool .canvastool__icon {\\n    width: 20px;\\n    height: 20px;\\n    background-image: url(\" + require(\"../../../assets/img/inactive/canvastool_inactive.svg\") + \");\\n    background-size: contain;\\n    background-repeat: no-repeat;\\n    background-position: center; }\\n    .canvastool .canvastool__icon.icon--active {\\n      background-image: url(\" + require(\"../../../assets/img/active/canvastool_active.svg\") + \"); }\\n\\n:host {\\n  width: 100%;\\n  height: 100%; }\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/toolbox/canvastool/canvastool.component.scss\n// module id = 382\n// module chunks = 0","module.exports = __webpack_public_path__ + \"canvastool_inactive.08e95c4449f62d534c55.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/img/inactive/canvastool_inactive.svg\n// module id = 383\n// module chunks = 0","module.exports = __webpack_public_path__ + \"canvastool_active.f5ae7466ed1820b4e7f5.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/img/active/canvastool_active.svg\n// module id = 384\n// module chunks = 0","module.exports = \"<div class=\\\"directtool\\\" (click)=\\\"selectTool()\\\">\\n    <div class=\\\"directtool__icon\\\" [ngClass]=\\\"{ 'icon--active': context.isActive }\\\"></div>\\n  </div>\\n  \";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/toolbox/directtool/directtool.component.html\n// module id = 385\n// module chunks = 0","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".directtool {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  cursor: pointer;\\n  width: 100%;\\n  height: 100%; }\\n  .directtool .directtool__icon {\\n    width: 25px;\\n    height: 25px;\\n    background-image: url(\" + require(\"../../../assets/img/inactive/direct_inactive.svg\") + \");\\n    background-size: contain;\\n    background-repeat: no-repeat;\\n    background-position: center; }\\n    .directtool .directtool__icon.icon--active {\\n      background-image: url(\" + require(\"../../../assets/img/active/direct_active.svg\") + \"); }\\n\\n:host {\\n  width: 100%;\\n  height: 100%; }\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/toolbox/directtool/directtool.component.scss\n// module id = 386\n// module chunks = 0","module.exports = __webpack_public_path__ + \"direct_inactive.01b6d7b9ba41b8757999.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/img/inactive/direct_inactive.svg\n// module id = 387\n// module chunks = 0","module.exports = __webpack_public_path__ + \"direct_active.324478f77a07bb8e8968.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/img/active/direct_active.svg\n// module id = 388\n// module chunks = 0","module.exports = \"<div class=\\\"pentool\\\" (click)=\\\"selectTool()\\\">\\n\\t<div class=\\\"pentool__icon\\\" [ngClass]=\\\"{ 'icon--active': context.isActive }\\\"></div>\\n</div>\\n\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/toolbox/pentool/pentool.component.html\n// module id = 389\n// module chunks = 0","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".pentool {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  cursor: pointer;\\n  width: 100%;\\n  height: 100%; }\\n  .pentool .pentool__icon {\\n    width: 25px;\\n    height: 25px;\\n    background-image: url(\" + require(\"../../../assets/img/inactive/pentool_inactive.svg\") + \");\\n    background-size: contain;\\n    background-repeat: no-repeat;\\n    background-position: center; }\\n    .pentool .pentool__icon.icon--active {\\n      background-image: url(\" + require(\"../../../assets/img/active/pentool_active.svg\") + \"); }\\n\\n:host {\\n  width: 100%;\\n  height: 100%; }\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/toolbox/pentool/pentool.component.scss\n// module id = 390\n// module chunks = 0","module.exports = __webpack_public_path__ + \"pentool_inactive.feb8b6ff92587d552a8d.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/img/inactive/pentool_inactive.svg\n// module id = 391\n// module chunks = 0","module.exports = __webpack_public_path__ + \"pentool_active.a2f4844f52be4b6e480c.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/img/active/pentool_active.svg\n// module id = 392\n// module chunks = 0","module.exports = \"<div class=\\\"selectiontool\\\" (click)=\\\"selectTool()\\\">\\n\\t<div class=\\\"selectiontool__icon\\\" [ngClass]=\\\"{ 'icon--active': context.isActive }\\\"></div>\\n</div>\\n\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/toolbox/selectiontool/selectiontool.component.html\n// module id = 393\n// module chunks = 0","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".selectiontool {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  cursor: pointer;\\n  width: 100%;\\n  height: 100%; }\\n  .selectiontool .selectiontool__icon {\\n    width: 25px;\\n    height: 25px;\\n    background-image: url(\" + require(\"../../../assets/img/inactive/selectiontool_inactive.svg\") + \");\\n    background-size: contain;\\n    background-repeat: no-repeat;\\n    background-position: 75% 50%; }\\n    .selectiontool .selectiontool__icon.icon--active {\\n      background-image: url(\" + require(\"../../../assets/img/active/selectiontool_active.svg\") + \"); }\\n\\n:host {\\n  width: 100%;\\n  height: 100%; }\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/toolbox/selectiontool/selectiontool.component.scss\n// module id = 394\n// module chunks = 0","module.exports = __webpack_public_path__ + \"selectiontool_inactive.17b16e2703000162f805.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/img/inactive/selectiontool_inactive.svg\n// module id = 395\n// module chunks = 0","module.exports = __webpack_public_path__ + \"selectiontool_active.dc9c767d2d05a6e9dfd2.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/img/active/selectiontool_active.svg\n// module id = 396\n// module chunks = 0","import {\n\tApplicationRef,\n\tComponent,\n\tComponentFactoryResolver,\n\tComponentRef,\n\tDoCheck,\n\tElementRef,\n\tInjector,\n\tInput,\n\tOnDestroy,\n\tOnInit,\n\tViewChild,\n\tViewContainerRef,\n} from '@angular/core';\n\nimport { CanvastoolComponent } from '../canvastool/canvastool.component';\nimport { DirectSelectiontoolComponent } from '../directtool/directtool.component';\nimport { PentoolComponent } from '../pentool/pentool.component';\nimport { SelectiontoolComponent } from '../selectiontool/selectiontool.component';\nimport { ToolName } from '../toolbox.model';\nimport { IToolContext, ToolBaseComponent } from './tool.base.component';\nimport { ToolDirective } from './tool.directive';\n\nconst mappings = {\n\t[ToolName.Pentool]: PentoolComponent,\n\t[ToolName.Selectiontool]: SelectiontoolComponent,\n\t[ToolName.Canvastool]: CanvastoolComponent,\n\t[ToolName.DirectSelectiontool]: DirectSelectiontoolComponent,\n};\n\nconst getComponentType = (typeName: ToolName) => {\n\tconst type = mappings[typeName];\n\treturn type;\n};\n\n@Component({\n\tselector: 'app-tool-container',\n\ttemplateUrl: './tool.container.component.html',\n\tstyleUrls: ['./tool.container.component.scss'],\n})\nexport class ToolContainerComponent implements OnInit, OnDestroy, DoCheck {\n\tcomponentRef: ComponentRef<ToolBaseComponent>;\n\tinstance: ToolBaseComponent;\n\t@ViewChild(ToolDirective, { read: ViewContainerRef }) toolHost: ViewContainerRef;\n\t@Input() context: IToolContext;\n\t@Input() type: ToolName;\n\tappElementRef: ElementRef; // To be used by rendered tool\n\n\tconstructor(\n\t\tprivate componentFactoryResolver: ComponentFactoryResolver,\n\t\tapplicationRef: ApplicationRef,\n\t\tinjector?: Injector) {\n\t\tthis.appElementRef = injector.get(applicationRef.componentTypes[0]).root;\n\t}\n\n\tngOnInit() {\n\t\tif (this.type) {\n\t\t\tconst componentType = getComponentType(this.type);\n\t\t\tconst factory = this.componentFactoryResolver.resolveComponentFactory<ToolBaseComponent>(componentType);\n\t\t\tthis.componentRef = this.toolHost.createComponent(factory);\n\t\t\tthis.instance = <ToolBaseComponent>this.componentRef.instance;\n\t\t\tthis.instance.context = this.context;\n\t\t\tthis.instance.appElementRef = this.appElementRef;\n\t\t}\n\t}\n\n\tngDoCheck() {\n\t\tthis.instance.context = this.context;\n\t}\n\n\tngOnDestroy() {\n\t\tif (this.componentRef) {\n\t\t\tthis.componentRef.destroy();\n\t\t\tthis.componentRef = undefined;\n\t\t}\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/toolbox/tool/tool.container.component.ts","module.exports = \"<div class=\\\"tool\\\" [ngClass]=\\\"{ 'tool--active': context.isActive }\\\">\\n\\t<ng-template appToolHost></ng-template>\\n</div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/toolbox/tool/tool.container.component.html\n// module id = 398\n// module chunks = 0","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".tool {\\n  width: 60px;\\n  height: 60px;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  background: #FEFEFE;\\n  border-radius: 5px;\\n  margin: 10px;\\n  box-shadow: 0 0 1px rgba(0, 0, 0, 0.2);\\n  transition: box-shadow .25s ease, transform .4s ease-out; }\\n  .tool:hover {\\n    box-shadow: 0 5px 30px -5px rgba(0, 122, 255, 0.5);\\n    background: white;\\n    transform: scale(1.01) translateY(-1px); }\\n  .tool.tool--active {\\n    background: linear-gradient(to right, #007aff -20%, #5ac8fa 120%);\\n    font-weight: 500;\\n    color: white; }\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/toolbox/tool/tool.container.component.scss\n// module id = 399\n// module chunks = 0","import { select, WithSubStore } from '@angular-redux/store';\nimport { Component, ViewEncapsulation } from '@angular/core';\nimport { Observable } from 'rxjs/Observable';\n\nimport { ToolName } from './toolbox.model';\nimport { toolboxReducer } from './toolbox.reducer';\n\n@WithSubStore({\n\tbasePathMethodName: 'getSubPath',\n\tlocalReducer: toolboxReducer,\n})\n@Component({\n\tselector: 'app-toolbox',\n\ttemplateUrl: './toolbox.component.html',\n\tstyleUrls: ['./toolbox.component.scss'],\n\tencapsulation: ViewEncapsulation.None,\n})\nexport class ToolboxComponent {\n\tpublic toolList = [\n\t\tToolName.Selectiontool,\n\t\tToolName.DirectSelectiontool,\n\t\tToolName.Pentool,\n\t\tToolName.Canvastool,\n\t];\n\t@select(['selected', 'name']) readonly selected$: Observable<ToolName>;\n\n\tgetSubPath = () => ['toolbox'];\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/toolbox/toolbox.component.ts","module.exports = \"<div class=\\\"toolbox\\\">\\n  <app-tool-container *ngFor=\\\"let tool of toolList\\\" [type]=\\\"tool\\\" [context]=\\\"{ toolName: tool, isActive: tool === (selected$ | async) }\\\"></app-tool-container>\\n</div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/toolbox/toolbox.component.html\n// module id = 401\n// module chunks = 0","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".toolbox {\\n  position: fixed;\\n  top: 100px;\\n  left: 0;\\n  padding: 5px;\\n  background: rgba(250, 250, 252, 0.85);\\n  box-shadow: 0 10px 40px -10px rgba(0, 0, 0, 0.3);\\n  border: 1px solid #FDFDFD;\\n  border-top-right-radius: 10px;\\n  border-bottom-right-radius: 10px;\\n  user-select: none;\\n  cursor: default; }\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/toolbox/toolbox.component.scss\n// module id = 402\n// module chunks = 0","// import { HomeComponent } from './components/home/home.component';\nimport { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nconst routes: Routes = [\n  // {\n  //   path: '',\n  //   component: HomeComponent,\n  // },\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes, {useHash: true})],\n  exports: [RouterModule],\n})\nexport class AppRoutingModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app-routing.module.ts","// This file contains development variables. (When you work in DEV MODE)\n// This file is use by webpack. Please don't rename it and don't move it to another directory.\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/index.ts"],"sourceRoot":""}